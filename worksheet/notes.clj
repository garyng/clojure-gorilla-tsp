;; gorilla-repl.fileformat = 1

;; **
;;; # Clojure Notes
;; **

;; @@
(ns mirthful-badlands
  (:require [gorilla-plot.core :as plot]
            [clojure.math.combinatorics :as combo]
            [clojure.math.numeric-tower :as math]))
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-nil'>nil</span>","value":"nil"}
;; <=

;; **
;;; # Travelling Salesman Problem
;; **

;; **
;;; ## Brute Force Algorithm
;;; 
;;; 1. generate all possible tours
;;; 1. calculate the tour length
;;; 1. select the tour with smallest tour length
;; **

;; @@
(declare shortest-tour
         all-tours)

(defn brute-force-tsp [cities]
  (shortest-tour (all-tours cities)))
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-var'>#&#x27;mirthful-badlands/brute-force-tsp</span>","value":"#'mirthful-badlands/brute-force-tsp"}
;; <=

;; **
;;; ### Generating all tours
;; **

;; @@
(defn all-tours-rep [cities]
  (combo/permutations cities))
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-var'>#&#x27;mirthful-badlands/all-tours-rep</span>","value":"#'mirthful-badlands/all-tours-rep"}
;; <=

;; @@
(all-tours-rep [1 2 3 4])
;; @@
;; =>
;;; {"type":"list-like","open":"<span class='clj-lazy-seq'>(</span>","close":"<span class='clj-lazy-seq'>)</span>","separator":" ","items":[{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-long'>1</span>","value":"1"},{"type":"html","content":"<span class='clj-long'>2</span>","value":"2"},{"type":"html","content":"<span class='clj-long'>3</span>","value":"3"},{"type":"html","content":"<span class='clj-long'>4</span>","value":"4"}],"value":"[1 2 3 4]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-long'>1</span>","value":"1"},{"type":"html","content":"<span class='clj-long'>2</span>","value":"2"},{"type":"html","content":"<span class='clj-long'>4</span>","value":"4"},{"type":"html","content":"<span class='clj-long'>3</span>","value":"3"}],"value":"[1 2 4 3]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-long'>1</span>","value":"1"},{"type":"html","content":"<span class='clj-long'>3</span>","value":"3"},{"type":"html","content":"<span class='clj-long'>2</span>","value":"2"},{"type":"html","content":"<span class='clj-long'>4</span>","value":"4"}],"value":"[1 3 2 4]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-long'>1</span>","value":"1"},{"type":"html","content":"<span class='clj-long'>3</span>","value":"3"},{"type":"html","content":"<span class='clj-long'>4</span>","value":"4"},{"type":"html","content":"<span class='clj-long'>2</span>","value":"2"}],"value":"[1 3 4 2]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-long'>1</span>","value":"1"},{"type":"html","content":"<span class='clj-long'>4</span>","value":"4"},{"type":"html","content":"<span class='clj-long'>2</span>","value":"2"},{"type":"html","content":"<span class='clj-long'>3</span>","value":"3"}],"value":"[1 4 2 3]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-long'>1</span>","value":"1"},{"type":"html","content":"<span class='clj-long'>4</span>","value":"4"},{"type":"html","content":"<span class='clj-long'>3</span>","value":"3"},{"type":"html","content":"<span class='clj-long'>2</span>","value":"2"}],"value":"[1 4 3 2]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-long'>2</span>","value":"2"},{"type":"html","content":"<span class='clj-long'>1</span>","value":"1"},{"type":"html","content":"<span class='clj-long'>3</span>","value":"3"},{"type":"html","content":"<span class='clj-long'>4</span>","value":"4"}],"value":"[2 1 3 4]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-long'>2</span>","value":"2"},{"type":"html","content":"<span class='clj-long'>1</span>","value":"1"},{"type":"html","content":"<span class='clj-long'>4</span>","value":"4"},{"type":"html","content":"<span class='clj-long'>3</span>","value":"3"}],"value":"[2 1 4 3]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-long'>2</span>","value":"2"},{"type":"html","content":"<span class='clj-long'>3</span>","value":"3"},{"type":"html","content":"<span class='clj-long'>1</span>","value":"1"},{"type":"html","content":"<span class='clj-long'>4</span>","value":"4"}],"value":"[2 3 1 4]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-long'>2</span>","value":"2"},{"type":"html","content":"<span class='clj-long'>3</span>","value":"3"},{"type":"html","content":"<span class='clj-long'>4</span>","value":"4"},{"type":"html","content":"<span class='clj-long'>1</span>","value":"1"}],"value":"[2 3 4 1]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-long'>2</span>","value":"2"},{"type":"html","content":"<span class='clj-long'>4</span>","value":"4"},{"type":"html","content":"<span class='clj-long'>1</span>","value":"1"},{"type":"html","content":"<span class='clj-long'>3</span>","value":"3"}],"value":"[2 4 1 3]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-long'>2</span>","value":"2"},{"type":"html","content":"<span class='clj-long'>4</span>","value":"4"},{"type":"html","content":"<span class='clj-long'>3</span>","value":"3"},{"type":"html","content":"<span class='clj-long'>1</span>","value":"1"}],"value":"[2 4 3 1]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-long'>3</span>","value":"3"},{"type":"html","content":"<span class='clj-long'>1</span>","value":"1"},{"type":"html","content":"<span class='clj-long'>2</span>","value":"2"},{"type":"html","content":"<span class='clj-long'>4</span>","value":"4"}],"value":"[3 1 2 4]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-long'>3</span>","value":"3"},{"type":"html","content":"<span class='clj-long'>1</span>","value":"1"},{"type":"html","content":"<span class='clj-long'>4</span>","value":"4"},{"type":"html","content":"<span class='clj-long'>2</span>","value":"2"}],"value":"[3 1 4 2]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-long'>3</span>","value":"3"},{"type":"html","content":"<span class='clj-long'>2</span>","value":"2"},{"type":"html","content":"<span class='clj-long'>1</span>","value":"1"},{"type":"html","content":"<span class='clj-long'>4</span>","value":"4"}],"value":"[3 2 1 4]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-long'>3</span>","value":"3"},{"type":"html","content":"<span class='clj-long'>2</span>","value":"2"},{"type":"html","content":"<span class='clj-long'>4</span>","value":"4"},{"type":"html","content":"<span class='clj-long'>1</span>","value":"1"}],"value":"[3 2 4 1]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-long'>3</span>","value":"3"},{"type":"html","content":"<span class='clj-long'>4</span>","value":"4"},{"type":"html","content":"<span class='clj-long'>1</span>","value":"1"},{"type":"html","content":"<span class='clj-long'>2</span>","value":"2"}],"value":"[3 4 1 2]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-long'>3</span>","value":"3"},{"type":"html","content":"<span class='clj-long'>4</span>","value":"4"},{"type":"html","content":"<span class='clj-long'>2</span>","value":"2"},{"type":"html","content":"<span class='clj-long'>1</span>","value":"1"}],"value":"[3 4 2 1]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-long'>4</span>","value":"4"},{"type":"html","content":"<span class='clj-long'>1</span>","value":"1"},{"type":"html","content":"<span class='clj-long'>2</span>","value":"2"},{"type":"html","content":"<span class='clj-long'>3</span>","value":"3"}],"value":"[4 1 2 3]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-long'>4</span>","value":"4"},{"type":"html","content":"<span class='clj-long'>1</span>","value":"1"},{"type":"html","content":"<span class='clj-long'>3</span>","value":"3"},{"type":"html","content":"<span class='clj-long'>2</span>","value":"2"}],"value":"[4 1 3 2]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-long'>4</span>","value":"4"},{"type":"html","content":"<span class='clj-long'>2</span>","value":"2"},{"type":"html","content":"<span class='clj-long'>1</span>","value":"1"},{"type":"html","content":"<span class='clj-long'>3</span>","value":"3"}],"value":"[4 2 1 3]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-long'>4</span>","value":"4"},{"type":"html","content":"<span class='clj-long'>2</span>","value":"2"},{"type":"html","content":"<span class='clj-long'>3</span>","value":"3"},{"type":"html","content":"<span class='clj-long'>1</span>","value":"1"}],"value":"[4 2 3 1]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-long'>4</span>","value":"4"},{"type":"html","content":"<span class='clj-long'>3</span>","value":"3"},{"type":"html","content":"<span class='clj-long'>1</span>","value":"1"},{"type":"html","content":"<span class='clj-long'>2</span>","value":"2"}],"value":"[4 3 1 2]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-long'>4</span>","value":"4"},{"type":"html","content":"<span class='clj-long'>3</span>","value":"3"},{"type":"html","content":"<span class='clj-long'>2</span>","value":"2"},{"type":"html","content":"<span class='clj-long'>1</span>","value":"1"}],"value":"[4 3 2 1]"}],"value":"([1 2 3 4] [1 2 4 3] [1 3 2 4] [1 3 4 2] [1 4 2 3] [1 4 3 2] [2 1 3 4] [2 1 4 3] [2 3 1 4] [2 3 4 1] [2 4 1 3] [2 4 3 1] [3 1 2 4] [3 1 4 2] [3 2 1 4] [3 2 4 1] [3 4 1 2] [3 4 2 1] [4 1 2 3] [4 1 3 2] [4 2 1 3] [4 2 3 1] [4 3 1 2] [4 3 2 1])"}
;; <=

;; **
;;; `[1 2 3 4]` is same as `[2 3 4 1]`, `[3 4 1 2]` etc. So to optimize it, we restrict all of the tours to start from the first element of the sequence
;;; 
;;; 
;;; 
;;; `cons`, `conj`, `concat`: https://medium.com/@greg_63957/conj-cons-concat-oh-my-1398a2981eab
;; **

;; @@
(defn all-tours [cities]
  (map #(into [(first cities)] (vec %1))
       (combo/permutations (rest cities))))
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-var'>#&#x27;mirthful-badlands/all-tours</span>","value":"#'mirthful-badlands/all-tours"}
;; <=

;; @@
(all-tours [1 2 3 4])
;; @@
;; =>
;;; {"type":"list-like","open":"<span class='clj-lazy-seq'>(</span>","close":"<span class='clj-lazy-seq'>)</span>","separator":" ","items":[{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-long'>1</span>","value":"1"},{"type":"html","content":"<span class='clj-long'>2</span>","value":"2"},{"type":"html","content":"<span class='clj-long'>3</span>","value":"3"},{"type":"html","content":"<span class='clj-long'>4</span>","value":"4"}],"value":"[1 2 3 4]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-long'>1</span>","value":"1"},{"type":"html","content":"<span class='clj-long'>2</span>","value":"2"},{"type":"html","content":"<span class='clj-long'>4</span>","value":"4"},{"type":"html","content":"<span class='clj-long'>3</span>","value":"3"}],"value":"[1 2 4 3]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-long'>1</span>","value":"1"},{"type":"html","content":"<span class='clj-long'>3</span>","value":"3"},{"type":"html","content":"<span class='clj-long'>2</span>","value":"2"},{"type":"html","content":"<span class='clj-long'>4</span>","value":"4"}],"value":"[1 3 2 4]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-long'>1</span>","value":"1"},{"type":"html","content":"<span class='clj-long'>3</span>","value":"3"},{"type":"html","content":"<span class='clj-long'>4</span>","value":"4"},{"type":"html","content":"<span class='clj-long'>2</span>","value":"2"}],"value":"[1 3 4 2]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-long'>1</span>","value":"1"},{"type":"html","content":"<span class='clj-long'>4</span>","value":"4"},{"type":"html","content":"<span class='clj-long'>2</span>","value":"2"},{"type":"html","content":"<span class='clj-long'>3</span>","value":"3"}],"value":"[1 4 2 3]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-long'>1</span>","value":"1"},{"type":"html","content":"<span class='clj-long'>4</span>","value":"4"},{"type":"html","content":"<span class='clj-long'>3</span>","value":"3"},{"type":"html","content":"<span class='clj-long'>2</span>","value":"2"}],"value":"[1 4 3 2]"}],"value":"([1 2 3 4] [1 2 4 3] [1 3 2 4] [1 3 4 2] [1 4 2 3] [1 4 3 2])"}
;; <=

;; **
;;; ### Representing Cities
;;; 
;;; Cities are repesented using `x` and `y` coordinates.
;;; 
;;; 
;;; `defrecord`: https://clojuredocs.org/clojure.core/defrecord
;; **

;; @@
(defrecord City [x y])

;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-class'>mirthful_badlands.City</span>","value":"mirthful_badlands.City"}
;; <=

;; **
;;; Example of using `City`
;; **

;; @@
[(City. 10 20) (City. 1 2)]
;; @@
;; =>
;;; {"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:x</span>","value":":x"},{"type":"html","content":"<span class='clj-long'>10</span>","value":"10"}],"value":"[:x 10]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:y</span>","value":":y"},{"type":"html","content":"<span class='clj-long'>20</span>","value":"20"}],"value":"[:y 20]"}],"value":"#mirthful_badlands.City{:x 10, :y 20}"},{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:x</span>","value":":x"},{"type":"html","content":"<span class='clj-long'>1</span>","value":"1"}],"value":"[:x 1]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:y</span>","value":":y"},{"type":"html","content":"<span class='clj-long'>2</span>","value":"2"}],"value":"[:y 2]"}],"value":"#mirthful_badlands.City{:x 1, :y 2}"}],"value":"[#mirthful_badlands.City{:x 10, :y 20} #mirthful_badlands.City{:x 1, :y 2}]"}
;; <=

;; **
;;; Accessing fields
;; **

;; @@
(let [a (City. 10 20)]
  [(:x a) (:y a)])
;; @@
;; =>
;;; {"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-long'>10</span>","value":"10"},{"type":"html","content":"<span class='clj-long'>20</span>","value":"20"}],"value":"[10 20]"}
;; <=

;; **
;;; ### Calculating distance between cities
;;; 
;;; Straight-line distance/Euclidean distance is calculated using the x and y coordinates of a City.
;; **

;; @@
(defn distance [a b]
  (let [dist-x (- (:x a) (:x b))
        dist-y (- (:y a) (:y b))]
    (math/sqrt (+ (math/expt dist-x 2)
                  (math/expt dist-y 2)))))
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-var'>#&#x27;mirthful-badlands/distance</span>","value":"#'mirthful-badlands/distance"}
;; <=

;; @@
(distance (City. 3 0) (City. 0 4))
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-long'>5</span>","value":"5"}
;; <=

;; **
;;; ### Generating random cities
;; **

;; **
;;; `defn` with optional/keys: https://clojuredocs.org/clojure.core/defn
;; **

;; @@
(defn random-cities 
  [count & {:keys [max-x max-y] :or {max-x 900 max-y 600}}]
  (for [i (range count)]
    (City. (rand-int max-x) (rand-int max-y))))
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-var'>#&#x27;mirthful-badlands/random-cities</span>","value":"#'mirthful-badlands/random-cities"}
;; <=

;; @@
(random-cities 10)
;; @@
;; =>
;;; {"type":"list-like","open":"<span class='clj-lazy-seq'>(</span>","close":"<span class='clj-lazy-seq'>)</span>","separator":" ","items":[{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:x</span>","value":":x"},{"type":"html","content":"<span class='clj-unkown'>619</span>","value":"619"}],"value":"[:x 619]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:y</span>","value":":y"},{"type":"html","content":"<span class='clj-unkown'>391</span>","value":"391"}],"value":"[:y 391]"}],"value":"#mirthful_badlands.City{:x 619, :y 391}"},{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:x</span>","value":":x"},{"type":"html","content":"<span class='clj-unkown'>519</span>","value":"519"}],"value":"[:x 519]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:y</span>","value":":y"},{"type":"html","content":"<span class='clj-unkown'>292</span>","value":"292"}],"value":"[:y 292]"}],"value":"#mirthful_badlands.City{:x 519, :y 292}"},{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:x</span>","value":":x"},{"type":"html","content":"<span class='clj-unkown'>876</span>","value":"876"}],"value":"[:x 876]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:y</span>","value":":y"},{"type":"html","content":"<span class='clj-unkown'>223</span>","value":"223"}],"value":"[:y 223]"}],"value":"#mirthful_badlands.City{:x 876, :y 223}"},{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:x</span>","value":":x"},{"type":"html","content":"<span class='clj-unkown'>756</span>","value":"756"}],"value":"[:x 756]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:y</span>","value":":y"},{"type":"html","content":"<span class='clj-unkown'>196</span>","value":"196"}],"value":"[:y 196]"}],"value":"#mirthful_badlands.City{:x 756, :y 196}"},{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:x</span>","value":":x"},{"type":"html","content":"<span class='clj-unkown'>772</span>","value":"772"}],"value":"[:x 772]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:y</span>","value":":y"},{"type":"html","content":"<span class='clj-unkown'>444</span>","value":"444"}],"value":"[:y 444]"}],"value":"#mirthful_badlands.City{:x 772, :y 444}"},{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:x</span>","value":":x"},{"type":"html","content":"<span class='clj-unkown'>553</span>","value":"553"}],"value":"[:x 553]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:y</span>","value":":y"},{"type":"html","content":"<span class='clj-unkown'>549</span>","value":"549"}],"value":"[:y 549]"}],"value":"#mirthful_badlands.City{:x 553, :y 549}"},{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:x</span>","value":":x"},{"type":"html","content":"<span class='clj-unkown'>648</span>","value":"648"}],"value":"[:x 648]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:y</span>","value":":y"},{"type":"html","content":"<span class='clj-unkown'>540</span>","value":"540"}],"value":"[:y 540]"}],"value":"#mirthful_badlands.City{:x 648, :y 540}"},{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:x</span>","value":":x"},{"type":"html","content":"<span class='clj-unkown'>157</span>","value":"157"}],"value":"[:x 157]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:y</span>","value":":y"},{"type":"html","content":"<span class='clj-unkown'>296</span>","value":"296"}],"value":"[:y 296]"}],"value":"#mirthful_badlands.City{:x 157, :y 296}"},{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:x</span>","value":":x"},{"type":"html","content":"<span class='clj-unkown'>672</span>","value":"672"}],"value":"[:x 672]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:y</span>","value":":y"},{"type":"html","content":"<span class='clj-unkown'>261</span>","value":"261"}],"value":"[:y 261]"}],"value":"#mirthful_badlands.City{:x 672, :y 261}"},{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:x</span>","value":":x"},{"type":"html","content":"<span class='clj-unkown'>67</span>","value":"67"}],"value":"[:x 67]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:y</span>","value":":y"},{"type":"html","content":"<span class='clj-unkown'>219</span>","value":"219"}],"value":"[:y 219]"}],"value":"#mirthful_badlands.City{:x 67, :y 219}"}],"value":"(#mirthful_badlands.City{:x 619, :y 391} #mirthful_badlands.City{:x 519, :y 292} #mirthful_badlands.City{:x 876, :y 223} #mirthful_badlands.City{:x 756, :y 196} #mirthful_badlands.City{:x 772, :y 444} #mirthful_badlands.City{:x 553, :y 549} #mirthful_badlands.City{:x 648, :y 540} #mirthful_badlands.City{:x 157, :y 296} #mirthful_badlands.City{:x 672, :y 261} #mirthful_badlands.City{:x 67, :y 219})"}
;; <=

;; **
;;; ### Plotting cities
;;; 
;;; Gorilla's plotting API: http://gorilla-repl.org/plotting.html
;; **

;; @@
(let [cities (list [10 2] [2 3] [4 5])]
  (plot/compose
    (plot/list-plot cities)
    (plot/list-plot [(first cities)] :color "#FF0000")))
;; @@
;; =>
;;; {"type":"vega","content":{"width":400,"height":247.2187957763672,"padding":{"top":10,"left":55,"bottom":40,"right":10},"scales":[{"name":"x","type":"linear","range":"width","zero":false,"domain":{"data":"08dd5136-a716-4ffb-a2ba-e715030dd7d2","field":"data.x"}},{"name":"y","type":"linear","range":"height","nice":true,"zero":false,"domain":{"data":"08dd5136-a716-4ffb-a2ba-e715030dd7d2","field":"data.y"}}],"axes":[{"type":"x","scale":"x"},{"type":"y","scale":"y"}],"data":[{"name":"08dd5136-a716-4ffb-a2ba-e715030dd7d2","values":[{"x":10,"y":2},{"x":2,"y":3},{"x":4,"y":5}]},{"name":"ff71a2e4-e304-4936-b88a-ead3c56cf10e","values":[{"x":10,"y":2}]}],"marks":[{"type":"symbol","from":{"data":"08dd5136-a716-4ffb-a2ba-e715030dd7d2"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"fill":{"value":"steelblue"},"fillOpacity":{"value":1}},"update":{"shape":"circle","size":{"value":70},"stroke":{"value":"transparent"}},"hover":{"size":{"value":210},"stroke":{"value":"white"}}}},{"type":"symbol","from":{"data":"ff71a2e4-e304-4936-b88a-ead3c56cf10e"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"fill":{"value":"#FF0000"},"fillOpacity":{"value":1}},"update":{"shape":"circle","size":{"value":70},"stroke":{"value":"transparent"}},"hover":{"size":{"value":210},"stroke":{"value":"white"}}}}]},"value":"#gorilla_repl.vega.VegaView{:content {:width 400, :height 247.2188, :padding {:top 10, :left 55, :bottom 40, :right 10}, :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"08dd5136-a716-4ffb-a2ba-e715030dd7d2\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"08dd5136-a716-4ffb-a2ba-e715030dd7d2\", :field \"data.y\"}}], :axes [{:type \"x\", :scale \"x\"} {:type \"y\", :scale \"y\"}], :data ({:name \"08dd5136-a716-4ffb-a2ba-e715030dd7d2\", :values ({:x 10, :y 2} {:x 2, :y 3} {:x 4, :y 5})} {:name \"ff71a2e4-e304-4936-b88a-ead3c56cf10e\", :values ({:x 10, :y 2})}), :marks ({:type \"symbol\", :from {:data \"08dd5136-a716-4ffb-a2ba-e715030dd7d2\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"steelblue\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}} {:type \"symbol\", :from {:data \"ff71a2e4-e304-4936-b88a-ead3c56cf10e\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"#FF0000\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}})}}"}
;; <=

;; @@
(defn city-to-point [city]
  [(:x city) (:y city)])

(defn plot-cities [cities]
  (let [points (map city-to-point cities)]
    (plot/list-plot points)))
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-var'>#&#x27;mirthful-badlands/plot-cities</span>","value":"#'mirthful-badlands/plot-cities"}
;; <=

;; @@
(plot-cities (random-cities 10))
;; @@
;; =>
;;; {"type":"vega","content":{"width":400,"height":247.2187957763672,"padding":{"top":10,"left":55,"bottom":40,"right":10},"data":[{"name":"7832490e-9503-4164-8a94-e26660bac7de","values":[{"x":78,"y":543},{"x":109,"y":510},{"x":157,"y":497},{"x":515,"y":224},{"x":438,"y":203},{"x":24,"y":121},{"x":724,"y":307},{"x":192,"y":362},{"x":821,"y":215},{"x":72,"y":137}]}],"marks":[{"type":"symbol","from":{"data":"7832490e-9503-4164-8a94-e26660bac7de"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"fill":{"value":"steelblue"},"fillOpacity":{"value":1}},"update":{"shape":"circle","size":{"value":70},"stroke":{"value":"transparent"}},"hover":{"size":{"value":210},"stroke":{"value":"white"}}}}],"scales":[{"name":"x","type":"linear","range":"width","zero":false,"domain":{"data":"7832490e-9503-4164-8a94-e26660bac7de","field":"data.x"}},{"name":"y","type":"linear","range":"height","nice":true,"zero":false,"domain":{"data":"7832490e-9503-4164-8a94-e26660bac7de","field":"data.y"}}],"axes":[{"type":"x","scale":"x"},{"type":"y","scale":"y"}]},"value":"#gorilla_repl.vega.VegaView{:content {:width 400, :height 247.2188, :padding {:top 10, :left 55, :bottom 40, :right 10}, :data [{:name \"7832490e-9503-4164-8a94-e26660bac7de\", :values ({:x 78, :y 543} {:x 109, :y 510} {:x 157, :y 497} {:x 515, :y 224} {:x 438, :y 203} {:x 24, :y 121} {:x 724, :y 307} {:x 192, :y 362} {:x 821, :y 215} {:x 72, :y 137})}], :marks [{:type \"symbol\", :from {:data \"7832490e-9503-4164-8a94-e26660bac7de\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"steelblue\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}}], :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"7832490e-9503-4164-8a94-e26660bac7de\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"7832490e-9503-4164-8a94-e26660bac7de\", :field \"data.y\"}}], :axes [{:type \"x\", :scale \"x\"} {:type \"y\", :scale \"y\"}]}}"}
;; <=

;; **
;;; ### Plotting tours
;;; 
;;; Note: The tours generated by `all-tours` does not connect the end to the start, so we need to do it here (for plotting purposes).
;; **

;; @@
(let [tour (first (all-tours (random-cities 10)))
      points (map city-to-point (conj tour (first tour)))]
  (plot/compose (plot/list-plot points)
                (plot/list-plot points :joined true)
                (plot/list-plot [(first points)] :colour "#FF0000")))
;; @@
;; =>
;;; {"type":"vega","content":{"width":400,"height":247.2187957763672,"padding":{"top":10,"left":55,"bottom":40,"right":10},"scales":[{"name":"x","type":"linear","range":"width","zero":false,"domain":{"data":"0f50f14a-795d-4ea9-842a-9c15f76d9e59","field":"data.x"}},{"name":"y","type":"linear","range":"height","nice":true,"zero":false,"domain":{"data":"0f50f14a-795d-4ea9-842a-9c15f76d9e59","field":"data.y"}}],"axes":[{"type":"x","scale":"x"},{"type":"y","scale":"y"}],"data":[{"name":"0f50f14a-795d-4ea9-842a-9c15f76d9e59","values":[{"x":485,"y":465},{"x":381,"y":196},{"x":265,"y":212},{"x":480,"y":4},{"x":218,"y":449},{"x":206,"y":79},{"x":716,"y":304},{"x":890,"y":350},{"x":514,"y":402},{"x":710,"y":346},{"x":485,"y":465}]},{"name":"097e9d69-73ab-4cf7-8f79-a3ababddb74f","values":[{"x":485,"y":465},{"x":381,"y":196},{"x":265,"y":212},{"x":480,"y":4},{"x":218,"y":449},{"x":206,"y":79},{"x":716,"y":304},{"x":890,"y":350},{"x":514,"y":402},{"x":710,"y":346},{"x":485,"y":465}]},{"name":"a0bd38bd-f5eb-4aac-94ed-d5c1eb3abd1f","values":[{"x":485,"y":465}]}],"marks":[{"type":"symbol","from":{"data":"0f50f14a-795d-4ea9-842a-9c15f76d9e59"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"fill":{"value":"steelblue"},"fillOpacity":{"value":1}},"update":{"shape":"circle","size":{"value":70},"stroke":{"value":"transparent"}},"hover":{"size":{"value":210},"stroke":{"value":"white"}}}},{"type":"line","from":{"data":"097e9d69-73ab-4cf7-8f79-a3ababddb74f"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"stroke":{"value":"#FF29D2"},"strokeWidth":{"value":2},"strokeOpacity":{"value":1}}}},{"type":"symbol","from":{"data":"a0bd38bd-f5eb-4aac-94ed-d5c1eb3abd1f"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"fill":{"value":"#FF0000"},"fillOpacity":{"value":1}},"update":{"shape":"circle","size":{"value":70},"stroke":{"value":"transparent"}},"hover":{"size":{"value":210},"stroke":{"value":"white"}}}}]},"value":"#gorilla_repl.vega.VegaView{:content {:width 400, :height 247.2188, :padding {:top 10, :left 55, :bottom 40, :right 10}, :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"0f50f14a-795d-4ea9-842a-9c15f76d9e59\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"0f50f14a-795d-4ea9-842a-9c15f76d9e59\", :field \"data.y\"}}], :axes [{:type \"x\", :scale \"x\"} {:type \"y\", :scale \"y\"}], :data ({:name \"0f50f14a-795d-4ea9-842a-9c15f76d9e59\", :values ({:x 485, :y 465} {:x 381, :y 196} {:x 265, :y 212} {:x 480, :y 4} {:x 218, :y 449} {:x 206, :y 79} {:x 716, :y 304} {:x 890, :y 350} {:x 514, :y 402} {:x 710, :y 346} {:x 485, :y 465})} {:name \"097e9d69-73ab-4cf7-8f79-a3ababddb74f\", :values ({:x 485, :y 465} {:x 381, :y 196} {:x 265, :y 212} {:x 480, :y 4} {:x 218, :y 449} {:x 206, :y 79} {:x 716, :y 304} {:x 890, :y 350} {:x 514, :y 402} {:x 710, :y 346} {:x 485, :y 465})} {:name \"a0bd38bd-f5eb-4aac-94ed-d5c1eb3abd1f\", :values ({:x 485, :y 465})}), :marks ({:type \"symbol\", :from {:data \"0f50f14a-795d-4ea9-842a-9c15f76d9e59\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"steelblue\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}} {:type \"line\", :from {:data \"097e9d69-73ab-4cf7-8f79-a3ababddb74f\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :stroke {:value \"#FF29D2\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}} {:type \"symbol\", :from {:data \"a0bd38bd-f5eb-4aac-94ed-d5c1eb3abd1f\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"#FF0000\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}})}}"}
;; <=

;; @@
(defn plot-tour [tour]
  (let [points (map city-to-point (conj tour (first tour)))]
    (plot/compose (plot/list-plot points)
                  (plot/list-plot points :joined true)
                  (plot/list-plot [(first points)] :colour "#FF0000"))))
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-var'>#&#x27;mirthful-badlands/plot-tour</span>","value":"#'mirthful-badlands/plot-tour"}
;; <=

;; @@
(plot-tour (first (all-tours (random-cities 10))))
;; @@
;; =>
;;; {"type":"vega","content":{"width":400,"height":247.2187957763672,"padding":{"top":10,"left":55,"bottom":40,"right":10},"scales":[{"name":"x","type":"linear","range":"width","zero":false,"domain":{"data":"6a036ada-d281-43d8-8e55-2569bd4a38bf","field":"data.x"}},{"name":"y","type":"linear","range":"height","nice":true,"zero":false,"domain":{"data":"6a036ada-d281-43d8-8e55-2569bd4a38bf","field":"data.y"}}],"axes":[{"type":"x","scale":"x"},{"type":"y","scale":"y"}],"data":[{"name":"6a036ada-d281-43d8-8e55-2569bd4a38bf","values":[{"x":828,"y":70},{"x":632,"y":267},{"x":813,"y":408},{"x":238,"y":455},{"x":521,"y":158},{"x":88,"y":599},{"x":563,"y":472},{"x":302,"y":12},{"x":420,"y":346},{"x":824,"y":227},{"x":828,"y":70}]},{"name":"e2708786-028d-4e34-9ea3-31016307d035","values":[{"x":828,"y":70},{"x":632,"y":267},{"x":813,"y":408},{"x":238,"y":455},{"x":521,"y":158},{"x":88,"y":599},{"x":563,"y":472},{"x":302,"y":12},{"x":420,"y":346},{"x":824,"y":227},{"x":828,"y":70}]},{"name":"859e7ef6-0ecb-4a9e-ac15-aa3750fecb28","values":[{"x":828,"y":70}]}],"marks":[{"type":"symbol","from":{"data":"6a036ada-d281-43d8-8e55-2569bd4a38bf"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"fill":{"value":"steelblue"},"fillOpacity":{"value":1}},"update":{"shape":"circle","size":{"value":70},"stroke":{"value":"transparent"}},"hover":{"size":{"value":210},"stroke":{"value":"white"}}}},{"type":"line","from":{"data":"e2708786-028d-4e34-9ea3-31016307d035"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"stroke":{"value":"#FF29D2"},"strokeWidth":{"value":2},"strokeOpacity":{"value":1}}}},{"type":"symbol","from":{"data":"859e7ef6-0ecb-4a9e-ac15-aa3750fecb28"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"fill":{"value":"#FF0000"},"fillOpacity":{"value":1}},"update":{"shape":"circle","size":{"value":70},"stroke":{"value":"transparent"}},"hover":{"size":{"value":210},"stroke":{"value":"white"}}}}]},"value":"#gorilla_repl.vega.VegaView{:content {:width 400, :height 247.2188, :padding {:top 10, :left 55, :bottom 40, :right 10}, :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"6a036ada-d281-43d8-8e55-2569bd4a38bf\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"6a036ada-d281-43d8-8e55-2569bd4a38bf\", :field \"data.y\"}}], :axes [{:type \"x\", :scale \"x\"} {:type \"y\", :scale \"y\"}], :data ({:name \"6a036ada-d281-43d8-8e55-2569bd4a38bf\", :values ({:x 828, :y 70} {:x 632, :y 267} {:x 813, :y 408} {:x 238, :y 455} {:x 521, :y 158} {:x 88, :y 599} {:x 563, :y 472} {:x 302, :y 12} {:x 420, :y 346} {:x 824, :y 227} {:x 828, :y 70})} {:name \"e2708786-028d-4e34-9ea3-31016307d035\", :values ({:x 828, :y 70} {:x 632, :y 267} {:x 813, :y 408} {:x 238, :y 455} {:x 521, :y 158} {:x 88, :y 599} {:x 563, :y 472} {:x 302, :y 12} {:x 420, :y 346} {:x 824, :y 227} {:x 828, :y 70})} {:name \"859e7ef6-0ecb-4a9e-ac15-aa3750fecb28\", :values ({:x 828, :y 70})}), :marks ({:type \"symbol\", :from {:data \"6a036ada-d281-43d8-8e55-2569bd4a38bf\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"steelblue\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}} {:type \"line\", :from {:data \"e2708786-028d-4e34-9ea3-31016307d035\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :stroke {:value \"#FF29D2\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}} {:type \"symbol\", :from {:data \"859e7ef6-0ecb-4a9e-ac15-aa3750fecb28\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"#FF0000\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}})}}"}
;; <=

;; **
;;; 
;;; ### Calculating the length of a tour
;;; The length of the tour `[1 2 3]` is the sum of the distances between `[1 2]`, `[2 3]`, `[3 1]`.
;;; 
;;; Here we get a list of `origins`, `(1 2 3)` and a list of `destinations`, `(2 3 1)` (which can be obtained by shifting the `origins` left one place), combine them into a pair of citites, then calculate the distance using `distance`
;; **

;; @@
(let [tour '(1 2 3 4 5 6)
      destinations (lazy-cat (drop 1 tour) (take 1 tour))
      pairs (map vector tour destinations)]
  {:tour tour
   :destinations destinations 
   :pairs pairs})
;; @@
;; =>
;;; {"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:tour</span>","value":":tour"},{"type":"list-like","open":"<span class='clj-list'>(</span>","close":"<span class='clj-list'>)</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-long'>1</span>","value":"1"},{"type":"html","content":"<span class='clj-long'>2</span>","value":"2"},{"type":"html","content":"<span class='clj-long'>3</span>","value":"3"},{"type":"html","content":"<span class='clj-long'>4</span>","value":"4"},{"type":"html","content":"<span class='clj-long'>5</span>","value":"5"},{"type":"html","content":"<span class='clj-long'>6</span>","value":"6"}],"value":"(1 2 3 4 5 6)"}],"value":"[:tour (1 2 3 4 5 6)]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:destinations</span>","value":":destinations"},{"type":"list-like","open":"<span class='clj-lazy-seq'>(</span>","close":"<span class='clj-lazy-seq'>)</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-long'>2</span>","value":"2"},{"type":"html","content":"<span class='clj-long'>3</span>","value":"3"},{"type":"html","content":"<span class='clj-long'>4</span>","value":"4"},{"type":"html","content":"<span class='clj-long'>5</span>","value":"5"},{"type":"html","content":"<span class='clj-long'>6</span>","value":"6"},{"type":"html","content":"<span class='clj-long'>1</span>","value":"1"}],"value":"(2 3 4 5 6 1)"}],"value":"[:destinations (2 3 4 5 6 1)]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:pairs</span>","value":":pairs"},{"type":"list-like","open":"<span class='clj-lazy-seq'>(</span>","close":"<span class='clj-lazy-seq'>)</span>","separator":" ","items":[{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-long'>1</span>","value":"1"},{"type":"html","content":"<span class='clj-long'>2</span>","value":"2"}],"value":"[1 2]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-long'>2</span>","value":"2"},{"type":"html","content":"<span class='clj-long'>3</span>","value":"3"}],"value":"[2 3]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-long'>3</span>","value":"3"},{"type":"html","content":"<span class='clj-long'>4</span>","value":"4"}],"value":"[3 4]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-long'>4</span>","value":"4"},{"type":"html","content":"<span class='clj-long'>5</span>","value":"5"}],"value":"[4 5]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-long'>5</span>","value":"5"},{"type":"html","content":"<span class='clj-long'>6</span>","value":"6"}],"value":"[5 6]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-long'>6</span>","value":"6"},{"type":"html","content":"<span class='clj-long'>1</span>","value":"1"}],"value":"[6 1]"}],"value":"([1 2] [2 3] [3 4] [4 5] [5 6] [6 1])"}],"value":"[:pairs ([1 2] [2 3] [3 4] [4 5] [5 6] [6 1])]"}],"value":"{:tour (1 2 3 4 5 6), :destinations (2 3 4 5 6 1), :pairs ([1 2] [2 3] [3 4] [4 5] [5 6] [6 1])}"}
;; <=

;; **
;;; `map`: https://clojuredocs.org/clojure.core/map
;; **

;; @@
(let [tour (list (City. 1 1) (City. 2 2) (City. 12 10) (City. 21 11))
      destinations (lazy-cat (drop 1 tour) (take 1 tour))
      pairs (map vector tour destinations)]
  {:tour tour
   :destinations destinations 
   :pairs pairs})
;; @@
;; =>
;;; {"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:tour</span>","value":":tour"},{"type":"list-like","open":"<span class='clj-list'>(</span>","close":"<span class='clj-list'>)</span>","separator":" ","items":[{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:x</span>","value":":x"},{"type":"html","content":"<span class='clj-long'>1</span>","value":"1"}],"value":"[:x 1]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:y</span>","value":":y"},{"type":"html","content":"<span class='clj-long'>1</span>","value":"1"}],"value":"[:y 1]"}],"value":"#mirthful_badlands.City{:x 1, :y 1}"},{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:x</span>","value":":x"},{"type":"html","content":"<span class='clj-long'>2</span>","value":"2"}],"value":"[:x 2]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:y</span>","value":":y"},{"type":"html","content":"<span class='clj-long'>2</span>","value":"2"}],"value":"[:y 2]"}],"value":"#mirthful_badlands.City{:x 2, :y 2}"},{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:x</span>","value":":x"},{"type":"html","content":"<span class='clj-long'>12</span>","value":"12"}],"value":"[:x 12]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:y</span>","value":":y"},{"type":"html","content":"<span class='clj-long'>10</span>","value":"10"}],"value":"[:y 10]"}],"value":"#mirthful_badlands.City{:x 12, :y 10}"},{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:x</span>","value":":x"},{"type":"html","content":"<span class='clj-long'>21</span>","value":"21"}],"value":"[:x 21]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:y</span>","value":":y"},{"type":"html","content":"<span class='clj-long'>11</span>","value":"11"}],"value":"[:y 11]"}],"value":"#mirthful_badlands.City{:x 21, :y 11}"}],"value":"(#mirthful_badlands.City{:x 1, :y 1} #mirthful_badlands.City{:x 2, :y 2} #mirthful_badlands.City{:x 12, :y 10} #mirthful_badlands.City{:x 21, :y 11})"}],"value":"[:tour (#mirthful_badlands.City{:x 1, :y 1} #mirthful_badlands.City{:x 2, :y 2} #mirthful_badlands.City{:x 12, :y 10} #mirthful_badlands.City{:x 21, :y 11})]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:destinations</span>","value":":destinations"},{"type":"list-like","open":"<span class='clj-lazy-seq'>(</span>","close":"<span class='clj-lazy-seq'>)</span>","separator":" ","items":[{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:x</span>","value":":x"},{"type":"html","content":"<span class='clj-long'>2</span>","value":"2"}],"value":"[:x 2]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:y</span>","value":":y"},{"type":"html","content":"<span class='clj-long'>2</span>","value":"2"}],"value":"[:y 2]"}],"value":"#mirthful_badlands.City{:x 2, :y 2}"},{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:x</span>","value":":x"},{"type":"html","content":"<span class='clj-long'>12</span>","value":"12"}],"value":"[:x 12]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:y</span>","value":":y"},{"type":"html","content":"<span class='clj-long'>10</span>","value":"10"}],"value":"[:y 10]"}],"value":"#mirthful_badlands.City{:x 12, :y 10}"},{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:x</span>","value":":x"},{"type":"html","content":"<span class='clj-long'>21</span>","value":"21"}],"value":"[:x 21]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:y</span>","value":":y"},{"type":"html","content":"<span class='clj-long'>11</span>","value":"11"}],"value":"[:y 11]"}],"value":"#mirthful_badlands.City{:x 21, :y 11}"},{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:x</span>","value":":x"},{"type":"html","content":"<span class='clj-long'>1</span>","value":"1"}],"value":"[:x 1]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:y</span>","value":":y"},{"type":"html","content":"<span class='clj-long'>1</span>","value":"1"}],"value":"[:y 1]"}],"value":"#mirthful_badlands.City{:x 1, :y 1}"}],"value":"(#mirthful_badlands.City{:x 2, :y 2} #mirthful_badlands.City{:x 12, :y 10} #mirthful_badlands.City{:x 21, :y 11} #mirthful_badlands.City{:x 1, :y 1})"}],"value":"[:destinations (#mirthful_badlands.City{:x 2, :y 2} #mirthful_badlands.City{:x 12, :y 10} #mirthful_badlands.City{:x 21, :y 11} #mirthful_badlands.City{:x 1, :y 1})]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:pairs</span>","value":":pairs"},{"type":"list-like","open":"<span class='clj-lazy-seq'>(</span>","close":"<span class='clj-lazy-seq'>)</span>","separator":" ","items":[{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:x</span>","value":":x"},{"type":"html","content":"<span class='clj-long'>1</span>","value":"1"}],"value":"[:x 1]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:y</span>","value":":y"},{"type":"html","content":"<span class='clj-long'>1</span>","value":"1"}],"value":"[:y 1]"}],"value":"#mirthful_badlands.City{:x 1, :y 1}"},{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:x</span>","value":":x"},{"type":"html","content":"<span class='clj-long'>2</span>","value":"2"}],"value":"[:x 2]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:y</span>","value":":y"},{"type":"html","content":"<span class='clj-long'>2</span>","value":"2"}],"value":"[:y 2]"}],"value":"#mirthful_badlands.City{:x 2, :y 2}"}],"value":"[#mirthful_badlands.City{:x 1, :y 1} #mirthful_badlands.City{:x 2, :y 2}]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:x</span>","value":":x"},{"type":"html","content":"<span class='clj-long'>2</span>","value":"2"}],"value":"[:x 2]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:y</span>","value":":y"},{"type":"html","content":"<span class='clj-long'>2</span>","value":"2"}],"value":"[:y 2]"}],"value":"#mirthful_badlands.City{:x 2, :y 2}"},{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:x</span>","value":":x"},{"type":"html","content":"<span class='clj-long'>12</span>","value":"12"}],"value":"[:x 12]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:y</span>","value":":y"},{"type":"html","content":"<span class='clj-long'>10</span>","value":"10"}],"value":"[:y 10]"}],"value":"#mirthful_badlands.City{:x 12, :y 10}"}],"value":"[#mirthful_badlands.City{:x 2, :y 2} #mirthful_badlands.City{:x 12, :y 10}]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:x</span>","value":":x"},{"type":"html","content":"<span class='clj-long'>12</span>","value":"12"}],"value":"[:x 12]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:y</span>","value":":y"},{"type":"html","content":"<span class='clj-long'>10</span>","value":"10"}],"value":"[:y 10]"}],"value":"#mirthful_badlands.City{:x 12, :y 10}"},{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:x</span>","value":":x"},{"type":"html","content":"<span class='clj-long'>21</span>","value":"21"}],"value":"[:x 21]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:y</span>","value":":y"},{"type":"html","content":"<span class='clj-long'>11</span>","value":"11"}],"value":"[:y 11]"}],"value":"#mirthful_badlands.City{:x 21, :y 11}"}],"value":"[#mirthful_badlands.City{:x 12, :y 10} #mirthful_badlands.City{:x 21, :y 11}]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:x</span>","value":":x"},{"type":"html","content":"<span class='clj-long'>21</span>","value":"21"}],"value":"[:x 21]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:y</span>","value":":y"},{"type":"html","content":"<span class='clj-long'>11</span>","value":"11"}],"value":"[:y 11]"}],"value":"#mirthful_badlands.City{:x 21, :y 11}"},{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:x</span>","value":":x"},{"type":"html","content":"<span class='clj-long'>1</span>","value":"1"}],"value":"[:x 1]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:y</span>","value":":y"},{"type":"html","content":"<span class='clj-long'>1</span>","value":"1"}],"value":"[:y 1]"}],"value":"#mirthful_badlands.City{:x 1, :y 1}"}],"value":"[#mirthful_badlands.City{:x 21, :y 11} #mirthful_badlands.City{:x 1, :y 1}]"}],"value":"([#mirthful_badlands.City{:x 1, :y 1} #mirthful_badlands.City{:x 2, :y 2}] [#mirthful_badlands.City{:x 2, :y 2} #mirthful_badlands.City{:x 12, :y 10}] [#mirthful_badlands.City{:x 12, :y 10} #mirthful_badlands.City{:x 21, :y 11}] [#mirthful_badlands.City{:x 21, :y 11} #mirthful_badlands.City{:x 1, :y 1}])"}],"value":"[:pairs ([#mirthful_badlands.City{:x 1, :y 1} #mirthful_badlands.City{:x 2, :y 2}] [#mirthful_badlands.City{:x 2, :y 2} #mirthful_badlands.City{:x 12, :y 10}] [#mirthful_badlands.City{:x 12, :y 10} #mirthful_badlands.City{:x 21, :y 11}] [#mirthful_badlands.City{:x 21, :y 11} #mirthful_badlands.City{:x 1, :y 1}])]"}],"value":"{:tour (#mirthful_badlands.City{:x 1, :y 1} #mirthful_badlands.City{:x 2, :y 2} #mirthful_badlands.City{:x 12, :y 10} #mirthful_badlands.City{:x 21, :y 11}), :destinations (#mirthful_badlands.City{:x 2, :y 2} #mirthful_badlands.City{:x 12, :y 10} #mirthful_badlands.City{:x 21, :y 11} #mirthful_badlands.City{:x 1, :y 1}), :pairs ([#mirthful_badlands.City{:x 1, :y 1} #mirthful_badlands.City{:x 2, :y 2}] [#mirthful_badlands.City{:x 2, :y 2} #mirthful_badlands.City{:x 12, :y 10}] [#mirthful_badlands.City{:x 12, :y 10} #mirthful_badlands.City{:x 21, :y 11}] [#mirthful_badlands.City{:x 21, :y 11} #mirthful_badlands.City{:x 1, :y 1}])}"}
;; <=

;; **
;;; `apply`: https://clojuredocs.org/clojure.core/apply
;; **

;; @@
(apply distance [(City. 1 1) (City. 2 2)])
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-double'>1.4142135623730951</span>","value":"1.4142135623730951"}
;; <=

;; **
;;; `partial`: https://clojuredocs.org/clojure.core/partial
;; **

;; @@
(let [pair [(City. 1 1) (City. 2 2)]
      pairs (list pair pair pair)
      distance-of-pair (partial apply distance)
      distance (distance-of-pair pair)
      distances (map distance-of-pair pairs)]
  {:distance distance
   :distances distances
   :sum (apply + distances)})
;; @@
;; =>
;;; {"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:distance</span>","value":":distance"},{"type":"html","content":"<span class='clj-double'>1.4142135623730951</span>","value":"1.4142135623730951"}],"value":"[:distance 1.4142135623730951]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:distances</span>","value":":distances"},{"type":"list-like","open":"<span class='clj-lazy-seq'>(</span>","close":"<span class='clj-lazy-seq'>)</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-double'>1.4142135623730951</span>","value":"1.4142135623730951"},{"type":"html","content":"<span class='clj-double'>1.4142135623730951</span>","value":"1.4142135623730951"},{"type":"html","content":"<span class='clj-double'>1.4142135623730951</span>","value":"1.4142135623730951"}],"value":"(1.4142135623730951 1.4142135623730951 1.4142135623730951)"}],"value":"[:distances (1.4142135623730951 1.4142135623730951 1.4142135623730951)]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:sum</span>","value":":sum"},{"type":"html","content":"<span class='clj-double'>4.242640687119286</span>","value":"4.242640687119286"}],"value":"[:sum 4.242640687119286]"}],"value":"{:distance 1.4142135623730951, :distances (1.4142135623730951 1.4142135623730951 1.4142135623730951), :sum 4.242640687119286}"}
;; <=

;; @@
(defn tour-length [tour]
  (let [destinations (lazy-cat (drop 1 tour) (take 1 tour))
        pairs (map vector tour destinations)]
  	(apply + (map (partial apply distance) pairs))))
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-var'>#&#x27;mirthful-badlands/tour-length</span>","value":"#'mirthful-badlands/tour-length"}
;; <=

;; @@
(defn tour-length [tour]
  (let [destinations (lazy-cat (drop 1 tour) (take 1 tour))
        start-end-pair (map vector tour destinations)]
    (apply + (map (partial apply distance) start-end-pair))))
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-var'>#&#x27;mirthful-badlands/tour-length</span>","value":"#'mirthful-badlands/tour-length"}
;; <=

;; **
;;; ### Finding the shortest tour
;; **

;; @@
(defn shortest-tour [tours]
  (first (sort-by tour-length tours)))
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-var'>#&#x27;mirthful-badlands/shortest-tour</span>","value":"#'mirthful-badlands/shortest-tour"}
;; <=

;; @@
(shortest-tour (all-tours (random-cities 3)))
;; @@
;; =>
;;; {"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:x</span>","value":":x"},{"type":"html","content":"<span class='clj-unkown'>243</span>","value":"243"}],"value":"[:x 243]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:y</span>","value":":y"},{"type":"html","content":"<span class='clj-unkown'>570</span>","value":"570"}],"value":"[:y 570]"}],"value":"#mirthful_badlands.City{:x 243, :y 570}"},{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:x</span>","value":":x"},{"type":"html","content":"<span class='clj-unkown'>825</span>","value":"825"}],"value":"[:x 825]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:y</span>","value":":y"},{"type":"html","content":"<span class='clj-unkown'>165</span>","value":"165"}],"value":"[:y 165]"}],"value":"#mirthful_badlands.City{:x 825, :y 165}"},{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:x</span>","value":":x"},{"type":"html","content":"<span class='clj-unkown'>369</span>","value":"369"}],"value":"[:x 369]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:y</span>","value":":y"},{"type":"html","content":"<span class='clj-unkown'>88</span>","value":"88"}],"value":"[:y 88]"}],"value":"#mirthful_badlands.City{:x 369, :y 88}"}],"value":"[#mirthful_badlands.City{:x 243, :y 570} #mirthful_badlands.City{:x 825, :y 165} #mirthful_badlands.City{:x 369, :y 88}]"}
;; <=

;; **
;;; ### Utility method
;;; 
;;; For applying and timing an algorithm on a set of cities.
;; **

;; @@
; (defn execute [algorithm cities]
;  (time (let [tour (algorithm cities)]
;          [(str (count cities) " cities") (str "distance: "(tour-length tour)) (plot-tour tour)])))

(defn execute [cities & algorithms]
  (for [algorithm algorithms]
    (time (let [tour (algorithm cities)]
            [(str (count cities) " cities") (str "distance: "(tour-length tour)) (plot-tour tour)]))))
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-var'>#&#x27;mirthful-badlands/execute</span>","value":"#'mirthful-badlands/execute"}
;; <=

;; **
;;; ## Brute force algorithm
;;; 
;; **

;; @@
(execute (random-cities 7) brute-force-tsp)
;; @@
;; =>
;;; {"type":"list-like","open":"<span class='clj-lazy-seq'>(</span>","close":"<span class='clj-lazy-seq'>)</span>","separator":" ","items":[{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-string'>&quot;7 cities&quot;</span>","value":"\"7 cities\""},{"type":"html","content":"<span class='clj-string'>&quot;distance: 1067.5668371187587&quot;</span>","value":"\"distance: 1067.5668371187587\""},{"type":"vega","content":{"width":400,"height":247.2187957763672,"padding":{"top":10,"left":55,"bottom":40,"right":10},"scales":[{"name":"x","type":"linear","range":"width","zero":false,"domain":{"data":"f7349e26-a44b-423c-a158-1eeb216bd908","field":"data.x"}},{"name":"y","type":"linear","range":"height","nice":true,"zero":false,"domain":{"data":"f7349e26-a44b-423c-a158-1eeb216bd908","field":"data.y"}}],"axes":[{"type":"x","scale":"x"},{"type":"y","scale":"y"}],"data":[{"name":"f7349e26-a44b-423c-a158-1eeb216bd908","values":[{"x":379,"y":309},{"x":410,"y":364},{"x":334,"y":473},{"x":140,"y":404},{"x":262,"y":81},{"x":396,"y":193},{"x":421,"y":196},{"x":379,"y":309}]},{"name":"25ef2afb-2267-4f3c-a8cb-53e77d2a3edf","values":[{"x":379,"y":309},{"x":410,"y":364},{"x":334,"y":473},{"x":140,"y":404},{"x":262,"y":81},{"x":396,"y":193},{"x":421,"y":196},{"x":379,"y":309}]},{"name":"13f0a56c-6fe9-48b4-ad4d-8a908bc2c900","values":[{"x":379,"y":309}]}],"marks":[{"type":"symbol","from":{"data":"f7349e26-a44b-423c-a158-1eeb216bd908"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"fill":{"value":"steelblue"},"fillOpacity":{"value":1}},"update":{"shape":"circle","size":{"value":70},"stroke":{"value":"transparent"}},"hover":{"size":{"value":210},"stroke":{"value":"white"}}}},{"type":"line","from":{"data":"25ef2afb-2267-4f3c-a8cb-53e77d2a3edf"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"stroke":{"value":"#FF29D2"},"strokeWidth":{"value":2},"strokeOpacity":{"value":1}}}},{"type":"symbol","from":{"data":"13f0a56c-6fe9-48b4-ad4d-8a908bc2c900"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"fill":{"value":"#FF0000"},"fillOpacity":{"value":1}},"update":{"shape":"circle","size":{"value":70},"stroke":{"value":"transparent"}},"hover":{"size":{"value":210},"stroke":{"value":"white"}}}}]},"value":"#gorilla_repl.vega.VegaView{:content {:width 400, :height 247.2188, :padding {:top 10, :left 55, :bottom 40, :right 10}, :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"f7349e26-a44b-423c-a158-1eeb216bd908\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"f7349e26-a44b-423c-a158-1eeb216bd908\", :field \"data.y\"}}], :axes [{:type \"x\", :scale \"x\"} {:type \"y\", :scale \"y\"}], :data ({:name \"f7349e26-a44b-423c-a158-1eeb216bd908\", :values ({:x 379, :y 309} {:x 410, :y 364} {:x 334, :y 473} {:x 140, :y 404} {:x 262, :y 81} {:x 396, :y 193} {:x 421, :y 196} {:x 379, :y 309})} {:name \"25ef2afb-2267-4f3c-a8cb-53e77d2a3edf\", :values ({:x 379, :y 309} {:x 410, :y 364} {:x 334, :y 473} {:x 140, :y 404} {:x 262, :y 81} {:x 396, :y 193} {:x 421, :y 196} {:x 379, :y 309})} {:name \"13f0a56c-6fe9-48b4-ad4d-8a908bc2c900\", :values ({:x 379, :y 309})}), :marks ({:type \"symbol\", :from {:data \"f7349e26-a44b-423c-a158-1eeb216bd908\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"steelblue\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}} {:type \"line\", :from {:data \"25ef2afb-2267-4f3c-a8cb-53e77d2a3edf\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :stroke {:value \"#FF29D2\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}} {:type \"symbol\", :from {:data \"13f0a56c-6fe9-48b4-ad4d-8a908bc2c900\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"#FF0000\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}})}}"}],"value":"[\"7 cities\" \"distance: 1067.5668371187587\" #gorilla_repl.vega.VegaView{:content {:width 400, :height 247.2188, :padding {:top 10, :left 55, :bottom 40, :right 10}, :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"f7349e26-a44b-423c-a158-1eeb216bd908\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"f7349e26-a44b-423c-a158-1eeb216bd908\", :field \"data.y\"}}], :axes [{:type \"x\", :scale \"x\"} {:type \"y\", :scale \"y\"}], :data ({:name \"f7349e26-a44b-423c-a158-1eeb216bd908\", :values ({:x 379, :y 309} {:x 410, :y 364} {:x 334, :y 473} {:x 140, :y 404} {:x 262, :y 81} {:x 396, :y 193} {:x 421, :y 196} {:x 379, :y 309})} {:name \"25ef2afb-2267-4f3c-a8cb-53e77d2a3edf\", :values ({:x 379, :y 309} {:x 410, :y 364} {:x 334, :y 473} {:x 140, :y 404} {:x 262, :y 81} {:x 396, :y 193} {:x 421, :y 196} {:x 379, :y 309})} {:name \"13f0a56c-6fe9-48b4-ad4d-8a908bc2c900\", :values ({:x 379, :y 309})}), :marks ({:type \"symbol\", :from {:data \"f7349e26-a44b-423c-a158-1eeb216bd908\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"steelblue\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}} {:type \"line\", :from {:data \"25ef2afb-2267-4f3c-a8cb-53e77d2a3edf\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :stroke {:value \"#FF29D2\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}} {:type \"symbol\", :from {:data \"13f0a56c-6fe9-48b4-ad4d-8a908bc2c900\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"#FF0000\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}})}}]"}],"value":"(\"Elapsed time: 82.986803 msecs\"\r\n[\"7 cities\" \"distance: 1067.5668371187587\" #gorilla_repl.vega.VegaView{:content {:width 400, :height 247.2188, :padding {:top 10, :left 55, :bottom 40, :right 10}, :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"f7349e26-a44b-423c-a158-1eeb216bd908\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"f7349e26-a44b-423c-a158-1eeb216bd908\", :field \"data.y\"}}], :axes [{:type \"x\", :scale \"x\"} {:type \"y\", :scale \"y\"}], :data ({:name \"f7349e26-a44b-423c-a158-1eeb216bd908\", :values ({:x 379, :y 309} {:x 410, :y 364} {:x 334, :y 473} {:x 140, :y 404} {:x 262, :y 81} {:x 396, :y 193} {:x 421, :y 196} {:x 379, :y 309})} {:name \"25ef2afb-2267-4f3c-a8cb-53e77d2a3edf\", :values ({:x 379, :y 309} {:x 410, :y 364} {:x 334, :y 473} {:x 140, :y 404} {:x 262, :y 81} {:x 396, :y 193} {:x 421, :y 196} {:x 379, :y 309})} {:name \"13f0a56c-6fe9-48b4-ad4d-8a908bc2c900\", :values ({:x 379, :y 309})}), :marks ({:type \"symbol\", :from {:data \"f7349e26-a44b-423c-a158-1eeb216bd908\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"steelblue\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}} {:type \"line\", :from {:data \"25ef2afb-2267-4f3c-a8cb-53e77d2a3edf\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :stroke {:value \"#FF29D2\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}} {:type \"symbol\", :from {:data \"13f0a56c-6fe9-48b4-ad4d-8a908bc2c900\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"#FF0000\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}})}}])"}
;; <=

;; **
;;; ## Nearest Neighbour Algorithm
;;; 
;;; 1. select a start city
;;; 1. extend the tour by
;;; 1. ... finding the nearest city
;;; 1. ... that has not yet been visited
;;; 
;;; `recur`: https://clojure.org/reference/special_forms#recur
;;; 
;;; `loop`: https://clojuredocs.org/clojure.core/loop
;; **

;; @@
(defn nearest-neighbour [current cities]
  (first (sort-by #(distance current %1) cities)))

(defn nearest-neighbour-tsp [cities & {:keys [origin] :or {origin (first cities)}}]
  (loop [o origin
         tour [o]
         unvisited (clojure.set/difference (set cities) #{o})]
    (if (empty? unvisited)
      tour
      (let [next-origin (nearest-neighbour o unvisited)]
        (recur next-origin
               (conj tour next-origin)
               (clojure.set/difference unvisited #{next-origin}))))))
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-var'>#&#x27;mirthful-badlands/nearest-neighbour-tsp</span>","value":"#'mirthful-badlands/nearest-neighbour-tsp"}
;; <=

;; @@
(execute nearest-neighbour-tsp (random-cities 500))
;; @@
;; ->
;;; &quot;Elapsed time: 1709.98417 msecs&quot;
;;; 
;; <-
;; =>
;;; {"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-string'>&quot;500 cities&quot;</span>","value":"\"500 cities\""},{"type":"html","content":"<span class='clj-string'>&quot;distance: 15192.633464529297&quot;</span>","value":"\"distance: 15192.633464529297\""},{"type":"vega","content":{"width":400,"height":247.2187957763672,"padding":{"top":10,"left":55,"bottom":40,"right":10},"scales":[{"name":"x","type":"linear","range":"width","zero":false,"domain":{"data":"e1fd5c62-560d-44b0-99b2-c9b3ff3c5d27","field":"data.x"}},{"name":"y","type":"linear","range":"height","nice":true,"zero":false,"domain":{"data":"e1fd5c62-560d-44b0-99b2-c9b3ff3c5d27","field":"data.y"}}],"axes":[{"type":"x","scale":"x"},{"type":"y","scale":"y"}],"data":[{"name":"e1fd5c62-560d-44b0-99b2-c9b3ff3c5d27","values":[{"x":352,"y":463},{"x":351,"y":457},{"x":331,"y":434},{"x":293,"y":445},{"x":285,"y":470},{"x":269,"y":461},{"x":272,"y":414},{"x":283,"y":393},{"x":281,"y":384},{"x":268,"y":369},{"x":273,"y":352},{"x":278,"y":350},{"x":276,"y":324},{"x":257,"y":315},{"x":266,"y":305},{"x":289,"y":281},{"x":278,"y":262},{"x":260,"y":262},{"x":254,"y":259},{"x":233,"y":259},{"x":229,"y":256},{"x":209,"y":249},{"x":205,"y":259},{"x":200,"y":273},{"x":186,"y":267},{"x":163,"y":279},{"x":168,"y":288},{"x":135,"y":301},{"x":122,"y":295},{"x":107,"y":279},{"x":109,"y":277},{"x":94,"y":269},{"x":112,"y":247},{"x":133,"y":243},{"x":147,"y":237},{"x":150,"y":250},{"x":135,"y":266},{"x":136,"y":225},{"x":104,"y":225},{"x":54,"y":226},{"x":35,"y":234},{"x":30,"y":231},{"x":33,"y":226},{"x":13,"y":247},{"x":0,"y":244},{"x":3,"y":222},{"x":57,"y":203},{"x":83,"y":169},{"x":125,"y":171},{"x":133,"y":170},{"x":140,"y":185},{"x":178,"y":200},{"x":198,"y":204},{"x":198,"y":184},{"x":220,"y":190},{"x":244,"y":202},{"x":262,"y":204},{"x":268,"y":191},{"x":262,"y":181},{"x":280,"y":176},{"x":296,"y":186},{"x":291,"y":192},{"x":282,"y":205},{"x":313,"y":202},{"x":344,"y":233},{"x":367,"y":250},{"x":374,"y":259},{"x":392,"y":251},{"x":409,"y":246},{"x":403,"y":268},{"x":425,"y":282},{"x":415,"y":305},{"x":410,"y":304},{"x":372,"y":300},{"x":364,"y":300},{"x":353,"y":275},{"x":338,"y":278},{"x":328,"y":271},{"x":326,"y":311},{"x":304,"y":316},{"x":230,"y":336},{"x":226,"y":341},{"x":230,"y":345},{"x":219,"y":326},{"x":218,"y":311},{"x":206,"y":302},{"x":192,"y":319},{"x":173,"y":363},{"x":139,"y":331},{"x":108,"y":336},{"x":105,"y":350},{"x":87,"y":347},{"x":80,"y":377},{"x":71,"y":383},{"x":75,"y":397},{"x":100,"y":385},{"x":126,"y":372},{"x":154,"y":422},{"x":156,"y":428},{"x":141,"y":441},{"x":133,"y":450},{"x":152,"y":490},{"x":142,"y":514},{"x":189,"y":492},{"x":209,"y":491},{"x":197,"y":513},{"x":214,"y":529},{"x":211,"y":549},{"x":211,"y":564},{"x":206,"y":577},{"x":244,"y":599},{"x":252,"y":596},{"x":263,"y":580},{"x":293,"y":598},{"x":303,"y":582},{"x":304,"y":572},{"x":317,"y":593},{"x":346,"y":581},{"x":380,"y":598},{"x":388,"y":571},{"x":390,"y":543},{"x":366,"y":522},{"x":358,"y":512},{"x":357,"y":490},{"x":388,"y":462},{"x":400,"y":461},{"x":411,"y":471},{"x":414,"y":454},{"x":409,"y":449},{"x":405,"y":426},{"x":393,"y":420},{"x":406,"y":402},{"x":427,"y":406},{"x":432,"y":421},{"x":432,"y":433},{"x":446,"y":451},{"x":453,"y":477},{"x":436,"y":488},{"x":438,"y":508},{"x":428,"y":510},{"x":414,"y":517},{"x":407,"y":498},{"x":443,"y":535},{"x":435,"y":551},{"x":431,"y":568},{"x":439,"y":585},{"x":418,"y":597},{"x":464,"y":577},{"x":471,"y":584},{"x":504,"y":573},{"x":511,"y":572},{"x":535,"y":571},{"x":560,"y":562},{"x":563,"y":577},{"x":573,"y":591},{"x":592,"y":555},{"x":629,"y":554},{"x":642,"y":566},{"x":622,"y":577},{"x":670,"y":590},{"x":684,"y":568},{"x":710,"y":574},{"x":728,"y":584},{"x":739,"y":581},{"x":747,"y":554},{"x":772,"y":557},{"x":772,"y":526},{"x":796,"y":530},{"x":819,"y":540},{"x":837,"y":511},{"x":855,"y":512},{"x":855,"y":492},{"x":860,"y":488},{"x":874,"y":471},{"x":840,"y":472},{"x":810,"y":435},{"x":791,"y":431},{"x":762,"y":435},{"x":750,"y":430},{"x":747,"y":452},{"x":756,"y":462},{"x":766,"y":465},{"x":766,"y":479},{"x":767,"y":494},{"x":747,"y":507},{"x":728,"y":496},{"x":732,"y":486},{"x":726,"y":464},{"x":704,"y":454},{"x":692,"y":455},{"x":696,"y":431},{"x":728,"y":439},{"x":711,"y":391},{"x":665,"y":411},{"x":654,"y":445},{"x":620,"y":432},{"x":618,"y":439},{"x":600,"y":418},{"x":574,"y":422},{"x":570,"y":412},{"x":565,"y":435},{"x":546,"y":445},{"x":523,"y":428},{"x":520,"y":422},{"x":492,"y":436},{"x":478,"y":435},{"x":496,"y":452},{"x":507,"y":467},{"x":487,"y":482},{"x":464,"y":503},{"x":472,"y":515},{"x":524,"y":541},{"x":527,"y":496},{"x":593,"y":483},{"x":612,"y":472},{"x":616,"y":468},{"x":618,"y":467},{"x":621,"y":487},{"x":615,"y":489},{"x":643,"y":488},{"x":668,"y":501},{"x":680,"y":521},{"x":665,"y":527},{"x":697,"y":510},{"x":766,"y":398},{"x":842,"y":390},{"x":843,"y":396},{"x":848,"y":412},{"x":865,"y":361},{"x":878,"y":355},{"x":860,"y":346},{"x":845,"y":301},{"x":870,"y":280},{"x":895,"y":313},{"x":843,"y":242},{"x":837,"y":212},{"x":828,"y":206},{"x":821,"y":200},{"x":828,"y":166},{"x":846,"y":150},{"x":850,"y":155},{"x":859,"y":140},{"x":866,"y":144},{"x":877,"y":134},{"x":856,"y":124},{"x":871,"y":107},{"x":865,"y":102},{"x":867,"y":99},{"x":837,"y":105},{"x":837,"y":89},{"x":816,"y":78},{"x":813,"y":107},{"x":773,"y":141},{"x":751,"y":148},{"x":756,"y":167},{"x":748,"y":206},{"x":738,"y":208},{"x":723,"y":223},{"x":718,"y":218},{"x":713,"y":245},{"x":727,"y":247},{"x":729,"y":257},{"x":741,"y":265},{"x":757,"y":246},{"x":772,"y":251},{"x":792,"y":287},{"x":744,"y":319},{"x":672,"y":341},{"x":656,"y":344},{"x":635,"y":327},{"x":636,"y":301},{"x":630,"y":294},{"x":607,"y":303},{"x":584,"y":316},{"x":561,"y":318},{"x":563,"y":331},{"x":582,"y":290},{"x":575,"y":285},{"x":535,"y":276},{"x":535,"y":262},{"x":507,"y":254},{"x":480,"y":257},{"x":469,"y":288},{"x":473,"y":298},{"x":460,"y":313},{"x":448,"y":335},{"x":448,"y":340},{"x":475,"y":347},{"x":480,"y":387},{"x":512,"y":372},{"x":593,"y":365},{"x":603,"y":359},{"x":662,"y":314},{"x":694,"y":256},{"x":672,"y":235},{"x":671,"y":215},{"x":648,"y":190},{"x":647,"y":179},{"x":655,"y":178},{"x":635,"y":182},{"x":612,"y":181},{"x":584,"y":167},{"x":589,"y":145},{"x":562,"y":130},{"x":548,"y":136},{"x":539,"y":139},{"x":548,"y":164},{"x":515,"y":186},{"x":524,"y":206},{"x":543,"y":210},{"x":559,"y":213},{"x":562,"y":219},{"x":568,"y":241},{"x":596,"y":208},{"x":614,"y":225},{"x":645,"y":242},{"x":693,"y":175},{"x":714,"y":163},{"x":714,"y":158},{"x":698,"y":151},{"x":688,"y":148},{"x":704,"y":133},{"x":721,"y":92},{"x":732,"y":84},{"x":748,"y":75},{"x":742,"y":101},{"x":748,"y":111},{"x":757,"y":122},{"x":680,"y":93},{"x":676,"y":89},{"x":675,"y":82},{"x":660,"y":66},{"x":668,"y":54},{"x":658,"y":41},{"x":688,"y":40},{"x":697,"y":38},{"x":710,"y":29},{"x":707,"y":23},{"x":763,"y":10},{"x":767,"y":4},{"x":788,"y":34},{"x":778,"y":41},{"x":833,"y":2},{"x":851,"y":7},{"x":853,"y":26},{"x":899,"y":25},{"x":895,"y":67},{"x":893,"y":72},{"x":778,"y":208},{"x":635,"y":104},{"x":624,"y":120},{"x":605,"y":97},{"x":592,"y":73},{"x":591,"y":73},{"x":578,"y":58},{"x":565,"y":69},{"x":555,"y":59},{"x":547,"y":68},{"x":539,"y":49},{"x":519,"y":40},{"x":521,"y":71},{"x":500,"y":70},{"x":495,"y":91},{"x":466,"y":79},{"x":468,"y":71},{"x":459,"y":63},{"x":461,"y":61},{"x":477,"y":40},{"x":453,"y":7},{"x":439,"y":9},{"x":418,"y":13},{"x":412,"y":17},{"x":386,"y":14},{"x":373,"y":21},{"x":340,"y":31},{"x":333,"y":33},{"x":356,"y":57},{"x":324,"y":75},{"x":349,"y":120},{"x":378,"y":121},{"x":399,"y":101},{"x":406,"y":90},{"x":386,"y":86},{"x":403,"y":63},{"x":415,"y":111},{"x":415,"y":139},{"x":388,"y":153},{"x":376,"y":150},{"x":377,"y":167},{"x":390,"y":171},{"x":364,"y":197},{"x":345,"y":152},{"x":277,"y":115},{"x":272,"y":123},{"x":233,"y":118},{"x":209,"y":141},{"x":216,"y":158},{"x":187,"y":155},{"x":170,"y":146},{"x":182,"y":135},{"x":136,"y":141},{"x":130,"y":136},{"x":118,"y":112},{"x":91,"y":113},{"x":70,"y":90},{"x":62,"y":97},{"x":44,"y":71},{"x":36,"y":58},{"x":34,"y":38},{"x":29,"y":39},{"x":8,"y":56},{"x":16,"y":81},{"x":0,"y":134},{"x":82,"y":69},{"x":84,"y":53},{"x":95,"y":44},{"x":114,"y":47},{"x":113,"y":54},{"x":115,"y":71},{"x":152,"y":44},{"x":159,"y":21},{"x":183,"y":5},{"x":196,"y":14},{"x":193,"y":37},{"x":184,"y":73},{"x":228,"y":68},{"x":239,"y":50},{"x":242,"y":41},{"x":250,"y":36},{"x":257,"y":37},{"x":261,"y":32},{"x":270,"y":49},{"x":286,"y":24},{"x":110,"y":7},{"x":67,"y":42},{"x":45,"y":10},{"x":40,"y":13},{"x":52,"y":4},{"x":172,"y":237},{"x":204,"y":235},{"x":207,"y":224},{"x":78,"y":306},{"x":68,"y":293},{"x":63,"y":299},{"x":46,"y":281},{"x":1,"y":295},{"x":3,"y":311},{"x":3,"y":319},{"x":9,"y":348},{"x":5,"y":374},{"x":45,"y":330},{"x":9,"y":435},{"x":10,"y":442},{"x":27,"y":443},{"x":1,"y":475},{"x":1,"y":476},{"x":8,"y":509},{"x":37,"y":541},{"x":34,"y":553},{"x":38,"y":566},{"x":14,"y":556},{"x":70,"y":546},{"x":75,"y":550},{"x":79,"y":564},{"x":54,"y":597},{"x":153,"y":597},{"x":157,"y":572},{"x":93,"y":496},{"x":93,"y":488},{"x":72,"y":468},{"x":58,"y":492},{"x":218,"y":420},{"x":227,"y":395},{"x":383,"y":342},{"x":407,"y":351},{"x":399,"y":364},{"x":394,"y":375},{"x":398,"y":380},{"x":511,"y":284},{"x":496,"y":224},{"x":446,"y":233},{"x":422,"y":195},{"x":449,"y":137},{"x":443,"y":113},{"x":447,"y":102},{"x":456,"y":101},{"x":487,"y":139},{"x":485,"y":158},{"x":549,"y":108},{"x":564,"y":112},{"x":600,"y":35},{"x":610,"y":35},{"x":617,"y":26},{"x":579,"y":26},{"x":507,"y":0},{"x":643,"y":77},{"x":861,"y":543},{"x":843,"y":588},{"x":805,"y":599},{"x":530,"y":599},{"x":352,"y":463}]},{"name":"4fa3a7cb-b553-40f4-8897-6cbfd9648a7e","values":[{"x":352,"y":463},{"x":351,"y":457},{"x":331,"y":434},{"x":293,"y":445},{"x":285,"y":470},{"x":269,"y":461},{"x":272,"y":414},{"x":283,"y":393},{"x":281,"y":384},{"x":268,"y":369},{"x":273,"y":352},{"x":278,"y":350},{"x":276,"y":324},{"x":257,"y":315},{"x":266,"y":305},{"x":289,"y":281},{"x":278,"y":262},{"x":260,"y":262},{"x":254,"y":259},{"x":233,"y":259},{"x":229,"y":256},{"x":209,"y":249},{"x":205,"y":259},{"x":200,"y":273},{"x":186,"y":267},{"x":163,"y":279},{"x":168,"y":288},{"x":135,"y":301},{"x":122,"y":295},{"x":107,"y":279},{"x":109,"y":277},{"x":94,"y":269},{"x":112,"y":247},{"x":133,"y":243},{"x":147,"y":237},{"x":150,"y":250},{"x":135,"y":266},{"x":136,"y":225},{"x":104,"y":225},{"x":54,"y":226},{"x":35,"y":234},{"x":30,"y":231},{"x":33,"y":226},{"x":13,"y":247},{"x":0,"y":244},{"x":3,"y":222},{"x":57,"y":203},{"x":83,"y":169},{"x":125,"y":171},{"x":133,"y":170},{"x":140,"y":185},{"x":178,"y":200},{"x":198,"y":204},{"x":198,"y":184},{"x":220,"y":190},{"x":244,"y":202},{"x":262,"y":204},{"x":268,"y":191},{"x":262,"y":181},{"x":280,"y":176},{"x":296,"y":186},{"x":291,"y":192},{"x":282,"y":205},{"x":313,"y":202},{"x":344,"y":233},{"x":367,"y":250},{"x":374,"y":259},{"x":392,"y":251},{"x":409,"y":246},{"x":403,"y":268},{"x":425,"y":282},{"x":415,"y":305},{"x":410,"y":304},{"x":372,"y":300},{"x":364,"y":300},{"x":353,"y":275},{"x":338,"y":278},{"x":328,"y":271},{"x":326,"y":311},{"x":304,"y":316},{"x":230,"y":336},{"x":226,"y":341},{"x":230,"y":345},{"x":219,"y":326},{"x":218,"y":311},{"x":206,"y":302},{"x":192,"y":319},{"x":173,"y":363},{"x":139,"y":331},{"x":108,"y":336},{"x":105,"y":350},{"x":87,"y":347},{"x":80,"y":377},{"x":71,"y":383},{"x":75,"y":397},{"x":100,"y":385},{"x":126,"y":372},{"x":154,"y":422},{"x":156,"y":428},{"x":141,"y":441},{"x":133,"y":450},{"x":152,"y":490},{"x":142,"y":514},{"x":189,"y":492},{"x":209,"y":491},{"x":197,"y":513},{"x":214,"y":529},{"x":211,"y":549},{"x":211,"y":564},{"x":206,"y":577},{"x":244,"y":599},{"x":252,"y":596},{"x":263,"y":580},{"x":293,"y":598},{"x":303,"y":582},{"x":304,"y":572},{"x":317,"y":593},{"x":346,"y":581},{"x":380,"y":598},{"x":388,"y":571},{"x":390,"y":543},{"x":366,"y":522},{"x":358,"y":512},{"x":357,"y":490},{"x":388,"y":462},{"x":400,"y":461},{"x":411,"y":471},{"x":414,"y":454},{"x":409,"y":449},{"x":405,"y":426},{"x":393,"y":420},{"x":406,"y":402},{"x":427,"y":406},{"x":432,"y":421},{"x":432,"y":433},{"x":446,"y":451},{"x":453,"y":477},{"x":436,"y":488},{"x":438,"y":508},{"x":428,"y":510},{"x":414,"y":517},{"x":407,"y":498},{"x":443,"y":535},{"x":435,"y":551},{"x":431,"y":568},{"x":439,"y":585},{"x":418,"y":597},{"x":464,"y":577},{"x":471,"y":584},{"x":504,"y":573},{"x":511,"y":572},{"x":535,"y":571},{"x":560,"y":562},{"x":563,"y":577},{"x":573,"y":591},{"x":592,"y":555},{"x":629,"y":554},{"x":642,"y":566},{"x":622,"y":577},{"x":670,"y":590},{"x":684,"y":568},{"x":710,"y":574},{"x":728,"y":584},{"x":739,"y":581},{"x":747,"y":554},{"x":772,"y":557},{"x":772,"y":526},{"x":796,"y":530},{"x":819,"y":540},{"x":837,"y":511},{"x":855,"y":512},{"x":855,"y":492},{"x":860,"y":488},{"x":874,"y":471},{"x":840,"y":472},{"x":810,"y":435},{"x":791,"y":431},{"x":762,"y":435},{"x":750,"y":430},{"x":747,"y":452},{"x":756,"y":462},{"x":766,"y":465},{"x":766,"y":479},{"x":767,"y":494},{"x":747,"y":507},{"x":728,"y":496},{"x":732,"y":486},{"x":726,"y":464},{"x":704,"y":454},{"x":692,"y":455},{"x":696,"y":431},{"x":728,"y":439},{"x":711,"y":391},{"x":665,"y":411},{"x":654,"y":445},{"x":620,"y":432},{"x":618,"y":439},{"x":600,"y":418},{"x":574,"y":422},{"x":570,"y":412},{"x":565,"y":435},{"x":546,"y":445},{"x":523,"y":428},{"x":520,"y":422},{"x":492,"y":436},{"x":478,"y":435},{"x":496,"y":452},{"x":507,"y":467},{"x":487,"y":482},{"x":464,"y":503},{"x":472,"y":515},{"x":524,"y":541},{"x":527,"y":496},{"x":593,"y":483},{"x":612,"y":472},{"x":616,"y":468},{"x":618,"y":467},{"x":621,"y":487},{"x":615,"y":489},{"x":643,"y":488},{"x":668,"y":501},{"x":680,"y":521},{"x":665,"y":527},{"x":697,"y":510},{"x":766,"y":398},{"x":842,"y":390},{"x":843,"y":396},{"x":848,"y":412},{"x":865,"y":361},{"x":878,"y":355},{"x":860,"y":346},{"x":845,"y":301},{"x":870,"y":280},{"x":895,"y":313},{"x":843,"y":242},{"x":837,"y":212},{"x":828,"y":206},{"x":821,"y":200},{"x":828,"y":166},{"x":846,"y":150},{"x":850,"y":155},{"x":859,"y":140},{"x":866,"y":144},{"x":877,"y":134},{"x":856,"y":124},{"x":871,"y":107},{"x":865,"y":102},{"x":867,"y":99},{"x":837,"y":105},{"x":837,"y":89},{"x":816,"y":78},{"x":813,"y":107},{"x":773,"y":141},{"x":751,"y":148},{"x":756,"y":167},{"x":748,"y":206},{"x":738,"y":208},{"x":723,"y":223},{"x":718,"y":218},{"x":713,"y":245},{"x":727,"y":247},{"x":729,"y":257},{"x":741,"y":265},{"x":757,"y":246},{"x":772,"y":251},{"x":792,"y":287},{"x":744,"y":319},{"x":672,"y":341},{"x":656,"y":344},{"x":635,"y":327},{"x":636,"y":301},{"x":630,"y":294},{"x":607,"y":303},{"x":584,"y":316},{"x":561,"y":318},{"x":563,"y":331},{"x":582,"y":290},{"x":575,"y":285},{"x":535,"y":276},{"x":535,"y":262},{"x":507,"y":254},{"x":480,"y":257},{"x":469,"y":288},{"x":473,"y":298},{"x":460,"y":313},{"x":448,"y":335},{"x":448,"y":340},{"x":475,"y":347},{"x":480,"y":387},{"x":512,"y":372},{"x":593,"y":365},{"x":603,"y":359},{"x":662,"y":314},{"x":694,"y":256},{"x":672,"y":235},{"x":671,"y":215},{"x":648,"y":190},{"x":647,"y":179},{"x":655,"y":178},{"x":635,"y":182},{"x":612,"y":181},{"x":584,"y":167},{"x":589,"y":145},{"x":562,"y":130},{"x":548,"y":136},{"x":539,"y":139},{"x":548,"y":164},{"x":515,"y":186},{"x":524,"y":206},{"x":543,"y":210},{"x":559,"y":213},{"x":562,"y":219},{"x":568,"y":241},{"x":596,"y":208},{"x":614,"y":225},{"x":645,"y":242},{"x":693,"y":175},{"x":714,"y":163},{"x":714,"y":158},{"x":698,"y":151},{"x":688,"y":148},{"x":704,"y":133},{"x":721,"y":92},{"x":732,"y":84},{"x":748,"y":75},{"x":742,"y":101},{"x":748,"y":111},{"x":757,"y":122},{"x":680,"y":93},{"x":676,"y":89},{"x":675,"y":82},{"x":660,"y":66},{"x":668,"y":54},{"x":658,"y":41},{"x":688,"y":40},{"x":697,"y":38},{"x":710,"y":29},{"x":707,"y":23},{"x":763,"y":10},{"x":767,"y":4},{"x":788,"y":34},{"x":778,"y":41},{"x":833,"y":2},{"x":851,"y":7},{"x":853,"y":26},{"x":899,"y":25},{"x":895,"y":67},{"x":893,"y":72},{"x":778,"y":208},{"x":635,"y":104},{"x":624,"y":120},{"x":605,"y":97},{"x":592,"y":73},{"x":591,"y":73},{"x":578,"y":58},{"x":565,"y":69},{"x":555,"y":59},{"x":547,"y":68},{"x":539,"y":49},{"x":519,"y":40},{"x":521,"y":71},{"x":500,"y":70},{"x":495,"y":91},{"x":466,"y":79},{"x":468,"y":71},{"x":459,"y":63},{"x":461,"y":61},{"x":477,"y":40},{"x":453,"y":7},{"x":439,"y":9},{"x":418,"y":13},{"x":412,"y":17},{"x":386,"y":14},{"x":373,"y":21},{"x":340,"y":31},{"x":333,"y":33},{"x":356,"y":57},{"x":324,"y":75},{"x":349,"y":120},{"x":378,"y":121},{"x":399,"y":101},{"x":406,"y":90},{"x":386,"y":86},{"x":403,"y":63},{"x":415,"y":111},{"x":415,"y":139},{"x":388,"y":153},{"x":376,"y":150},{"x":377,"y":167},{"x":390,"y":171},{"x":364,"y":197},{"x":345,"y":152},{"x":277,"y":115},{"x":272,"y":123},{"x":233,"y":118},{"x":209,"y":141},{"x":216,"y":158},{"x":187,"y":155},{"x":170,"y":146},{"x":182,"y":135},{"x":136,"y":141},{"x":130,"y":136},{"x":118,"y":112},{"x":91,"y":113},{"x":70,"y":90},{"x":62,"y":97},{"x":44,"y":71},{"x":36,"y":58},{"x":34,"y":38},{"x":29,"y":39},{"x":8,"y":56},{"x":16,"y":81},{"x":0,"y":134},{"x":82,"y":69},{"x":84,"y":53},{"x":95,"y":44},{"x":114,"y":47},{"x":113,"y":54},{"x":115,"y":71},{"x":152,"y":44},{"x":159,"y":21},{"x":183,"y":5},{"x":196,"y":14},{"x":193,"y":37},{"x":184,"y":73},{"x":228,"y":68},{"x":239,"y":50},{"x":242,"y":41},{"x":250,"y":36},{"x":257,"y":37},{"x":261,"y":32},{"x":270,"y":49},{"x":286,"y":24},{"x":110,"y":7},{"x":67,"y":42},{"x":45,"y":10},{"x":40,"y":13},{"x":52,"y":4},{"x":172,"y":237},{"x":204,"y":235},{"x":207,"y":224},{"x":78,"y":306},{"x":68,"y":293},{"x":63,"y":299},{"x":46,"y":281},{"x":1,"y":295},{"x":3,"y":311},{"x":3,"y":319},{"x":9,"y":348},{"x":5,"y":374},{"x":45,"y":330},{"x":9,"y":435},{"x":10,"y":442},{"x":27,"y":443},{"x":1,"y":475},{"x":1,"y":476},{"x":8,"y":509},{"x":37,"y":541},{"x":34,"y":553},{"x":38,"y":566},{"x":14,"y":556},{"x":70,"y":546},{"x":75,"y":550},{"x":79,"y":564},{"x":54,"y":597},{"x":153,"y":597},{"x":157,"y":572},{"x":93,"y":496},{"x":93,"y":488},{"x":72,"y":468},{"x":58,"y":492},{"x":218,"y":420},{"x":227,"y":395},{"x":383,"y":342},{"x":407,"y":351},{"x":399,"y":364},{"x":394,"y":375},{"x":398,"y":380},{"x":511,"y":284},{"x":496,"y":224},{"x":446,"y":233},{"x":422,"y":195},{"x":449,"y":137},{"x":443,"y":113},{"x":447,"y":102},{"x":456,"y":101},{"x":487,"y":139},{"x":485,"y":158},{"x":549,"y":108},{"x":564,"y":112},{"x":600,"y":35},{"x":610,"y":35},{"x":617,"y":26},{"x":579,"y":26},{"x":507,"y":0},{"x":643,"y":77},{"x":861,"y":543},{"x":843,"y":588},{"x":805,"y":599},{"x":530,"y":599},{"x":352,"y":463}]},{"name":"88f7a9bc-d2ad-49e4-ba69-4c1fc820d41f","values":[{"x":352,"y":463}]}],"marks":[{"type":"symbol","from":{"data":"e1fd5c62-560d-44b0-99b2-c9b3ff3c5d27"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"fill":{"value":"steelblue"},"fillOpacity":{"value":1}},"update":{"shape":"circle","size":{"value":70},"stroke":{"value":"transparent"}},"hover":{"size":{"value":210},"stroke":{"value":"white"}}}},{"type":"line","from":{"data":"4fa3a7cb-b553-40f4-8897-6cbfd9648a7e"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"stroke":{"value":"#FF29D2"},"strokeWidth":{"value":2},"strokeOpacity":{"value":1}}}},{"type":"symbol","from":{"data":"88f7a9bc-d2ad-49e4-ba69-4c1fc820d41f"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"fill":{"value":"#FF0000"},"fillOpacity":{"value":1}},"update":{"shape":"circle","size":{"value":70},"stroke":{"value":"transparent"}},"hover":{"size":{"value":210},"stroke":{"value":"white"}}}}]},"value":"#gorilla_repl.vega.VegaView{:content {:width 400, :height 247.2188, :padding {:top 10, :left 55, :bottom 40, :right 10}, :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"e1fd5c62-560d-44b0-99b2-c9b3ff3c5d27\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"e1fd5c62-560d-44b0-99b2-c9b3ff3c5d27\", :field \"data.y\"}}], :axes [{:type \"x\", :scale \"x\"} {:type \"y\", :scale \"y\"}], :data ({:name \"e1fd5c62-560d-44b0-99b2-c9b3ff3c5d27\", :values ({:x 352, :y 463} {:x 351, :y 457} {:x 331, :y 434} {:x 293, :y 445} {:x 285, :y 470} {:x 269, :y 461} {:x 272, :y 414} {:x 283, :y 393} {:x 281, :y 384} {:x 268, :y 369} {:x 273, :y 352} {:x 278, :y 350} {:x 276, :y 324} {:x 257, :y 315} {:x 266, :y 305} {:x 289, :y 281} {:x 278, :y 262} {:x 260, :y 262} {:x 254, :y 259} {:x 233, :y 259} {:x 229, :y 256} {:x 209, :y 249} {:x 205, :y 259} {:x 200, :y 273} {:x 186, :y 267} {:x 163, :y 279} {:x 168, :y 288} {:x 135, :y 301} {:x 122, :y 295} {:x 107, :y 279} {:x 109, :y 277} {:x 94, :y 269} {:x 112, :y 247} {:x 133, :y 243} {:x 147, :y 237} {:x 150, :y 250} {:x 135, :y 266} {:x 136, :y 225} {:x 104, :y 225} {:x 54, :y 226} {:x 35, :y 234} {:x 30, :y 231} {:x 33, :y 226} {:x 13, :y 247} {:x 0, :y 244} {:x 3, :y 222} {:x 57, :y 203} {:x 83, :y 169} {:x 125, :y 171} {:x 133, :y 170} {:x 140, :y 185} {:x 178, :y 200} {:x 198, :y 204} {:x 198, :y 184} {:x 220, :y 190} {:x 244, :y 202} {:x 262, :y 204} {:x 268, :y 191} {:x 262, :y 181} {:x 280, :y 176} {:x 296, :y 186} {:x 291, :y 192} {:x 282, :y 205} {:x 313, :y 202} {:x 344, :y 233} {:x 367, :y 250} {:x 374, :y 259} {:x 392, :y 251} {:x 409, :y 246} {:x 403, :y 268} {:x 425, :y 282} {:x 415, :y 305} {:x 410, :y 304} {:x 372, :y 300} {:x 364, :y 300} {:x 353, :y 275} {:x 338, :y 278} {:x 328, :y 271} {:x 326, :y 311} {:x 304, :y 316} {:x 230, :y 336} {:x 226, :y 341} {:x 230, :y 345} {:x 219, :y 326} {:x 218, :y 311} {:x 206, :y 302} {:x 192, :y 319} {:x 173, :y 363} {:x 139, :y 331} {:x 108, :y 336} {:x 105, :y 350} {:x 87, :y 347} {:x 80, :y 377} {:x 71, :y 383} {:x 75, :y 397} {:x 100, :y 385} {:x 126, :y 372} {:x 154, :y 422} {:x 156, :y 428} {:x 141, :y 441} {:x 133, :y 450} {:x 152, :y 490} {:x 142, :y 514} {:x 189, :y 492} {:x 209, :y 491} {:x 197, :y 513} {:x 214, :y 529} {:x 211, :y 549} {:x 211, :y 564} {:x 206, :y 577} {:x 244, :y 599} {:x 252, :y 596} {:x 263, :y 580} {:x 293, :y 598} {:x 303, :y 582} {:x 304, :y 572} {:x 317, :y 593} {:x 346, :y 581} {:x 380, :y 598} {:x 388, :y 571} {:x 390, :y 543} {:x 366, :y 522} {:x 358, :y 512} {:x 357, :y 490} {:x 388, :y 462} {:x 400, :y 461} {:x 411, :y 471} {:x 414, :y 454} {:x 409, :y 449} {:x 405, :y 426} {:x 393, :y 420} {:x 406, :y 402} {:x 427, :y 406} {:x 432, :y 421} {:x 432, :y 433} {:x 446, :y 451} {:x 453, :y 477} {:x 436, :y 488} {:x 438, :y 508} {:x 428, :y 510} {:x 414, :y 517} {:x 407, :y 498} {:x 443, :y 535} {:x 435, :y 551} {:x 431, :y 568} {:x 439, :y 585} {:x 418, :y 597} {:x 464, :y 577} {:x 471, :y 584} {:x 504, :y 573} {:x 511, :y 572} {:x 535, :y 571} {:x 560, :y 562} {:x 563, :y 577} {:x 573, :y 591} {:x 592, :y 555} {:x 629, :y 554} {:x 642, :y 566} {:x 622, :y 577} {:x 670, :y 590} {:x 684, :y 568} {:x 710, :y 574} {:x 728, :y 584} {:x 739, :y 581} {:x 747, :y 554} {:x 772, :y 557} {:x 772, :y 526} {:x 796, :y 530} {:x 819, :y 540} {:x 837, :y 511} {:x 855, :y 512} {:x 855, :y 492} {:x 860, :y 488} {:x 874, :y 471} {:x 840, :y 472} {:x 810, :y 435} {:x 791, :y 431} {:x 762, :y 435} {:x 750, :y 430} {:x 747, :y 452} {:x 756, :y 462} {:x 766, :y 465} {:x 766, :y 479} {:x 767, :y 494} {:x 747, :y 507} {:x 728, :y 496} {:x 732, :y 486} {:x 726, :y 464} {:x 704, :y 454} {:x 692, :y 455} {:x 696, :y 431} {:x 728, :y 439} {:x 711, :y 391} {:x 665, :y 411} {:x 654, :y 445} {:x 620, :y 432} {:x 618, :y 439} {:x 600, :y 418} {:x 574, :y 422} {:x 570, :y 412} {:x 565, :y 435} {:x 546, :y 445} {:x 523, :y 428} {:x 520, :y 422} {:x 492, :y 436} {:x 478, :y 435} {:x 496, :y 452} {:x 507, :y 467} {:x 487, :y 482} {:x 464, :y 503} {:x 472, :y 515} {:x 524, :y 541} {:x 527, :y 496} {:x 593, :y 483} {:x 612, :y 472} {:x 616, :y 468} {:x 618, :y 467} {:x 621, :y 487} {:x 615, :y 489} {:x 643, :y 488} {:x 668, :y 501} {:x 680, :y 521} {:x 665, :y 527} {:x 697, :y 510} {:x 766, :y 398} {:x 842, :y 390} {:x 843, :y 396} {:x 848, :y 412} {:x 865, :y 361} {:x 878, :y 355} {:x 860, :y 346} {:x 845, :y 301} {:x 870, :y 280} {:x 895, :y 313} {:x 843, :y 242} {:x 837, :y 212} {:x 828, :y 206} {:x 821, :y 200} {:x 828, :y 166} {:x 846, :y 150} {:x 850, :y 155} {:x 859, :y 140} {:x 866, :y 144} {:x 877, :y 134} {:x 856, :y 124} {:x 871, :y 107} {:x 865, :y 102} {:x 867, :y 99} {:x 837, :y 105} {:x 837, :y 89} {:x 816, :y 78} {:x 813, :y 107} {:x 773, :y 141} {:x 751, :y 148} {:x 756, :y 167} {:x 748, :y 206} {:x 738, :y 208} {:x 723, :y 223} {:x 718, :y 218} {:x 713, :y 245} {:x 727, :y 247} {:x 729, :y 257} {:x 741, :y 265} {:x 757, :y 246} {:x 772, :y 251} {:x 792, :y 287} {:x 744, :y 319} {:x 672, :y 341} {:x 656, :y 344} {:x 635, :y 327} {:x 636, :y 301} {:x 630, :y 294} {:x 607, :y 303} {:x 584, :y 316} {:x 561, :y 318} {:x 563, :y 331} {:x 582, :y 290} {:x 575, :y 285} {:x 535, :y 276} {:x 535, :y 262} {:x 507, :y 254} {:x 480, :y 257} {:x 469, :y 288} {:x 473, :y 298} {:x 460, :y 313} {:x 448, :y 335} {:x 448, :y 340} {:x 475, :y 347} {:x 480, :y 387} {:x 512, :y 372} {:x 593, :y 365} {:x 603, :y 359} {:x 662, :y 314} {:x 694, :y 256} {:x 672, :y 235} {:x 671, :y 215} {:x 648, :y 190} {:x 647, :y 179} {:x 655, :y 178} {:x 635, :y 182} {:x 612, :y 181} {:x 584, :y 167} {:x 589, :y 145} {:x 562, :y 130} {:x 548, :y 136} {:x 539, :y 139} {:x 548, :y 164} {:x 515, :y 186} {:x 524, :y 206} {:x 543, :y 210} {:x 559, :y 213} {:x 562, :y 219} {:x 568, :y 241} {:x 596, :y 208} {:x 614, :y 225} {:x 645, :y 242} {:x 693, :y 175} {:x 714, :y 163} {:x 714, :y 158} {:x 698, :y 151} {:x 688, :y 148} {:x 704, :y 133} {:x 721, :y 92} {:x 732, :y 84} {:x 748, :y 75} {:x 742, :y 101} {:x 748, :y 111} {:x 757, :y 122} {:x 680, :y 93} {:x 676, :y 89} {:x 675, :y 82} {:x 660, :y 66} {:x 668, :y 54} {:x 658, :y 41} {:x 688, :y 40} {:x 697, :y 38} {:x 710, :y 29} {:x 707, :y 23} {:x 763, :y 10} {:x 767, :y 4} {:x 788, :y 34} {:x 778, :y 41} {:x 833, :y 2} {:x 851, :y 7} {:x 853, :y 26} {:x 899, :y 25} {:x 895, :y 67} {:x 893, :y 72} {:x 778, :y 208} {:x 635, :y 104} {:x 624, :y 120} {:x 605, :y 97} {:x 592, :y 73} {:x 591, :y 73} {:x 578, :y 58} {:x 565, :y 69} {:x 555, :y 59} {:x 547, :y 68} {:x 539, :y 49} {:x 519, :y 40} {:x 521, :y 71} {:x 500, :y 70} {:x 495, :y 91} {:x 466, :y 79} {:x 468, :y 71} {:x 459, :y 63} {:x 461, :y 61} {:x 477, :y 40} {:x 453, :y 7} {:x 439, :y 9} {:x 418, :y 13} {:x 412, :y 17} {:x 386, :y 14} {:x 373, :y 21} {:x 340, :y 31} {:x 333, :y 33} {:x 356, :y 57} {:x 324, :y 75} {:x 349, :y 120} {:x 378, :y 121} {:x 399, :y 101} {:x 406, :y 90} {:x 386, :y 86} {:x 403, :y 63} {:x 415, :y 111} {:x 415, :y 139} {:x 388, :y 153} {:x 376, :y 150} {:x 377, :y 167} {:x 390, :y 171} {:x 364, :y 197} {:x 345, :y 152} {:x 277, :y 115} {:x 272, :y 123} {:x 233, :y 118} {:x 209, :y 141} {:x 216, :y 158} {:x 187, :y 155} {:x 170, :y 146} {:x 182, :y 135} {:x 136, :y 141} {:x 130, :y 136} {:x 118, :y 112} {:x 91, :y 113} {:x 70, :y 90} {:x 62, :y 97} {:x 44, :y 71} {:x 36, :y 58} {:x 34, :y 38} {:x 29, :y 39} {:x 8, :y 56} {:x 16, :y 81} {:x 0, :y 134} {:x 82, :y 69} {:x 84, :y 53} {:x 95, :y 44} {:x 114, :y 47} {:x 113, :y 54} {:x 115, :y 71} {:x 152, :y 44} {:x 159, :y 21} {:x 183, :y 5} {:x 196, :y 14} {:x 193, :y 37} {:x 184, :y 73} {:x 228, :y 68} {:x 239, :y 50} {:x 242, :y 41} {:x 250, :y 36} {:x 257, :y 37} {:x 261, :y 32} {:x 270, :y 49} {:x 286, :y 24} {:x 110, :y 7} {:x 67, :y 42} {:x 45, :y 10} {:x 40, :y 13} {:x 52, :y 4} {:x 172, :y 237} {:x 204, :y 235} {:x 207, :y 224} {:x 78, :y 306} {:x 68, :y 293} {:x 63, :y 299} {:x 46, :y 281} {:x 1, :y 295} {:x 3, :y 311} {:x 3, :y 319} {:x 9, :y 348} {:x 5, :y 374} {:x 45, :y 330} {:x 9, :y 435} {:x 10, :y 442} {:x 27, :y 443} {:x 1, :y 475} {:x 1, :y 476} {:x 8, :y 509} {:x 37, :y 541} {:x 34, :y 553} {:x 38, :y 566} {:x 14, :y 556} {:x 70, :y 546} {:x 75, :y 550} {:x 79, :y 564} {:x 54, :y 597} {:x 153, :y 597} {:x 157, :y 572} {:x 93, :y 496} {:x 93, :y 488} {:x 72, :y 468} {:x 58, :y 492} {:x 218, :y 420} {:x 227, :y 395} {:x 383, :y 342} {:x 407, :y 351} {:x 399, :y 364} {:x 394, :y 375} {:x 398, :y 380} {:x 511, :y 284} {:x 496, :y 224} {:x 446, :y 233} {:x 422, :y 195} {:x 449, :y 137} {:x 443, :y 113} {:x 447, :y 102} {:x 456, :y 101} {:x 487, :y 139} {:x 485, :y 158} {:x 549, :y 108} {:x 564, :y 112} {:x 600, :y 35} {:x 610, :y 35} {:x 617, :y 26} {:x 579, :y 26} {:x 507, :y 0} {:x 643, :y 77} {:x 861, :y 543} {:x 843, :y 588} {:x 805, :y 599} {:x 530, :y 599} {:x 352, :y 463})} {:name \"4fa3a7cb-b553-40f4-8897-6cbfd9648a7e\", :values ({:x 352, :y 463} {:x 351, :y 457} {:x 331, :y 434} {:x 293, :y 445} {:x 285, :y 470} {:x 269, :y 461} {:x 272, :y 414} {:x 283, :y 393} {:x 281, :y 384} {:x 268, :y 369} {:x 273, :y 352} {:x 278, :y 350} {:x 276, :y 324} {:x 257, :y 315} {:x 266, :y 305} {:x 289, :y 281} {:x 278, :y 262} {:x 260, :y 262} {:x 254, :y 259} {:x 233, :y 259} {:x 229, :y 256} {:x 209, :y 249} {:x 205, :y 259} {:x 200, :y 273} {:x 186, :y 267} {:x 163, :y 279} {:x 168, :y 288} {:x 135, :y 301} {:x 122, :y 295} {:x 107, :y 279} {:x 109, :y 277} {:x 94, :y 269} {:x 112, :y 247} {:x 133, :y 243} {:x 147, :y 237} {:x 150, :y 250} {:x 135, :y 266} {:x 136, :y 225} {:x 104, :y 225} {:x 54, :y 226} {:x 35, :y 234} {:x 30, :y 231} {:x 33, :y 226} {:x 13, :y 247} {:x 0, :y 244} {:x 3, :y 222} {:x 57, :y 203} {:x 83, :y 169} {:x 125, :y 171} {:x 133, :y 170} {:x 140, :y 185} {:x 178, :y 200} {:x 198, :y 204} {:x 198, :y 184} {:x 220, :y 190} {:x 244, :y 202} {:x 262, :y 204} {:x 268, :y 191} {:x 262, :y 181} {:x 280, :y 176} {:x 296, :y 186} {:x 291, :y 192} {:x 282, :y 205} {:x 313, :y 202} {:x 344, :y 233} {:x 367, :y 250} {:x 374, :y 259} {:x 392, :y 251} {:x 409, :y 246} {:x 403, :y 268} {:x 425, :y 282} {:x 415, :y 305} {:x 410, :y 304} {:x 372, :y 300} {:x 364, :y 300} {:x 353, :y 275} {:x 338, :y 278} {:x 328, :y 271} {:x 326, :y 311} {:x 304, :y 316} {:x 230, :y 336} {:x 226, :y 341} {:x 230, :y 345} {:x 219, :y 326} {:x 218, :y 311} {:x 206, :y 302} {:x 192, :y 319} {:x 173, :y 363} {:x 139, :y 331} {:x 108, :y 336} {:x 105, :y 350} {:x 87, :y 347} {:x 80, :y 377} {:x 71, :y 383} {:x 75, :y 397} {:x 100, :y 385} {:x 126, :y 372} {:x 154, :y 422} {:x 156, :y 428} {:x 141, :y 441} {:x 133, :y 450} {:x 152, :y 490} {:x 142, :y 514} {:x 189, :y 492} {:x 209, :y 491} {:x 197, :y 513} {:x 214, :y 529} {:x 211, :y 549} {:x 211, :y 564} {:x 206, :y 577} {:x 244, :y 599} {:x 252, :y 596} {:x 263, :y 580} {:x 293, :y 598} {:x 303, :y 582} {:x 304, :y 572} {:x 317, :y 593} {:x 346, :y 581} {:x 380, :y 598} {:x 388, :y 571} {:x 390, :y 543} {:x 366, :y 522} {:x 358, :y 512} {:x 357, :y 490} {:x 388, :y 462} {:x 400, :y 461} {:x 411, :y 471} {:x 414, :y 454} {:x 409, :y 449} {:x 405, :y 426} {:x 393, :y 420} {:x 406, :y 402} {:x 427, :y 406} {:x 432, :y 421} {:x 432, :y 433} {:x 446, :y 451} {:x 453, :y 477} {:x 436, :y 488} {:x 438, :y 508} {:x 428, :y 510} {:x 414, :y 517} {:x 407, :y 498} {:x 443, :y 535} {:x 435, :y 551} {:x 431, :y 568} {:x 439, :y 585} {:x 418, :y 597} {:x 464, :y 577} {:x 471, :y 584} {:x 504, :y 573} {:x 511, :y 572} {:x 535, :y 571} {:x 560, :y 562} {:x 563, :y 577} {:x 573, :y 591} {:x 592, :y 555} {:x 629, :y 554} {:x 642, :y 566} {:x 622, :y 577} {:x 670, :y 590} {:x 684, :y 568} {:x 710, :y 574} {:x 728, :y 584} {:x 739, :y 581} {:x 747, :y 554} {:x 772, :y 557} {:x 772, :y 526} {:x 796, :y 530} {:x 819, :y 540} {:x 837, :y 511} {:x 855, :y 512} {:x 855, :y 492} {:x 860, :y 488} {:x 874, :y 471} {:x 840, :y 472} {:x 810, :y 435} {:x 791, :y 431} {:x 762, :y 435} {:x 750, :y 430} {:x 747, :y 452} {:x 756, :y 462} {:x 766, :y 465} {:x 766, :y 479} {:x 767, :y 494} {:x 747, :y 507} {:x 728, :y 496} {:x 732, :y 486} {:x 726, :y 464} {:x 704, :y 454} {:x 692, :y 455} {:x 696, :y 431} {:x 728, :y 439} {:x 711, :y 391} {:x 665, :y 411} {:x 654, :y 445} {:x 620, :y 432} {:x 618, :y 439} {:x 600, :y 418} {:x 574, :y 422} {:x 570, :y 412} {:x 565, :y 435} {:x 546, :y 445} {:x 523, :y 428} {:x 520, :y 422} {:x 492, :y 436} {:x 478, :y 435} {:x 496, :y 452} {:x 507, :y 467} {:x 487, :y 482} {:x 464, :y 503} {:x 472, :y 515} {:x 524, :y 541} {:x 527, :y 496} {:x 593, :y 483} {:x 612, :y 472} {:x 616, :y 468} {:x 618, :y 467} {:x 621, :y 487} {:x 615, :y 489} {:x 643, :y 488} {:x 668, :y 501} {:x 680, :y 521} {:x 665, :y 527} {:x 697, :y 510} {:x 766, :y 398} {:x 842, :y 390} {:x 843, :y 396} {:x 848, :y 412} {:x 865, :y 361} {:x 878, :y 355} {:x 860, :y 346} {:x 845, :y 301} {:x 870, :y 280} {:x 895, :y 313} {:x 843, :y 242} {:x 837, :y 212} {:x 828, :y 206} {:x 821, :y 200} {:x 828, :y 166} {:x 846, :y 150} {:x 850, :y 155} {:x 859, :y 140} {:x 866, :y 144} {:x 877, :y 134} {:x 856, :y 124} {:x 871, :y 107} {:x 865, :y 102} {:x 867, :y 99} {:x 837, :y 105} {:x 837, :y 89} {:x 816, :y 78} {:x 813, :y 107} {:x 773, :y 141} {:x 751, :y 148} {:x 756, :y 167} {:x 748, :y 206} {:x 738, :y 208} {:x 723, :y 223} {:x 718, :y 218} {:x 713, :y 245} {:x 727, :y 247} {:x 729, :y 257} {:x 741, :y 265} {:x 757, :y 246} {:x 772, :y 251} {:x 792, :y 287} {:x 744, :y 319} {:x 672, :y 341} {:x 656, :y 344} {:x 635, :y 327} {:x 636, :y 301} {:x 630, :y 294} {:x 607, :y 303} {:x 584, :y 316} {:x 561, :y 318} {:x 563, :y 331} {:x 582, :y 290} {:x 575, :y 285} {:x 535, :y 276} {:x 535, :y 262} {:x 507, :y 254} {:x 480, :y 257} {:x 469, :y 288} {:x 473, :y 298} {:x 460, :y 313} {:x 448, :y 335} {:x 448, :y 340} {:x 475, :y 347} {:x 480, :y 387} {:x 512, :y 372} {:x 593, :y 365} {:x 603, :y 359} {:x 662, :y 314} {:x 694, :y 256} {:x 672, :y 235} {:x 671, :y 215} {:x 648, :y 190} {:x 647, :y 179} {:x 655, :y 178} {:x 635, :y 182} {:x 612, :y 181} {:x 584, :y 167} {:x 589, :y 145} {:x 562, :y 130} {:x 548, :y 136} {:x 539, :y 139} {:x 548, :y 164} {:x 515, :y 186} {:x 524, :y 206} {:x 543, :y 210} {:x 559, :y 213} {:x 562, :y 219} {:x 568, :y 241} {:x 596, :y 208} {:x 614, :y 225} {:x 645, :y 242} {:x 693, :y 175} {:x 714, :y 163} {:x 714, :y 158} {:x 698, :y 151} {:x 688, :y 148} {:x 704, :y 133} {:x 721, :y 92} {:x 732, :y 84} {:x 748, :y 75} {:x 742, :y 101} {:x 748, :y 111} {:x 757, :y 122} {:x 680, :y 93} {:x 676, :y 89} {:x 675, :y 82} {:x 660, :y 66} {:x 668, :y 54} {:x 658, :y 41} {:x 688, :y 40} {:x 697, :y 38} {:x 710, :y 29} {:x 707, :y 23} {:x 763, :y 10} {:x 767, :y 4} {:x 788, :y 34} {:x 778, :y 41} {:x 833, :y 2} {:x 851, :y 7} {:x 853, :y 26} {:x 899, :y 25} {:x 895, :y 67} {:x 893, :y 72} {:x 778, :y 208} {:x 635, :y 104} {:x 624, :y 120} {:x 605, :y 97} {:x 592, :y 73} {:x 591, :y 73} {:x 578, :y 58} {:x 565, :y 69} {:x 555, :y 59} {:x 547, :y 68} {:x 539, :y 49} {:x 519, :y 40} {:x 521, :y 71} {:x 500, :y 70} {:x 495, :y 91} {:x 466, :y 79} {:x 468, :y 71} {:x 459, :y 63} {:x 461, :y 61} {:x 477, :y 40} {:x 453, :y 7} {:x 439, :y 9} {:x 418, :y 13} {:x 412, :y 17} {:x 386, :y 14} {:x 373, :y 21} {:x 340, :y 31} {:x 333, :y 33} {:x 356, :y 57} {:x 324, :y 75} {:x 349, :y 120} {:x 378, :y 121} {:x 399, :y 101} {:x 406, :y 90} {:x 386, :y 86} {:x 403, :y 63} {:x 415, :y 111} {:x 415, :y 139} {:x 388, :y 153} {:x 376, :y 150} {:x 377, :y 167} {:x 390, :y 171} {:x 364, :y 197} {:x 345, :y 152} {:x 277, :y 115} {:x 272, :y 123} {:x 233, :y 118} {:x 209, :y 141} {:x 216, :y 158} {:x 187, :y 155} {:x 170, :y 146} {:x 182, :y 135} {:x 136, :y 141} {:x 130, :y 136} {:x 118, :y 112} {:x 91, :y 113} {:x 70, :y 90} {:x 62, :y 97} {:x 44, :y 71} {:x 36, :y 58} {:x 34, :y 38} {:x 29, :y 39} {:x 8, :y 56} {:x 16, :y 81} {:x 0, :y 134} {:x 82, :y 69} {:x 84, :y 53} {:x 95, :y 44} {:x 114, :y 47} {:x 113, :y 54} {:x 115, :y 71} {:x 152, :y 44} {:x 159, :y 21} {:x 183, :y 5} {:x 196, :y 14} {:x 193, :y 37} {:x 184, :y 73} {:x 228, :y 68} {:x 239, :y 50} {:x 242, :y 41} {:x 250, :y 36} {:x 257, :y 37} {:x 261, :y 32} {:x 270, :y 49} {:x 286, :y 24} {:x 110, :y 7} {:x 67, :y 42} {:x 45, :y 10} {:x 40, :y 13} {:x 52, :y 4} {:x 172, :y 237} {:x 204, :y 235} {:x 207, :y 224} {:x 78, :y 306} {:x 68, :y 293} {:x 63, :y 299} {:x 46, :y 281} {:x 1, :y 295} {:x 3, :y 311} {:x 3, :y 319} {:x 9, :y 348} {:x 5, :y 374} {:x 45, :y 330} {:x 9, :y 435} {:x 10, :y 442} {:x 27, :y 443} {:x 1, :y 475} {:x 1, :y 476} {:x 8, :y 509} {:x 37, :y 541} {:x 34, :y 553} {:x 38, :y 566} {:x 14, :y 556} {:x 70, :y 546} {:x 75, :y 550} {:x 79, :y 564} {:x 54, :y 597} {:x 153, :y 597} {:x 157, :y 572} {:x 93, :y 496} {:x 93, :y 488} {:x 72, :y 468} {:x 58, :y 492} {:x 218, :y 420} {:x 227, :y 395} {:x 383, :y 342} {:x 407, :y 351} {:x 399, :y 364} {:x 394, :y 375} {:x 398, :y 380} {:x 511, :y 284} {:x 496, :y 224} {:x 446, :y 233} {:x 422, :y 195} {:x 449, :y 137} {:x 443, :y 113} {:x 447, :y 102} {:x 456, :y 101} {:x 487, :y 139} {:x 485, :y 158} {:x 549, :y 108} {:x 564, :y 112} {:x 600, :y 35} {:x 610, :y 35} {:x 617, :y 26} {:x 579, :y 26} {:x 507, :y 0} {:x 643, :y 77} {:x 861, :y 543} {:x 843, :y 588} {:x 805, :y 599} {:x 530, :y 599} {:x 352, :y 463})} {:name \"88f7a9bc-d2ad-49e4-ba69-4c1fc820d41f\", :values ({:x 352, :y 463})}), :marks ({:type \"symbol\", :from {:data \"e1fd5c62-560d-44b0-99b2-c9b3ff3c5d27\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"steelblue\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}} {:type \"line\", :from {:data \"4fa3a7cb-b553-40f4-8897-6cbfd9648a7e\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :stroke {:value \"#FF29D2\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}} {:type \"symbol\", :from {:data \"88f7a9bc-d2ad-49e4-ba69-4c1fc820d41f\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"#FF0000\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}})}}"}],"value":"[\"500 cities\" \"distance: 15192.633464529297\" #gorilla_repl.vega.VegaView{:content {:width 400, :height 247.2188, :padding {:top 10, :left 55, :bottom 40, :right 10}, :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"e1fd5c62-560d-44b0-99b2-c9b3ff3c5d27\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"e1fd5c62-560d-44b0-99b2-c9b3ff3c5d27\", :field \"data.y\"}}], :axes [{:type \"x\", :scale \"x\"} {:type \"y\", :scale \"y\"}], :data ({:name \"e1fd5c62-560d-44b0-99b2-c9b3ff3c5d27\", :values ({:x 352, :y 463} {:x 351, :y 457} {:x 331, :y 434} {:x 293, :y 445} {:x 285, :y 470} {:x 269, :y 461} {:x 272, :y 414} {:x 283, :y 393} {:x 281, :y 384} {:x 268, :y 369} {:x 273, :y 352} {:x 278, :y 350} {:x 276, :y 324} {:x 257, :y 315} {:x 266, :y 305} {:x 289, :y 281} {:x 278, :y 262} {:x 260, :y 262} {:x 254, :y 259} {:x 233, :y 259} {:x 229, :y 256} {:x 209, :y 249} {:x 205, :y 259} {:x 200, :y 273} {:x 186, :y 267} {:x 163, :y 279} {:x 168, :y 288} {:x 135, :y 301} {:x 122, :y 295} {:x 107, :y 279} {:x 109, :y 277} {:x 94, :y 269} {:x 112, :y 247} {:x 133, :y 243} {:x 147, :y 237} {:x 150, :y 250} {:x 135, :y 266} {:x 136, :y 225} {:x 104, :y 225} {:x 54, :y 226} {:x 35, :y 234} {:x 30, :y 231} {:x 33, :y 226} {:x 13, :y 247} {:x 0, :y 244} {:x 3, :y 222} {:x 57, :y 203} {:x 83, :y 169} {:x 125, :y 171} {:x 133, :y 170} {:x 140, :y 185} {:x 178, :y 200} {:x 198, :y 204} {:x 198, :y 184} {:x 220, :y 190} {:x 244, :y 202} {:x 262, :y 204} {:x 268, :y 191} {:x 262, :y 181} {:x 280, :y 176} {:x 296, :y 186} {:x 291, :y 192} {:x 282, :y 205} {:x 313, :y 202} {:x 344, :y 233} {:x 367, :y 250} {:x 374, :y 259} {:x 392, :y 251} {:x 409, :y 246} {:x 403, :y 268} {:x 425, :y 282} {:x 415, :y 305} {:x 410, :y 304} {:x 372, :y 300} {:x 364, :y 300} {:x 353, :y 275} {:x 338, :y 278} {:x 328, :y 271} {:x 326, :y 311} {:x 304, :y 316} {:x 230, :y 336} {:x 226, :y 341} {:x 230, :y 345} {:x 219, :y 326} {:x 218, :y 311} {:x 206, :y 302} {:x 192, :y 319} {:x 173, :y 363} {:x 139, :y 331} {:x 108, :y 336} {:x 105, :y 350} {:x 87, :y 347} {:x 80, :y 377} {:x 71, :y 383} {:x 75, :y 397} {:x 100, :y 385} {:x 126, :y 372} {:x 154, :y 422} {:x 156, :y 428} {:x 141, :y 441} {:x 133, :y 450} {:x 152, :y 490} {:x 142, :y 514} {:x 189, :y 492} {:x 209, :y 491} {:x 197, :y 513} {:x 214, :y 529} {:x 211, :y 549} {:x 211, :y 564} {:x 206, :y 577} {:x 244, :y 599} {:x 252, :y 596} {:x 263, :y 580} {:x 293, :y 598} {:x 303, :y 582} {:x 304, :y 572} {:x 317, :y 593} {:x 346, :y 581} {:x 380, :y 598} {:x 388, :y 571} {:x 390, :y 543} {:x 366, :y 522} {:x 358, :y 512} {:x 357, :y 490} {:x 388, :y 462} {:x 400, :y 461} {:x 411, :y 471} {:x 414, :y 454} {:x 409, :y 449} {:x 405, :y 426} {:x 393, :y 420} {:x 406, :y 402} {:x 427, :y 406} {:x 432, :y 421} {:x 432, :y 433} {:x 446, :y 451} {:x 453, :y 477} {:x 436, :y 488} {:x 438, :y 508} {:x 428, :y 510} {:x 414, :y 517} {:x 407, :y 498} {:x 443, :y 535} {:x 435, :y 551} {:x 431, :y 568} {:x 439, :y 585} {:x 418, :y 597} {:x 464, :y 577} {:x 471, :y 584} {:x 504, :y 573} {:x 511, :y 572} {:x 535, :y 571} {:x 560, :y 562} {:x 563, :y 577} {:x 573, :y 591} {:x 592, :y 555} {:x 629, :y 554} {:x 642, :y 566} {:x 622, :y 577} {:x 670, :y 590} {:x 684, :y 568} {:x 710, :y 574} {:x 728, :y 584} {:x 739, :y 581} {:x 747, :y 554} {:x 772, :y 557} {:x 772, :y 526} {:x 796, :y 530} {:x 819, :y 540} {:x 837, :y 511} {:x 855, :y 512} {:x 855, :y 492} {:x 860, :y 488} {:x 874, :y 471} {:x 840, :y 472} {:x 810, :y 435} {:x 791, :y 431} {:x 762, :y 435} {:x 750, :y 430} {:x 747, :y 452} {:x 756, :y 462} {:x 766, :y 465} {:x 766, :y 479} {:x 767, :y 494} {:x 747, :y 507} {:x 728, :y 496} {:x 732, :y 486} {:x 726, :y 464} {:x 704, :y 454} {:x 692, :y 455} {:x 696, :y 431} {:x 728, :y 439} {:x 711, :y 391} {:x 665, :y 411} {:x 654, :y 445} {:x 620, :y 432} {:x 618, :y 439} {:x 600, :y 418} {:x 574, :y 422} {:x 570, :y 412} {:x 565, :y 435} {:x 546, :y 445} {:x 523, :y 428} {:x 520, :y 422} {:x 492, :y 436} {:x 478, :y 435} {:x 496, :y 452} {:x 507, :y 467} {:x 487, :y 482} {:x 464, :y 503} {:x 472, :y 515} {:x 524, :y 541} {:x 527, :y 496} {:x 593, :y 483} {:x 612, :y 472} {:x 616, :y 468} {:x 618, :y 467} {:x 621, :y 487} {:x 615, :y 489} {:x 643, :y 488} {:x 668, :y 501} {:x 680, :y 521} {:x 665, :y 527} {:x 697, :y 510} {:x 766, :y 398} {:x 842, :y 390} {:x 843, :y 396} {:x 848, :y 412} {:x 865, :y 361} {:x 878, :y 355} {:x 860, :y 346} {:x 845, :y 301} {:x 870, :y 280} {:x 895, :y 313} {:x 843, :y 242} {:x 837, :y 212} {:x 828, :y 206} {:x 821, :y 200} {:x 828, :y 166} {:x 846, :y 150} {:x 850, :y 155} {:x 859, :y 140} {:x 866, :y 144} {:x 877, :y 134} {:x 856, :y 124} {:x 871, :y 107} {:x 865, :y 102} {:x 867, :y 99} {:x 837, :y 105} {:x 837, :y 89} {:x 816, :y 78} {:x 813, :y 107} {:x 773, :y 141} {:x 751, :y 148} {:x 756, :y 167} {:x 748, :y 206} {:x 738, :y 208} {:x 723, :y 223} {:x 718, :y 218} {:x 713, :y 245} {:x 727, :y 247} {:x 729, :y 257} {:x 741, :y 265} {:x 757, :y 246} {:x 772, :y 251} {:x 792, :y 287} {:x 744, :y 319} {:x 672, :y 341} {:x 656, :y 344} {:x 635, :y 327} {:x 636, :y 301} {:x 630, :y 294} {:x 607, :y 303} {:x 584, :y 316} {:x 561, :y 318} {:x 563, :y 331} {:x 582, :y 290} {:x 575, :y 285} {:x 535, :y 276} {:x 535, :y 262} {:x 507, :y 254} {:x 480, :y 257} {:x 469, :y 288} {:x 473, :y 298} {:x 460, :y 313} {:x 448, :y 335} {:x 448, :y 340} {:x 475, :y 347} {:x 480, :y 387} {:x 512, :y 372} {:x 593, :y 365} {:x 603, :y 359} {:x 662, :y 314} {:x 694, :y 256} {:x 672, :y 235} {:x 671, :y 215} {:x 648, :y 190} {:x 647, :y 179} {:x 655, :y 178} {:x 635, :y 182} {:x 612, :y 181} {:x 584, :y 167} {:x 589, :y 145} {:x 562, :y 130} {:x 548, :y 136} {:x 539, :y 139} {:x 548, :y 164} {:x 515, :y 186} {:x 524, :y 206} {:x 543, :y 210} {:x 559, :y 213} {:x 562, :y 219} {:x 568, :y 241} {:x 596, :y 208} {:x 614, :y 225} {:x 645, :y 242} {:x 693, :y 175} {:x 714, :y 163} {:x 714, :y 158} {:x 698, :y 151} {:x 688, :y 148} {:x 704, :y 133} {:x 721, :y 92} {:x 732, :y 84} {:x 748, :y 75} {:x 742, :y 101} {:x 748, :y 111} {:x 757, :y 122} {:x 680, :y 93} {:x 676, :y 89} {:x 675, :y 82} {:x 660, :y 66} {:x 668, :y 54} {:x 658, :y 41} {:x 688, :y 40} {:x 697, :y 38} {:x 710, :y 29} {:x 707, :y 23} {:x 763, :y 10} {:x 767, :y 4} {:x 788, :y 34} {:x 778, :y 41} {:x 833, :y 2} {:x 851, :y 7} {:x 853, :y 26} {:x 899, :y 25} {:x 895, :y 67} {:x 893, :y 72} {:x 778, :y 208} {:x 635, :y 104} {:x 624, :y 120} {:x 605, :y 97} {:x 592, :y 73} {:x 591, :y 73} {:x 578, :y 58} {:x 565, :y 69} {:x 555, :y 59} {:x 547, :y 68} {:x 539, :y 49} {:x 519, :y 40} {:x 521, :y 71} {:x 500, :y 70} {:x 495, :y 91} {:x 466, :y 79} {:x 468, :y 71} {:x 459, :y 63} {:x 461, :y 61} {:x 477, :y 40} {:x 453, :y 7} {:x 439, :y 9} {:x 418, :y 13} {:x 412, :y 17} {:x 386, :y 14} {:x 373, :y 21} {:x 340, :y 31} {:x 333, :y 33} {:x 356, :y 57} {:x 324, :y 75} {:x 349, :y 120} {:x 378, :y 121} {:x 399, :y 101} {:x 406, :y 90} {:x 386, :y 86} {:x 403, :y 63} {:x 415, :y 111} {:x 415, :y 139} {:x 388, :y 153} {:x 376, :y 150} {:x 377, :y 167} {:x 390, :y 171} {:x 364, :y 197} {:x 345, :y 152} {:x 277, :y 115} {:x 272, :y 123} {:x 233, :y 118} {:x 209, :y 141} {:x 216, :y 158} {:x 187, :y 155} {:x 170, :y 146} {:x 182, :y 135} {:x 136, :y 141} {:x 130, :y 136} {:x 118, :y 112} {:x 91, :y 113} {:x 70, :y 90} {:x 62, :y 97} {:x 44, :y 71} {:x 36, :y 58} {:x 34, :y 38} {:x 29, :y 39} {:x 8, :y 56} {:x 16, :y 81} {:x 0, :y 134} {:x 82, :y 69} {:x 84, :y 53} {:x 95, :y 44} {:x 114, :y 47} {:x 113, :y 54} {:x 115, :y 71} {:x 152, :y 44} {:x 159, :y 21} {:x 183, :y 5} {:x 196, :y 14} {:x 193, :y 37} {:x 184, :y 73} {:x 228, :y 68} {:x 239, :y 50} {:x 242, :y 41} {:x 250, :y 36} {:x 257, :y 37} {:x 261, :y 32} {:x 270, :y 49} {:x 286, :y 24} {:x 110, :y 7} {:x 67, :y 42} {:x 45, :y 10} {:x 40, :y 13} {:x 52, :y 4} {:x 172, :y 237} {:x 204, :y 235} {:x 207, :y 224} {:x 78, :y 306} {:x 68, :y 293} {:x 63, :y 299} {:x 46, :y 281} {:x 1, :y 295} {:x 3, :y 311} {:x 3, :y 319} {:x 9, :y 348} {:x 5, :y 374} {:x 45, :y 330} {:x 9, :y 435} {:x 10, :y 442} {:x 27, :y 443} {:x 1, :y 475} {:x 1, :y 476} {:x 8, :y 509} {:x 37, :y 541} {:x 34, :y 553} {:x 38, :y 566} {:x 14, :y 556} {:x 70, :y 546} {:x 75, :y 550} {:x 79, :y 564} {:x 54, :y 597} {:x 153, :y 597} {:x 157, :y 572} {:x 93, :y 496} {:x 93, :y 488} {:x 72, :y 468} {:x 58, :y 492} {:x 218, :y 420} {:x 227, :y 395} {:x 383, :y 342} {:x 407, :y 351} {:x 399, :y 364} {:x 394, :y 375} {:x 398, :y 380} {:x 511, :y 284} {:x 496, :y 224} {:x 446, :y 233} {:x 422, :y 195} {:x 449, :y 137} {:x 443, :y 113} {:x 447, :y 102} {:x 456, :y 101} {:x 487, :y 139} {:x 485, :y 158} {:x 549, :y 108} {:x 564, :y 112} {:x 600, :y 35} {:x 610, :y 35} {:x 617, :y 26} {:x 579, :y 26} {:x 507, :y 0} {:x 643, :y 77} {:x 861, :y 543} {:x 843, :y 588} {:x 805, :y 599} {:x 530, :y 599} {:x 352, :y 463})} {:name \"4fa3a7cb-b553-40f4-8897-6cbfd9648a7e\", :values ({:x 352, :y 463} {:x 351, :y 457} {:x 331, :y 434} {:x 293, :y 445} {:x 285, :y 470} {:x 269, :y 461} {:x 272, :y 414} {:x 283, :y 393} {:x 281, :y 384} {:x 268, :y 369} {:x 273, :y 352} {:x 278, :y 350} {:x 276, :y 324} {:x 257, :y 315} {:x 266, :y 305} {:x 289, :y 281} {:x 278, :y 262} {:x 260, :y 262} {:x 254, :y 259} {:x 233, :y 259} {:x 229, :y 256} {:x 209, :y 249} {:x 205, :y 259} {:x 200, :y 273} {:x 186, :y 267} {:x 163, :y 279} {:x 168, :y 288} {:x 135, :y 301} {:x 122, :y 295} {:x 107, :y 279} {:x 109, :y 277} {:x 94, :y 269} {:x 112, :y 247} {:x 133, :y 243} {:x 147, :y 237} {:x 150, :y 250} {:x 135, :y 266} {:x 136, :y 225} {:x 104, :y 225} {:x 54, :y 226} {:x 35, :y 234} {:x 30, :y 231} {:x 33, :y 226} {:x 13, :y 247} {:x 0, :y 244} {:x 3, :y 222} {:x 57, :y 203} {:x 83, :y 169} {:x 125, :y 171} {:x 133, :y 170} {:x 140, :y 185} {:x 178, :y 200} {:x 198, :y 204} {:x 198, :y 184} {:x 220, :y 190} {:x 244, :y 202} {:x 262, :y 204} {:x 268, :y 191} {:x 262, :y 181} {:x 280, :y 176} {:x 296, :y 186} {:x 291, :y 192} {:x 282, :y 205} {:x 313, :y 202} {:x 344, :y 233} {:x 367, :y 250} {:x 374, :y 259} {:x 392, :y 251} {:x 409, :y 246} {:x 403, :y 268} {:x 425, :y 282} {:x 415, :y 305} {:x 410, :y 304} {:x 372, :y 300} {:x 364, :y 300} {:x 353, :y 275} {:x 338, :y 278} {:x 328, :y 271} {:x 326, :y 311} {:x 304, :y 316} {:x 230, :y 336} {:x 226, :y 341} {:x 230, :y 345} {:x 219, :y 326} {:x 218, :y 311} {:x 206, :y 302} {:x 192, :y 319} {:x 173, :y 363} {:x 139, :y 331} {:x 108, :y 336} {:x 105, :y 350} {:x 87, :y 347} {:x 80, :y 377} {:x 71, :y 383} {:x 75, :y 397} {:x 100, :y 385} {:x 126, :y 372} {:x 154, :y 422} {:x 156, :y 428} {:x 141, :y 441} {:x 133, :y 450} {:x 152, :y 490} {:x 142, :y 514} {:x 189, :y 492} {:x 209, :y 491} {:x 197, :y 513} {:x 214, :y 529} {:x 211, :y 549} {:x 211, :y 564} {:x 206, :y 577} {:x 244, :y 599} {:x 252, :y 596} {:x 263, :y 580} {:x 293, :y 598} {:x 303, :y 582} {:x 304, :y 572} {:x 317, :y 593} {:x 346, :y 581} {:x 380, :y 598} {:x 388, :y 571} {:x 390, :y 543} {:x 366, :y 522} {:x 358, :y 512} {:x 357, :y 490} {:x 388, :y 462} {:x 400, :y 461} {:x 411, :y 471} {:x 414, :y 454} {:x 409, :y 449} {:x 405, :y 426} {:x 393, :y 420} {:x 406, :y 402} {:x 427, :y 406} {:x 432, :y 421} {:x 432, :y 433} {:x 446, :y 451} {:x 453, :y 477} {:x 436, :y 488} {:x 438, :y 508} {:x 428, :y 510} {:x 414, :y 517} {:x 407, :y 498} {:x 443, :y 535} {:x 435, :y 551} {:x 431, :y 568} {:x 439, :y 585} {:x 418, :y 597} {:x 464, :y 577} {:x 471, :y 584} {:x 504, :y 573} {:x 511, :y 572} {:x 535, :y 571} {:x 560, :y 562} {:x 563, :y 577} {:x 573, :y 591} {:x 592, :y 555} {:x 629, :y 554} {:x 642, :y 566} {:x 622, :y 577} {:x 670, :y 590} {:x 684, :y 568} {:x 710, :y 574} {:x 728, :y 584} {:x 739, :y 581} {:x 747, :y 554} {:x 772, :y 557} {:x 772, :y 526} {:x 796, :y 530} {:x 819, :y 540} {:x 837, :y 511} {:x 855, :y 512} {:x 855, :y 492} {:x 860, :y 488} {:x 874, :y 471} {:x 840, :y 472} {:x 810, :y 435} {:x 791, :y 431} {:x 762, :y 435} {:x 750, :y 430} {:x 747, :y 452} {:x 756, :y 462} {:x 766, :y 465} {:x 766, :y 479} {:x 767, :y 494} {:x 747, :y 507} {:x 728, :y 496} {:x 732, :y 486} {:x 726, :y 464} {:x 704, :y 454} {:x 692, :y 455} {:x 696, :y 431} {:x 728, :y 439} {:x 711, :y 391} {:x 665, :y 411} {:x 654, :y 445} {:x 620, :y 432} {:x 618, :y 439} {:x 600, :y 418} {:x 574, :y 422} {:x 570, :y 412} {:x 565, :y 435} {:x 546, :y 445} {:x 523, :y 428} {:x 520, :y 422} {:x 492, :y 436} {:x 478, :y 435} {:x 496, :y 452} {:x 507, :y 467} {:x 487, :y 482} {:x 464, :y 503} {:x 472, :y 515} {:x 524, :y 541} {:x 527, :y 496} {:x 593, :y 483} {:x 612, :y 472} {:x 616, :y 468} {:x 618, :y 467} {:x 621, :y 487} {:x 615, :y 489} {:x 643, :y 488} {:x 668, :y 501} {:x 680, :y 521} {:x 665, :y 527} {:x 697, :y 510} {:x 766, :y 398} {:x 842, :y 390} {:x 843, :y 396} {:x 848, :y 412} {:x 865, :y 361} {:x 878, :y 355} {:x 860, :y 346} {:x 845, :y 301} {:x 870, :y 280} {:x 895, :y 313} {:x 843, :y 242} {:x 837, :y 212} {:x 828, :y 206} {:x 821, :y 200} {:x 828, :y 166} {:x 846, :y 150} {:x 850, :y 155} {:x 859, :y 140} {:x 866, :y 144} {:x 877, :y 134} {:x 856, :y 124} {:x 871, :y 107} {:x 865, :y 102} {:x 867, :y 99} {:x 837, :y 105} {:x 837, :y 89} {:x 816, :y 78} {:x 813, :y 107} {:x 773, :y 141} {:x 751, :y 148} {:x 756, :y 167} {:x 748, :y 206} {:x 738, :y 208} {:x 723, :y 223} {:x 718, :y 218} {:x 713, :y 245} {:x 727, :y 247} {:x 729, :y 257} {:x 741, :y 265} {:x 757, :y 246} {:x 772, :y 251} {:x 792, :y 287} {:x 744, :y 319} {:x 672, :y 341} {:x 656, :y 344} {:x 635, :y 327} {:x 636, :y 301} {:x 630, :y 294} {:x 607, :y 303} {:x 584, :y 316} {:x 561, :y 318} {:x 563, :y 331} {:x 582, :y 290} {:x 575, :y 285} {:x 535, :y 276} {:x 535, :y 262} {:x 507, :y 254} {:x 480, :y 257} {:x 469, :y 288} {:x 473, :y 298} {:x 460, :y 313} {:x 448, :y 335} {:x 448, :y 340} {:x 475, :y 347} {:x 480, :y 387} {:x 512, :y 372} {:x 593, :y 365} {:x 603, :y 359} {:x 662, :y 314} {:x 694, :y 256} {:x 672, :y 235} {:x 671, :y 215} {:x 648, :y 190} {:x 647, :y 179} {:x 655, :y 178} {:x 635, :y 182} {:x 612, :y 181} {:x 584, :y 167} {:x 589, :y 145} {:x 562, :y 130} {:x 548, :y 136} {:x 539, :y 139} {:x 548, :y 164} {:x 515, :y 186} {:x 524, :y 206} {:x 543, :y 210} {:x 559, :y 213} {:x 562, :y 219} {:x 568, :y 241} {:x 596, :y 208} {:x 614, :y 225} {:x 645, :y 242} {:x 693, :y 175} {:x 714, :y 163} {:x 714, :y 158} {:x 698, :y 151} {:x 688, :y 148} {:x 704, :y 133} {:x 721, :y 92} {:x 732, :y 84} {:x 748, :y 75} {:x 742, :y 101} {:x 748, :y 111} {:x 757, :y 122} {:x 680, :y 93} {:x 676, :y 89} {:x 675, :y 82} {:x 660, :y 66} {:x 668, :y 54} {:x 658, :y 41} {:x 688, :y 40} {:x 697, :y 38} {:x 710, :y 29} {:x 707, :y 23} {:x 763, :y 10} {:x 767, :y 4} {:x 788, :y 34} {:x 778, :y 41} {:x 833, :y 2} {:x 851, :y 7} {:x 853, :y 26} {:x 899, :y 25} {:x 895, :y 67} {:x 893, :y 72} {:x 778, :y 208} {:x 635, :y 104} {:x 624, :y 120} {:x 605, :y 97} {:x 592, :y 73} {:x 591, :y 73} {:x 578, :y 58} {:x 565, :y 69} {:x 555, :y 59} {:x 547, :y 68} {:x 539, :y 49} {:x 519, :y 40} {:x 521, :y 71} {:x 500, :y 70} {:x 495, :y 91} {:x 466, :y 79} {:x 468, :y 71} {:x 459, :y 63} {:x 461, :y 61} {:x 477, :y 40} {:x 453, :y 7} {:x 439, :y 9} {:x 418, :y 13} {:x 412, :y 17} {:x 386, :y 14} {:x 373, :y 21} {:x 340, :y 31} {:x 333, :y 33} {:x 356, :y 57} {:x 324, :y 75} {:x 349, :y 120} {:x 378, :y 121} {:x 399, :y 101} {:x 406, :y 90} {:x 386, :y 86} {:x 403, :y 63} {:x 415, :y 111} {:x 415, :y 139} {:x 388, :y 153} {:x 376, :y 150} {:x 377, :y 167} {:x 390, :y 171} {:x 364, :y 197} {:x 345, :y 152} {:x 277, :y 115} {:x 272, :y 123} {:x 233, :y 118} {:x 209, :y 141} {:x 216, :y 158} {:x 187, :y 155} {:x 170, :y 146} {:x 182, :y 135} {:x 136, :y 141} {:x 130, :y 136} {:x 118, :y 112} {:x 91, :y 113} {:x 70, :y 90} {:x 62, :y 97} {:x 44, :y 71} {:x 36, :y 58} {:x 34, :y 38} {:x 29, :y 39} {:x 8, :y 56} {:x 16, :y 81} {:x 0, :y 134} {:x 82, :y 69} {:x 84, :y 53} {:x 95, :y 44} {:x 114, :y 47} {:x 113, :y 54} {:x 115, :y 71} {:x 152, :y 44} {:x 159, :y 21} {:x 183, :y 5} {:x 196, :y 14} {:x 193, :y 37} {:x 184, :y 73} {:x 228, :y 68} {:x 239, :y 50} {:x 242, :y 41} {:x 250, :y 36} {:x 257, :y 37} {:x 261, :y 32} {:x 270, :y 49} {:x 286, :y 24} {:x 110, :y 7} {:x 67, :y 42} {:x 45, :y 10} {:x 40, :y 13} {:x 52, :y 4} {:x 172, :y 237} {:x 204, :y 235} {:x 207, :y 224} {:x 78, :y 306} {:x 68, :y 293} {:x 63, :y 299} {:x 46, :y 281} {:x 1, :y 295} {:x 3, :y 311} {:x 3, :y 319} {:x 9, :y 348} {:x 5, :y 374} {:x 45, :y 330} {:x 9, :y 435} {:x 10, :y 442} {:x 27, :y 443} {:x 1, :y 475} {:x 1, :y 476} {:x 8, :y 509} {:x 37, :y 541} {:x 34, :y 553} {:x 38, :y 566} {:x 14, :y 556} {:x 70, :y 546} {:x 75, :y 550} {:x 79, :y 564} {:x 54, :y 597} {:x 153, :y 597} {:x 157, :y 572} {:x 93, :y 496} {:x 93, :y 488} {:x 72, :y 468} {:x 58, :y 492} {:x 218, :y 420} {:x 227, :y 395} {:x 383, :y 342} {:x 407, :y 351} {:x 399, :y 364} {:x 394, :y 375} {:x 398, :y 380} {:x 511, :y 284} {:x 496, :y 224} {:x 446, :y 233} {:x 422, :y 195} {:x 449, :y 137} {:x 443, :y 113} {:x 447, :y 102} {:x 456, :y 101} {:x 487, :y 139} {:x 485, :y 158} {:x 549, :y 108} {:x 564, :y 112} {:x 600, :y 35} {:x 610, :y 35} {:x 617, :y 26} {:x 579, :y 26} {:x 507, :y 0} {:x 643, :y 77} {:x 861, :y 543} {:x 843, :y 588} {:x 805, :y 599} {:x 530, :y 599} {:x 352, :y 463})} {:name \"88f7a9bc-d2ad-49e4-ba69-4c1fc820d41f\", :values ({:x 352, :y 463})}), :marks ({:type \"symbol\", :from {:data \"e1fd5c62-560d-44b0-99b2-c9b3ff3c5d27\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"steelblue\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}} {:type \"line\", :from {:data \"4fa3a7cb-b553-40f4-8897-6cbfd9648a7e\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :stroke {:value \"#FF29D2\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}} {:type \"symbol\", :from {:data \"88f7a9bc-d2ad-49e4-ba69-4c1fc820d41f\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"#FF0000\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}})}}]"}
;; <=

;; @@
(let [cities (random-cities 7)]
  [(plot-cities cities)
   (execute brute-force-tsp cities)
   (execute nearest-neighbour-tsp cities)])
;; @@
;; ->
;;; &quot;Elapsed time: 88.241401 msecs&quot;
;;; &quot;Elapsed time: 0.175667 msecs&quot;
;;; 
;; <-
;; =>
;;; {"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"vega","content":{"width":400,"height":247.2187957763672,"padding":{"top":10,"left":55,"bottom":40,"right":10},"data":[{"name":"0eab3ded-7eef-48bd-ad0f-402f8f3de446","values":[{"x":428,"y":254},{"x":183,"y":276},{"x":439,"y":61},{"x":476,"y":61},{"x":651,"y":133},{"x":138,"y":247},{"x":63,"y":248}]}],"marks":[{"type":"symbol","from":{"data":"0eab3ded-7eef-48bd-ad0f-402f8f3de446"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"fill":{"value":"steelblue"},"fillOpacity":{"value":1}},"update":{"shape":"circle","size":{"value":70},"stroke":{"value":"transparent"}},"hover":{"size":{"value":210},"stroke":{"value":"white"}}}}],"scales":[{"name":"x","type":"linear","range":"width","zero":false,"domain":{"data":"0eab3ded-7eef-48bd-ad0f-402f8f3de446","field":"data.x"}},{"name":"y","type":"linear","range":"height","nice":true,"zero":false,"domain":{"data":"0eab3ded-7eef-48bd-ad0f-402f8f3de446","field":"data.y"}}],"axes":[{"type":"x","scale":"x"},{"type":"y","scale":"y"}]},"value":"#gorilla_repl.vega.VegaView{:content {:width 400, :height 247.2188, :padding {:top 10, :left 55, :bottom 40, :right 10}, :data [{:name \"0eab3ded-7eef-48bd-ad0f-402f8f3de446\", :values ({:x 428, :y 254} {:x 183, :y 276} {:x 439, :y 61} {:x 476, :y 61} {:x 651, :y 133} {:x 138, :y 247} {:x 63, :y 248})}], :marks [{:type \"symbol\", :from {:data \"0eab3ded-7eef-48bd-ad0f-402f8f3de446\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"steelblue\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}}], :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"0eab3ded-7eef-48bd-ad0f-402f8f3de446\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"0eab3ded-7eef-48bd-ad0f-402f8f3de446\", :field \"data.y\"}}], :axes [{:type \"x\", :scale \"x\"} {:type \"y\", :scale \"y\"}]}}"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-string'>&quot;7 cities&quot;</span>","value":"\"7 cities\""},{"type":"html","content":"<span class='clj-string'>&quot;distance: 1274.4070889508414&quot;</span>","value":"\"distance: 1274.4070889508414\""},{"type":"vega","content":{"width":400,"height":247.2187957763672,"padding":{"top":10,"left":55,"bottom":40,"right":10},"scales":[{"name":"x","type":"linear","range":"width","zero":false,"domain":{"data":"d86b771b-148d-4382-bef3-c009dbd70bba","field":"data.x"}},{"name":"y","type":"linear","range":"height","nice":true,"zero":false,"domain":{"data":"d86b771b-148d-4382-bef3-c009dbd70bba","field":"data.y"}}],"axes":[{"type":"x","scale":"x"},{"type":"y","scale":"y"}],"data":[{"name":"d86b771b-148d-4382-bef3-c009dbd70bba","values":[{"x":428,"y":254},{"x":183,"y":276},{"x":138,"y":247},{"x":63,"y":248},{"x":439,"y":61},{"x":476,"y":61},{"x":651,"y":133},{"x":428,"y":254}]},{"name":"6bf68e6a-ed58-4cfd-9c38-9d1de9fa36b7","values":[{"x":428,"y":254},{"x":183,"y":276},{"x":138,"y":247},{"x":63,"y":248},{"x":439,"y":61},{"x":476,"y":61},{"x":651,"y":133},{"x":428,"y":254}]},{"name":"7adff530-ed45-46ab-b272-2e5b81a95494","values":[{"x":428,"y":254}]}],"marks":[{"type":"symbol","from":{"data":"d86b771b-148d-4382-bef3-c009dbd70bba"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"fill":{"value":"steelblue"},"fillOpacity":{"value":1}},"update":{"shape":"circle","size":{"value":70},"stroke":{"value":"transparent"}},"hover":{"size":{"value":210},"stroke":{"value":"white"}}}},{"type":"line","from":{"data":"6bf68e6a-ed58-4cfd-9c38-9d1de9fa36b7"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"stroke":{"value":"#FF29D2"},"strokeWidth":{"value":2},"strokeOpacity":{"value":1}}}},{"type":"symbol","from":{"data":"7adff530-ed45-46ab-b272-2e5b81a95494"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"fill":{"value":"#FF0000"},"fillOpacity":{"value":1}},"update":{"shape":"circle","size":{"value":70},"stroke":{"value":"transparent"}},"hover":{"size":{"value":210},"stroke":{"value":"white"}}}}]},"value":"#gorilla_repl.vega.VegaView{:content {:width 400, :height 247.2188, :padding {:top 10, :left 55, :bottom 40, :right 10}, :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"d86b771b-148d-4382-bef3-c009dbd70bba\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"d86b771b-148d-4382-bef3-c009dbd70bba\", :field \"data.y\"}}], :axes [{:type \"x\", :scale \"x\"} {:type \"y\", :scale \"y\"}], :data ({:name \"d86b771b-148d-4382-bef3-c009dbd70bba\", :values ({:x 428, :y 254} {:x 183, :y 276} {:x 138, :y 247} {:x 63, :y 248} {:x 439, :y 61} {:x 476, :y 61} {:x 651, :y 133} {:x 428, :y 254})} {:name \"6bf68e6a-ed58-4cfd-9c38-9d1de9fa36b7\", :values ({:x 428, :y 254} {:x 183, :y 276} {:x 138, :y 247} {:x 63, :y 248} {:x 439, :y 61} {:x 476, :y 61} {:x 651, :y 133} {:x 428, :y 254})} {:name \"7adff530-ed45-46ab-b272-2e5b81a95494\", :values ({:x 428, :y 254})}), :marks ({:type \"symbol\", :from {:data \"d86b771b-148d-4382-bef3-c009dbd70bba\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"steelblue\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}} {:type \"line\", :from {:data \"6bf68e6a-ed58-4cfd-9c38-9d1de9fa36b7\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :stroke {:value \"#FF29D2\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}} {:type \"symbol\", :from {:data \"7adff530-ed45-46ab-b272-2e5b81a95494\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"#FF0000\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}})}}"}],"value":"[\"7 cities\" \"distance: 1274.4070889508414\" #gorilla_repl.vega.VegaView{:content {:width 400, :height 247.2188, :padding {:top 10, :left 55, :bottom 40, :right 10}, :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"d86b771b-148d-4382-bef3-c009dbd70bba\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"d86b771b-148d-4382-bef3-c009dbd70bba\", :field \"data.y\"}}], :axes [{:type \"x\", :scale \"x\"} {:type \"y\", :scale \"y\"}], :data ({:name \"d86b771b-148d-4382-bef3-c009dbd70bba\", :values ({:x 428, :y 254} {:x 183, :y 276} {:x 138, :y 247} {:x 63, :y 248} {:x 439, :y 61} {:x 476, :y 61} {:x 651, :y 133} {:x 428, :y 254})} {:name \"6bf68e6a-ed58-4cfd-9c38-9d1de9fa36b7\", :values ({:x 428, :y 254} {:x 183, :y 276} {:x 138, :y 247} {:x 63, :y 248} {:x 439, :y 61} {:x 476, :y 61} {:x 651, :y 133} {:x 428, :y 254})} {:name \"7adff530-ed45-46ab-b272-2e5b81a95494\", :values ({:x 428, :y 254})}), :marks ({:type \"symbol\", :from {:data \"d86b771b-148d-4382-bef3-c009dbd70bba\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"steelblue\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}} {:type \"line\", :from {:data \"6bf68e6a-ed58-4cfd-9c38-9d1de9fa36b7\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :stroke {:value \"#FF29D2\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}} {:type \"symbol\", :from {:data \"7adff530-ed45-46ab-b272-2e5b81a95494\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"#FF0000\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}})}}]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-string'>&quot;7 cities&quot;</span>","value":"\"7 cities\""},{"type":"html","content":"<span class='clj-string'>&quot;distance: 1402.4966775808298&quot;</span>","value":"\"distance: 1402.4966775808298\""},{"type":"vega","content":{"width":400,"height":247.2187957763672,"padding":{"top":10,"left":55,"bottom":40,"right":10},"scales":[{"name":"x","type":"linear","range":"width","zero":false,"domain":{"data":"3076d412-436b-4028-8730-798674f97955","field":"data.x"}},{"name":"y","type":"linear","range":"height","nice":true,"zero":false,"domain":{"data":"3076d412-436b-4028-8730-798674f97955","field":"data.y"}}],"axes":[{"type":"x","scale":"x"},{"type":"y","scale":"y"}],"data":[{"name":"3076d412-436b-4028-8730-798674f97955","values":[{"x":428,"y":254},{"x":439,"y":61},{"x":476,"y":61},{"x":651,"y":133},{"x":183,"y":276},{"x":138,"y":247},{"x":63,"y":248},{"x":428,"y":254}]},{"name":"14b3762d-009e-470e-a28b-a3760b62ef8c","values":[{"x":428,"y":254},{"x":439,"y":61},{"x":476,"y":61},{"x":651,"y":133},{"x":183,"y":276},{"x":138,"y":247},{"x":63,"y":248},{"x":428,"y":254}]},{"name":"719e1a6b-6231-4279-8a01-f80311c53432","values":[{"x":428,"y":254}]}],"marks":[{"type":"symbol","from":{"data":"3076d412-436b-4028-8730-798674f97955"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"fill":{"value":"steelblue"},"fillOpacity":{"value":1}},"update":{"shape":"circle","size":{"value":70},"stroke":{"value":"transparent"}},"hover":{"size":{"value":210},"stroke":{"value":"white"}}}},{"type":"line","from":{"data":"14b3762d-009e-470e-a28b-a3760b62ef8c"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"stroke":{"value":"#FF29D2"},"strokeWidth":{"value":2},"strokeOpacity":{"value":1}}}},{"type":"symbol","from":{"data":"719e1a6b-6231-4279-8a01-f80311c53432"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"fill":{"value":"#FF0000"},"fillOpacity":{"value":1}},"update":{"shape":"circle","size":{"value":70},"stroke":{"value":"transparent"}},"hover":{"size":{"value":210},"stroke":{"value":"white"}}}}]},"value":"#gorilla_repl.vega.VegaView{:content {:width 400, :height 247.2188, :padding {:top 10, :left 55, :bottom 40, :right 10}, :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"3076d412-436b-4028-8730-798674f97955\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"3076d412-436b-4028-8730-798674f97955\", :field \"data.y\"}}], :axes [{:type \"x\", :scale \"x\"} {:type \"y\", :scale \"y\"}], :data ({:name \"3076d412-436b-4028-8730-798674f97955\", :values ({:x 428, :y 254} {:x 439, :y 61} {:x 476, :y 61} {:x 651, :y 133} {:x 183, :y 276} {:x 138, :y 247} {:x 63, :y 248} {:x 428, :y 254})} {:name \"14b3762d-009e-470e-a28b-a3760b62ef8c\", :values ({:x 428, :y 254} {:x 439, :y 61} {:x 476, :y 61} {:x 651, :y 133} {:x 183, :y 276} {:x 138, :y 247} {:x 63, :y 248} {:x 428, :y 254})} {:name \"719e1a6b-6231-4279-8a01-f80311c53432\", :values ({:x 428, :y 254})}), :marks ({:type \"symbol\", :from {:data \"3076d412-436b-4028-8730-798674f97955\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"steelblue\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}} {:type \"line\", :from {:data \"14b3762d-009e-470e-a28b-a3760b62ef8c\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :stroke {:value \"#FF29D2\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}} {:type \"symbol\", :from {:data \"719e1a6b-6231-4279-8a01-f80311c53432\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"#FF0000\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}})}}"}],"value":"[\"7 cities\" \"distance: 1402.4966775808298\" #gorilla_repl.vega.VegaView{:content {:width 400, :height 247.2188, :padding {:top 10, :left 55, :bottom 40, :right 10}, :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"3076d412-436b-4028-8730-798674f97955\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"3076d412-436b-4028-8730-798674f97955\", :field \"data.y\"}}], :axes [{:type \"x\", :scale \"x\"} {:type \"y\", :scale \"y\"}], :data ({:name \"3076d412-436b-4028-8730-798674f97955\", :values ({:x 428, :y 254} {:x 439, :y 61} {:x 476, :y 61} {:x 651, :y 133} {:x 183, :y 276} {:x 138, :y 247} {:x 63, :y 248} {:x 428, :y 254})} {:name \"14b3762d-009e-470e-a28b-a3760b62ef8c\", :values ({:x 428, :y 254} {:x 439, :y 61} {:x 476, :y 61} {:x 651, :y 133} {:x 183, :y 276} {:x 138, :y 247} {:x 63, :y 248} {:x 428, :y 254})} {:name \"719e1a6b-6231-4279-8a01-f80311c53432\", :values ({:x 428, :y 254})}), :marks ({:type \"symbol\", :from {:data \"3076d412-436b-4028-8730-798674f97955\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"steelblue\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}} {:type \"line\", :from {:data \"14b3762d-009e-470e-a28b-a3760b62ef8c\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :stroke {:value \"#FF29D2\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}} {:type \"symbol\", :from {:data \"719e1a6b-6231-4279-8a01-f80311c53432\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"#FF0000\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}})}}]"}],"value":"[#gorilla_repl.vega.VegaView{:content {:width 400, :height 247.2188, :padding {:top 10, :left 55, :bottom 40, :right 10}, :data [{:name \"0eab3ded-7eef-48bd-ad0f-402f8f3de446\", :values ({:x 428, :y 254} {:x 183, :y 276} {:x 439, :y 61} {:x 476, :y 61} {:x 651, :y 133} {:x 138, :y 247} {:x 63, :y 248})}], :marks [{:type \"symbol\", :from {:data \"0eab3ded-7eef-48bd-ad0f-402f8f3de446\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"steelblue\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}}], :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"0eab3ded-7eef-48bd-ad0f-402f8f3de446\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"0eab3ded-7eef-48bd-ad0f-402f8f3de446\", :field \"data.y\"}}], :axes [{:type \"x\", :scale \"x\"} {:type \"y\", :scale \"y\"}]}} [\"7 cities\" \"distance: 1274.4070889508414\" #gorilla_repl.vega.VegaView{:content {:width 400, :height 247.2188, :padding {:top 10, :left 55, :bottom 40, :right 10}, :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"d86b771b-148d-4382-bef3-c009dbd70bba\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"d86b771b-148d-4382-bef3-c009dbd70bba\", :field \"data.y\"}}], :axes [{:type \"x\", :scale \"x\"} {:type \"y\", :scale \"y\"}], :data ({:name \"d86b771b-148d-4382-bef3-c009dbd70bba\", :values ({:x 428, :y 254} {:x 183, :y 276} {:x 138, :y 247} {:x 63, :y 248} {:x 439, :y 61} {:x 476, :y 61} {:x 651, :y 133} {:x 428, :y 254})} {:name \"6bf68e6a-ed58-4cfd-9c38-9d1de9fa36b7\", :values ({:x 428, :y 254} {:x 183, :y 276} {:x 138, :y 247} {:x 63, :y 248} {:x 439, :y 61} {:x 476, :y 61} {:x 651, :y 133} {:x 428, :y 254})} {:name \"7adff530-ed45-46ab-b272-2e5b81a95494\", :values ({:x 428, :y 254})}), :marks ({:type \"symbol\", :from {:data \"d86b771b-148d-4382-bef3-c009dbd70bba\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"steelblue\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}} {:type \"line\", :from {:data \"6bf68e6a-ed58-4cfd-9c38-9d1de9fa36b7\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :stroke {:value \"#FF29D2\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}} {:type \"symbol\", :from {:data \"7adff530-ed45-46ab-b272-2e5b81a95494\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"#FF0000\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}})}}] [\"7 cities\" \"distance: 1402.4966775808298\" #gorilla_repl.vega.VegaView{:content {:width 400, :height 247.2188, :padding {:top 10, :left 55, :bottom 40, :right 10}, :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"3076d412-436b-4028-8730-798674f97955\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"3076d412-436b-4028-8730-798674f97955\", :field \"data.y\"}}], :axes [{:type \"x\", :scale \"x\"} {:type \"y\", :scale \"y\"}], :data ({:name \"3076d412-436b-4028-8730-798674f97955\", :values ({:x 428, :y 254} {:x 439, :y 61} {:x 476, :y 61} {:x 651, :y 133} {:x 183, :y 276} {:x 138, :y 247} {:x 63, :y 248} {:x 428, :y 254})} {:name \"14b3762d-009e-470e-a28b-a3760b62ef8c\", :values ({:x 428, :y 254} {:x 439, :y 61} {:x 476, :y 61} {:x 651, :y 133} {:x 183, :y 276} {:x 138, :y 247} {:x 63, :y 248} {:x 428, :y 254})} {:name \"719e1a6b-6231-4279-8a01-f80311c53432\", :values ({:x 428, :y 254})}), :marks ({:type \"symbol\", :from {:data \"3076d412-436b-4028-8730-798674f97955\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"steelblue\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}} {:type \"line\", :from {:data \"14b3762d-009e-470e-a28b-a3760b62ef8c\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :stroke {:value \"#FF29D2\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}} {:type \"symbol\", :from {:data \"719e1a6b-6231-4279-8a01-f80311c53432\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"#FF0000\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}})}}]]"}
;; <=

;; **
;;; From the examples above, `nearest-neighbour` is not always optimal.
;; **

;; **
;;; ### Repeated Nearest Neighbour Algorithm
;;; 
;;; 1. select an origin
;;; 1. run nearest neightbour algorithm with the origin
;;; 1. repeat with different origin
;;; 1. choose the shortest tour
;; **

;; @@
(defn sample-cities [cities count]
  (take count (shuffle cities)))
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-var'>#&#x27;mirthful-badlands/sample-cities</span>","value":"#'mirthful-badlands/sample-cities"}
;; <=

;; @@
(sample-cities (random-cities 20) 4)
;; @@
;; =>
;;; {"type":"list-like","open":"<span class='clj-lazy-seq'>(</span>","close":"<span class='clj-lazy-seq'>)</span>","separator":" ","items":[{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:x</span>","value":":x"},{"type":"html","content":"<span class='clj-unkown'>713</span>","value":"713"}],"value":"[:x 713]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:y</span>","value":":y"},{"type":"html","content":"<span class='clj-unkown'>321</span>","value":"321"}],"value":"[:y 321]"}],"value":"#mirthful_badlands.City{:x 713, :y 321}"},{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:x</span>","value":":x"},{"type":"html","content":"<span class='clj-unkown'>737</span>","value":"737"}],"value":"[:x 737]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:y</span>","value":":y"},{"type":"html","content":"<span class='clj-unkown'>222</span>","value":"222"}],"value":"[:y 222]"}],"value":"#mirthful_badlands.City{:x 737, :y 222}"},{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:x</span>","value":":x"},{"type":"html","content":"<span class='clj-unkown'>597</span>","value":"597"}],"value":"[:x 597]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:y</span>","value":":y"},{"type":"html","content":"<span class='clj-unkown'>316</span>","value":"316"}],"value":"[:y 316]"}],"value":"#mirthful_badlands.City{:x 597, :y 316}"},{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:x</span>","value":":x"},{"type":"html","content":"<span class='clj-unkown'>387</span>","value":"387"}],"value":"[:x 387]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:y</span>","value":":y"},{"type":"html","content":"<span class='clj-unkown'>186</span>","value":"186"}],"value":"[:y 186]"}],"value":"#mirthful_badlands.City{:x 387, :y 186}"}],"value":"(#mirthful_badlands.City{:x 713, :y 321} #mirthful_badlands.City{:x 737, :y 222} #mirthful_badlands.City{:x 597, :y 316} #mirthful_badlands.City{:x 387, :y 186})"}
;; <=

;; @@
(defn rep-nearest-neighbour-tsp [cities & {:keys [count] :or {count (count cities)}}] 
  (let [samples (sample-cities cities count)]
    (shortest-tour 
      (for [origin samples]
        (nearest-neighbour-tsp cities :origin origin)))))
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-var'>#&#x27;mirthful-badlands/rep-nearest-neighbour-tsp</span>","value":"#'mirthful-badlands/rep-nearest-neighbour-tsp"}
;; <=

;; @@
(let [cities (random-cities 50)]
  [(execute nearest-neighbour-tsp cities)
   (execute rep-nearest-neighbour-tsp cities)])
;; @@
;; ->
;;; &quot;Elapsed time: 4.726809 msecs&quot;
;;; &quot;Elapsed time: 257.330818 msecs&quot;
;;; 
;; <-
;; =>
;;; {"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-string'>&quot;50 cities&quot;</span>","value":"\"50 cities\""},{"type":"html","content":"<span class='clj-string'>&quot;distance: 4482.924879554315&quot;</span>","value":"\"distance: 4482.924879554315\""},{"type":"vega","content":{"width":400,"height":247.2187957763672,"padding":{"top":10,"left":55,"bottom":40,"right":10},"scales":[{"name":"x","type":"linear","range":"width","zero":false,"domain":{"data":"a848ba85-fd1f-4885-9e00-8960bdcce8be","field":"data.x"}},{"name":"y","type":"linear","range":"height","nice":true,"zero":false,"domain":{"data":"a848ba85-fd1f-4885-9e00-8960bdcce8be","field":"data.y"}}],"axes":[{"type":"x","scale":"x"},{"type":"y","scale":"y"}],"data":[{"name":"a848ba85-fd1f-4885-9e00-8960bdcce8be","values":[{"x":570,"y":391},{"x":605,"y":377},{"x":695,"y":366},{"x":714,"y":358},{"x":766,"y":408},{"x":798,"y":442},{"x":736,"y":500},{"x":897,"y":509},{"x":875,"y":388},{"x":880,"y":345},{"x":836,"y":328},{"x":837,"y":291},{"x":798,"y":289},{"x":726,"y":283},{"x":683,"y":280},{"x":699,"y":236},{"x":699,"y":94},{"x":705,"y":93},{"x":751,"y":31},{"x":818,"y":104},{"x":844,"y":118},{"x":868,"y":155},{"x":826,"y":172},{"x":894,"y":103},{"x":898,"y":60},{"x":529,"y":109},{"x":371,"y":197},{"x":393,"y":248},{"x":391,"y":361},{"x":412,"y":505},{"x":401,"y":521},{"x":300,"y":507},{"x":257,"y":505},{"x":202,"y":563},{"x":135,"y":515},{"x":21,"y":411},{"x":193,"y":358},{"x":177,"y":251},{"x":128,"y":262},{"x":132,"y":199},{"x":42,"y":174},{"x":23,"y":194},{"x":6,"y":220},{"x":11,"y":98},{"x":117,"y":101},{"x":111,"y":0},{"x":265,"y":64},{"x":300,"y":37},{"x":331,"y":110},{"x":304,"y":173},{"x":570,"y":391}]},{"name":"96acefa9-239f-4fe9-8f9c-b5403a1a0cbe","values":[{"x":570,"y":391},{"x":605,"y":377},{"x":695,"y":366},{"x":714,"y":358},{"x":766,"y":408},{"x":798,"y":442},{"x":736,"y":500},{"x":897,"y":509},{"x":875,"y":388},{"x":880,"y":345},{"x":836,"y":328},{"x":837,"y":291},{"x":798,"y":289},{"x":726,"y":283},{"x":683,"y":280},{"x":699,"y":236},{"x":699,"y":94},{"x":705,"y":93},{"x":751,"y":31},{"x":818,"y":104},{"x":844,"y":118},{"x":868,"y":155},{"x":826,"y":172},{"x":894,"y":103},{"x":898,"y":60},{"x":529,"y":109},{"x":371,"y":197},{"x":393,"y":248},{"x":391,"y":361},{"x":412,"y":505},{"x":401,"y":521},{"x":300,"y":507},{"x":257,"y":505},{"x":202,"y":563},{"x":135,"y":515},{"x":21,"y":411},{"x":193,"y":358},{"x":177,"y":251},{"x":128,"y":262},{"x":132,"y":199},{"x":42,"y":174},{"x":23,"y":194},{"x":6,"y":220},{"x":11,"y":98},{"x":117,"y":101},{"x":111,"y":0},{"x":265,"y":64},{"x":300,"y":37},{"x":331,"y":110},{"x":304,"y":173},{"x":570,"y":391}]},{"name":"674c1dbf-f701-4440-b6b7-5b5e77bdda1f","values":[{"x":570,"y":391}]}],"marks":[{"type":"symbol","from":{"data":"a848ba85-fd1f-4885-9e00-8960bdcce8be"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"fill":{"value":"steelblue"},"fillOpacity":{"value":1}},"update":{"shape":"circle","size":{"value":70},"stroke":{"value":"transparent"}},"hover":{"size":{"value":210},"stroke":{"value":"white"}}}},{"type":"line","from":{"data":"96acefa9-239f-4fe9-8f9c-b5403a1a0cbe"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"stroke":{"value":"#FF29D2"},"strokeWidth":{"value":2},"strokeOpacity":{"value":1}}}},{"type":"symbol","from":{"data":"674c1dbf-f701-4440-b6b7-5b5e77bdda1f"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"fill":{"value":"#FF0000"},"fillOpacity":{"value":1}},"update":{"shape":"circle","size":{"value":70},"stroke":{"value":"transparent"}},"hover":{"size":{"value":210},"stroke":{"value":"white"}}}}]},"value":"#gorilla_repl.vega.VegaView{:content {:width 400, :height 247.2188, :padding {:top 10, :left 55, :bottom 40, :right 10}, :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"a848ba85-fd1f-4885-9e00-8960bdcce8be\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"a848ba85-fd1f-4885-9e00-8960bdcce8be\", :field \"data.y\"}}], :axes [{:type \"x\", :scale \"x\"} {:type \"y\", :scale \"y\"}], :data ({:name \"a848ba85-fd1f-4885-9e00-8960bdcce8be\", :values ({:x 570, :y 391} {:x 605, :y 377} {:x 695, :y 366} {:x 714, :y 358} {:x 766, :y 408} {:x 798, :y 442} {:x 736, :y 500} {:x 897, :y 509} {:x 875, :y 388} {:x 880, :y 345} {:x 836, :y 328} {:x 837, :y 291} {:x 798, :y 289} {:x 726, :y 283} {:x 683, :y 280} {:x 699, :y 236} {:x 699, :y 94} {:x 705, :y 93} {:x 751, :y 31} {:x 818, :y 104} {:x 844, :y 118} {:x 868, :y 155} {:x 826, :y 172} {:x 894, :y 103} {:x 898, :y 60} {:x 529, :y 109} {:x 371, :y 197} {:x 393, :y 248} {:x 391, :y 361} {:x 412, :y 505} {:x 401, :y 521} {:x 300, :y 507} {:x 257, :y 505} {:x 202, :y 563} {:x 135, :y 515} {:x 21, :y 411} {:x 193, :y 358} {:x 177, :y 251} {:x 128, :y 262} {:x 132, :y 199} {:x 42, :y 174} {:x 23, :y 194} {:x 6, :y 220} {:x 11, :y 98} {:x 117, :y 101} {:x 111, :y 0} {:x 265, :y 64} {:x 300, :y 37} {:x 331, :y 110} {:x 304, :y 173} {:x 570, :y 391})} {:name \"96acefa9-239f-4fe9-8f9c-b5403a1a0cbe\", :values ({:x 570, :y 391} {:x 605, :y 377} {:x 695, :y 366} {:x 714, :y 358} {:x 766, :y 408} {:x 798, :y 442} {:x 736, :y 500} {:x 897, :y 509} {:x 875, :y 388} {:x 880, :y 345} {:x 836, :y 328} {:x 837, :y 291} {:x 798, :y 289} {:x 726, :y 283} {:x 683, :y 280} {:x 699, :y 236} {:x 699, :y 94} {:x 705, :y 93} {:x 751, :y 31} {:x 818, :y 104} {:x 844, :y 118} {:x 868, :y 155} {:x 826, :y 172} {:x 894, :y 103} {:x 898, :y 60} {:x 529, :y 109} {:x 371, :y 197} {:x 393, :y 248} {:x 391, :y 361} {:x 412, :y 505} {:x 401, :y 521} {:x 300, :y 507} {:x 257, :y 505} {:x 202, :y 563} {:x 135, :y 515} {:x 21, :y 411} {:x 193, :y 358} {:x 177, :y 251} {:x 128, :y 262} {:x 132, :y 199} {:x 42, :y 174} {:x 23, :y 194} {:x 6, :y 220} {:x 11, :y 98} {:x 117, :y 101} {:x 111, :y 0} {:x 265, :y 64} {:x 300, :y 37} {:x 331, :y 110} {:x 304, :y 173} {:x 570, :y 391})} {:name \"674c1dbf-f701-4440-b6b7-5b5e77bdda1f\", :values ({:x 570, :y 391})}), :marks ({:type \"symbol\", :from {:data \"a848ba85-fd1f-4885-9e00-8960bdcce8be\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"steelblue\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}} {:type \"line\", :from {:data \"96acefa9-239f-4fe9-8f9c-b5403a1a0cbe\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :stroke {:value \"#FF29D2\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}} {:type \"symbol\", :from {:data \"674c1dbf-f701-4440-b6b7-5b5e77bdda1f\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"#FF0000\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}})}}"}],"value":"[\"50 cities\" \"distance: 4482.924879554315\" #gorilla_repl.vega.VegaView{:content {:width 400, :height 247.2188, :padding {:top 10, :left 55, :bottom 40, :right 10}, :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"a848ba85-fd1f-4885-9e00-8960bdcce8be\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"a848ba85-fd1f-4885-9e00-8960bdcce8be\", :field \"data.y\"}}], :axes [{:type \"x\", :scale \"x\"} {:type \"y\", :scale \"y\"}], :data ({:name \"a848ba85-fd1f-4885-9e00-8960bdcce8be\", :values ({:x 570, :y 391} {:x 605, :y 377} {:x 695, :y 366} {:x 714, :y 358} {:x 766, :y 408} {:x 798, :y 442} {:x 736, :y 500} {:x 897, :y 509} {:x 875, :y 388} {:x 880, :y 345} {:x 836, :y 328} {:x 837, :y 291} {:x 798, :y 289} {:x 726, :y 283} {:x 683, :y 280} {:x 699, :y 236} {:x 699, :y 94} {:x 705, :y 93} {:x 751, :y 31} {:x 818, :y 104} {:x 844, :y 118} {:x 868, :y 155} {:x 826, :y 172} {:x 894, :y 103} {:x 898, :y 60} {:x 529, :y 109} {:x 371, :y 197} {:x 393, :y 248} {:x 391, :y 361} {:x 412, :y 505} {:x 401, :y 521} {:x 300, :y 507} {:x 257, :y 505} {:x 202, :y 563} {:x 135, :y 515} {:x 21, :y 411} {:x 193, :y 358} {:x 177, :y 251} {:x 128, :y 262} {:x 132, :y 199} {:x 42, :y 174} {:x 23, :y 194} {:x 6, :y 220} {:x 11, :y 98} {:x 117, :y 101} {:x 111, :y 0} {:x 265, :y 64} {:x 300, :y 37} {:x 331, :y 110} {:x 304, :y 173} {:x 570, :y 391})} {:name \"96acefa9-239f-4fe9-8f9c-b5403a1a0cbe\", :values ({:x 570, :y 391} {:x 605, :y 377} {:x 695, :y 366} {:x 714, :y 358} {:x 766, :y 408} {:x 798, :y 442} {:x 736, :y 500} {:x 897, :y 509} {:x 875, :y 388} {:x 880, :y 345} {:x 836, :y 328} {:x 837, :y 291} {:x 798, :y 289} {:x 726, :y 283} {:x 683, :y 280} {:x 699, :y 236} {:x 699, :y 94} {:x 705, :y 93} {:x 751, :y 31} {:x 818, :y 104} {:x 844, :y 118} {:x 868, :y 155} {:x 826, :y 172} {:x 894, :y 103} {:x 898, :y 60} {:x 529, :y 109} {:x 371, :y 197} {:x 393, :y 248} {:x 391, :y 361} {:x 412, :y 505} {:x 401, :y 521} {:x 300, :y 507} {:x 257, :y 505} {:x 202, :y 563} {:x 135, :y 515} {:x 21, :y 411} {:x 193, :y 358} {:x 177, :y 251} {:x 128, :y 262} {:x 132, :y 199} {:x 42, :y 174} {:x 23, :y 194} {:x 6, :y 220} {:x 11, :y 98} {:x 117, :y 101} {:x 111, :y 0} {:x 265, :y 64} {:x 300, :y 37} {:x 331, :y 110} {:x 304, :y 173} {:x 570, :y 391})} {:name \"674c1dbf-f701-4440-b6b7-5b5e77bdda1f\", :values ({:x 570, :y 391})}), :marks ({:type \"symbol\", :from {:data \"a848ba85-fd1f-4885-9e00-8960bdcce8be\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"steelblue\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}} {:type \"line\", :from {:data \"96acefa9-239f-4fe9-8f9c-b5403a1a0cbe\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :stroke {:value \"#FF29D2\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}} {:type \"symbol\", :from {:data \"674c1dbf-f701-4440-b6b7-5b5e77bdda1f\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"#FF0000\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}})}}]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-string'>&quot;50 cities&quot;</span>","value":"\"50 cities\""},{"type":"html","content":"<span class='clj-string'>&quot;distance: 4478.217439335571&quot;</span>","value":"\"distance: 4478.217439335571\""},{"type":"vega","content":{"width":400,"height":247.2187957763672,"padding":{"top":10,"left":55,"bottom":40,"right":10},"scales":[{"name":"x","type":"linear","range":"width","zero":false,"domain":{"data":"b784eca3-08d9-42fd-a571-74056d6bfcf4","field":"data.x"}},{"name":"y","type":"linear","range":"height","nice":true,"zero":false,"domain":{"data":"b784eca3-08d9-42fd-a571-74056d6bfcf4","field":"data.y"}}],"axes":[{"type":"x","scale":"x"},{"type":"y","scale":"y"}],"data":[{"name":"b784eca3-08d9-42fd-a571-74056d6bfcf4","values":[{"x":412,"y":505},{"x":401,"y":521},{"x":300,"y":507},{"x":257,"y":505},{"x":202,"y":563},{"x":135,"y":515},{"x":21,"y":411},{"x":193,"y":358},{"x":177,"y":251},{"x":128,"y":262},{"x":132,"y":199},{"x":42,"y":174},{"x":23,"y":194},{"x":6,"y":220},{"x":11,"y":98},{"x":117,"y":101},{"x":111,"y":0},{"x":265,"y":64},{"x":300,"y":37},{"x":331,"y":110},{"x":304,"y":173},{"x":371,"y":197},{"x":393,"y":248},{"x":391,"y":361},{"x":570,"y":391},{"x":605,"y":377},{"x":695,"y":366},{"x":714,"y":358},{"x":766,"y":408},{"x":798,"y":442},{"x":736,"y":500},{"x":897,"y":509},{"x":875,"y":388},{"x":880,"y":345},{"x":836,"y":328},{"x":837,"y":291},{"x":798,"y":289},{"x":726,"y":283},{"x":683,"y":280},{"x":699,"y":236},{"x":699,"y":94},{"x":705,"y":93},{"x":751,"y":31},{"x":818,"y":104},{"x":844,"y":118},{"x":868,"y":155},{"x":826,"y":172},{"x":894,"y":103},{"x":898,"y":60},{"x":529,"y":109},{"x":412,"y":505}]},{"name":"49f3132f-f082-418c-9e63-3ea9034e1d45","values":[{"x":412,"y":505},{"x":401,"y":521},{"x":300,"y":507},{"x":257,"y":505},{"x":202,"y":563},{"x":135,"y":515},{"x":21,"y":411},{"x":193,"y":358},{"x":177,"y":251},{"x":128,"y":262},{"x":132,"y":199},{"x":42,"y":174},{"x":23,"y":194},{"x":6,"y":220},{"x":11,"y":98},{"x":117,"y":101},{"x":111,"y":0},{"x":265,"y":64},{"x":300,"y":37},{"x":331,"y":110},{"x":304,"y":173},{"x":371,"y":197},{"x":393,"y":248},{"x":391,"y":361},{"x":570,"y":391},{"x":605,"y":377},{"x":695,"y":366},{"x":714,"y":358},{"x":766,"y":408},{"x":798,"y":442},{"x":736,"y":500},{"x":897,"y":509},{"x":875,"y":388},{"x":880,"y":345},{"x":836,"y":328},{"x":837,"y":291},{"x":798,"y":289},{"x":726,"y":283},{"x":683,"y":280},{"x":699,"y":236},{"x":699,"y":94},{"x":705,"y":93},{"x":751,"y":31},{"x":818,"y":104},{"x":844,"y":118},{"x":868,"y":155},{"x":826,"y":172},{"x":894,"y":103},{"x":898,"y":60},{"x":529,"y":109},{"x":412,"y":505}]},{"name":"53a39a83-d798-4b2b-adb0-00879ac7a888","values":[{"x":412,"y":505}]}],"marks":[{"type":"symbol","from":{"data":"b784eca3-08d9-42fd-a571-74056d6bfcf4"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"fill":{"value":"steelblue"},"fillOpacity":{"value":1}},"update":{"shape":"circle","size":{"value":70},"stroke":{"value":"transparent"}},"hover":{"size":{"value":210},"stroke":{"value":"white"}}}},{"type":"line","from":{"data":"49f3132f-f082-418c-9e63-3ea9034e1d45"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"stroke":{"value":"#FF29D2"},"strokeWidth":{"value":2},"strokeOpacity":{"value":1}}}},{"type":"symbol","from":{"data":"53a39a83-d798-4b2b-adb0-00879ac7a888"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"fill":{"value":"#FF0000"},"fillOpacity":{"value":1}},"update":{"shape":"circle","size":{"value":70},"stroke":{"value":"transparent"}},"hover":{"size":{"value":210},"stroke":{"value":"white"}}}}]},"value":"#gorilla_repl.vega.VegaView{:content {:width 400, :height 247.2188, :padding {:top 10, :left 55, :bottom 40, :right 10}, :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"b784eca3-08d9-42fd-a571-74056d6bfcf4\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"b784eca3-08d9-42fd-a571-74056d6bfcf4\", :field \"data.y\"}}], :axes [{:type \"x\", :scale \"x\"} {:type \"y\", :scale \"y\"}], :data ({:name \"b784eca3-08d9-42fd-a571-74056d6bfcf4\", :values ({:x 412, :y 505} {:x 401, :y 521} {:x 300, :y 507} {:x 257, :y 505} {:x 202, :y 563} {:x 135, :y 515} {:x 21, :y 411} {:x 193, :y 358} {:x 177, :y 251} {:x 128, :y 262} {:x 132, :y 199} {:x 42, :y 174} {:x 23, :y 194} {:x 6, :y 220} {:x 11, :y 98} {:x 117, :y 101} {:x 111, :y 0} {:x 265, :y 64} {:x 300, :y 37} {:x 331, :y 110} {:x 304, :y 173} {:x 371, :y 197} {:x 393, :y 248} {:x 391, :y 361} {:x 570, :y 391} {:x 605, :y 377} {:x 695, :y 366} {:x 714, :y 358} {:x 766, :y 408} {:x 798, :y 442} {:x 736, :y 500} {:x 897, :y 509} {:x 875, :y 388} {:x 880, :y 345} {:x 836, :y 328} {:x 837, :y 291} {:x 798, :y 289} {:x 726, :y 283} {:x 683, :y 280} {:x 699, :y 236} {:x 699, :y 94} {:x 705, :y 93} {:x 751, :y 31} {:x 818, :y 104} {:x 844, :y 118} {:x 868, :y 155} {:x 826, :y 172} {:x 894, :y 103} {:x 898, :y 60} {:x 529, :y 109} {:x 412, :y 505})} {:name \"49f3132f-f082-418c-9e63-3ea9034e1d45\", :values ({:x 412, :y 505} {:x 401, :y 521} {:x 300, :y 507} {:x 257, :y 505} {:x 202, :y 563} {:x 135, :y 515} {:x 21, :y 411} {:x 193, :y 358} {:x 177, :y 251} {:x 128, :y 262} {:x 132, :y 199} {:x 42, :y 174} {:x 23, :y 194} {:x 6, :y 220} {:x 11, :y 98} {:x 117, :y 101} {:x 111, :y 0} {:x 265, :y 64} {:x 300, :y 37} {:x 331, :y 110} {:x 304, :y 173} {:x 371, :y 197} {:x 393, :y 248} {:x 391, :y 361} {:x 570, :y 391} {:x 605, :y 377} {:x 695, :y 366} {:x 714, :y 358} {:x 766, :y 408} {:x 798, :y 442} {:x 736, :y 500} {:x 897, :y 509} {:x 875, :y 388} {:x 880, :y 345} {:x 836, :y 328} {:x 837, :y 291} {:x 798, :y 289} {:x 726, :y 283} {:x 683, :y 280} {:x 699, :y 236} {:x 699, :y 94} {:x 705, :y 93} {:x 751, :y 31} {:x 818, :y 104} {:x 844, :y 118} {:x 868, :y 155} {:x 826, :y 172} {:x 894, :y 103} {:x 898, :y 60} {:x 529, :y 109} {:x 412, :y 505})} {:name \"53a39a83-d798-4b2b-adb0-00879ac7a888\", :values ({:x 412, :y 505})}), :marks ({:type \"symbol\", :from {:data \"b784eca3-08d9-42fd-a571-74056d6bfcf4\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"steelblue\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}} {:type \"line\", :from {:data \"49f3132f-f082-418c-9e63-3ea9034e1d45\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :stroke {:value \"#FF29D2\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}} {:type \"symbol\", :from {:data \"53a39a83-d798-4b2b-adb0-00879ac7a888\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"#FF0000\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}})}}"}],"value":"[\"50 cities\" \"distance: 4478.217439335571\" #gorilla_repl.vega.VegaView{:content {:width 400, :height 247.2188, :padding {:top 10, :left 55, :bottom 40, :right 10}, :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"b784eca3-08d9-42fd-a571-74056d6bfcf4\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"b784eca3-08d9-42fd-a571-74056d6bfcf4\", :field \"data.y\"}}], :axes [{:type \"x\", :scale \"x\"} {:type \"y\", :scale \"y\"}], :data ({:name \"b784eca3-08d9-42fd-a571-74056d6bfcf4\", :values ({:x 412, :y 505} {:x 401, :y 521} {:x 300, :y 507} {:x 257, :y 505} {:x 202, :y 563} {:x 135, :y 515} {:x 21, :y 411} {:x 193, :y 358} {:x 177, :y 251} {:x 128, :y 262} {:x 132, :y 199} {:x 42, :y 174} {:x 23, :y 194} {:x 6, :y 220} {:x 11, :y 98} {:x 117, :y 101} {:x 111, :y 0} {:x 265, :y 64} {:x 300, :y 37} {:x 331, :y 110} {:x 304, :y 173} {:x 371, :y 197} {:x 393, :y 248} {:x 391, :y 361} {:x 570, :y 391} {:x 605, :y 377} {:x 695, :y 366} {:x 714, :y 358} {:x 766, :y 408} {:x 798, :y 442} {:x 736, :y 500} {:x 897, :y 509} {:x 875, :y 388} {:x 880, :y 345} {:x 836, :y 328} {:x 837, :y 291} {:x 798, :y 289} {:x 726, :y 283} {:x 683, :y 280} {:x 699, :y 236} {:x 699, :y 94} {:x 705, :y 93} {:x 751, :y 31} {:x 818, :y 104} {:x 844, :y 118} {:x 868, :y 155} {:x 826, :y 172} {:x 894, :y 103} {:x 898, :y 60} {:x 529, :y 109} {:x 412, :y 505})} {:name \"49f3132f-f082-418c-9e63-3ea9034e1d45\", :values ({:x 412, :y 505} {:x 401, :y 521} {:x 300, :y 507} {:x 257, :y 505} {:x 202, :y 563} {:x 135, :y 515} {:x 21, :y 411} {:x 193, :y 358} {:x 177, :y 251} {:x 128, :y 262} {:x 132, :y 199} {:x 42, :y 174} {:x 23, :y 194} {:x 6, :y 220} {:x 11, :y 98} {:x 117, :y 101} {:x 111, :y 0} {:x 265, :y 64} {:x 300, :y 37} {:x 331, :y 110} {:x 304, :y 173} {:x 371, :y 197} {:x 393, :y 248} {:x 391, :y 361} {:x 570, :y 391} {:x 605, :y 377} {:x 695, :y 366} {:x 714, :y 358} {:x 766, :y 408} {:x 798, :y 442} {:x 736, :y 500} {:x 897, :y 509} {:x 875, :y 388} {:x 880, :y 345} {:x 836, :y 328} {:x 837, :y 291} {:x 798, :y 289} {:x 726, :y 283} {:x 683, :y 280} {:x 699, :y 236} {:x 699, :y 94} {:x 705, :y 93} {:x 751, :y 31} {:x 818, :y 104} {:x 844, :y 118} {:x 868, :y 155} {:x 826, :y 172} {:x 894, :y 103} {:x 898, :y 60} {:x 529, :y 109} {:x 412, :y 505})} {:name \"53a39a83-d798-4b2b-adb0-00879ac7a888\", :values ({:x 412, :y 505})}), :marks ({:type \"symbol\", :from {:data \"b784eca3-08d9-42fd-a571-74056d6bfcf4\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"steelblue\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}} {:type \"line\", :from {:data \"49f3132f-f082-418c-9e63-3ea9034e1d45\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :stroke {:value \"#FF29D2\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}} {:type \"symbol\", :from {:data \"53a39a83-d798-4b2b-adb0-00879ac7a888\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"#FF0000\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}})}}]"}],"value":"[[\"50 cities\" \"distance: 4482.924879554315\" #gorilla_repl.vega.VegaView{:content {:width 400, :height 247.2188, :padding {:top 10, :left 55, :bottom 40, :right 10}, :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"a848ba85-fd1f-4885-9e00-8960bdcce8be\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"a848ba85-fd1f-4885-9e00-8960bdcce8be\", :field \"data.y\"}}], :axes [{:type \"x\", :scale \"x\"} {:type \"y\", :scale \"y\"}], :data ({:name \"a848ba85-fd1f-4885-9e00-8960bdcce8be\", :values ({:x 570, :y 391} {:x 605, :y 377} {:x 695, :y 366} {:x 714, :y 358} {:x 766, :y 408} {:x 798, :y 442} {:x 736, :y 500} {:x 897, :y 509} {:x 875, :y 388} {:x 880, :y 345} {:x 836, :y 328} {:x 837, :y 291} {:x 798, :y 289} {:x 726, :y 283} {:x 683, :y 280} {:x 699, :y 236} {:x 699, :y 94} {:x 705, :y 93} {:x 751, :y 31} {:x 818, :y 104} {:x 844, :y 118} {:x 868, :y 155} {:x 826, :y 172} {:x 894, :y 103} {:x 898, :y 60} {:x 529, :y 109} {:x 371, :y 197} {:x 393, :y 248} {:x 391, :y 361} {:x 412, :y 505} {:x 401, :y 521} {:x 300, :y 507} {:x 257, :y 505} {:x 202, :y 563} {:x 135, :y 515} {:x 21, :y 411} {:x 193, :y 358} {:x 177, :y 251} {:x 128, :y 262} {:x 132, :y 199} {:x 42, :y 174} {:x 23, :y 194} {:x 6, :y 220} {:x 11, :y 98} {:x 117, :y 101} {:x 111, :y 0} {:x 265, :y 64} {:x 300, :y 37} {:x 331, :y 110} {:x 304, :y 173} {:x 570, :y 391})} {:name \"96acefa9-239f-4fe9-8f9c-b5403a1a0cbe\", :values ({:x 570, :y 391} {:x 605, :y 377} {:x 695, :y 366} {:x 714, :y 358} {:x 766, :y 408} {:x 798, :y 442} {:x 736, :y 500} {:x 897, :y 509} {:x 875, :y 388} {:x 880, :y 345} {:x 836, :y 328} {:x 837, :y 291} {:x 798, :y 289} {:x 726, :y 283} {:x 683, :y 280} {:x 699, :y 236} {:x 699, :y 94} {:x 705, :y 93} {:x 751, :y 31} {:x 818, :y 104} {:x 844, :y 118} {:x 868, :y 155} {:x 826, :y 172} {:x 894, :y 103} {:x 898, :y 60} {:x 529, :y 109} {:x 371, :y 197} {:x 393, :y 248} {:x 391, :y 361} {:x 412, :y 505} {:x 401, :y 521} {:x 300, :y 507} {:x 257, :y 505} {:x 202, :y 563} {:x 135, :y 515} {:x 21, :y 411} {:x 193, :y 358} {:x 177, :y 251} {:x 128, :y 262} {:x 132, :y 199} {:x 42, :y 174} {:x 23, :y 194} {:x 6, :y 220} {:x 11, :y 98} {:x 117, :y 101} {:x 111, :y 0} {:x 265, :y 64} {:x 300, :y 37} {:x 331, :y 110} {:x 304, :y 173} {:x 570, :y 391})} {:name \"674c1dbf-f701-4440-b6b7-5b5e77bdda1f\", :values ({:x 570, :y 391})}), :marks ({:type \"symbol\", :from {:data \"a848ba85-fd1f-4885-9e00-8960bdcce8be\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"steelblue\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}} {:type \"line\", :from {:data \"96acefa9-239f-4fe9-8f9c-b5403a1a0cbe\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :stroke {:value \"#FF29D2\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}} {:type \"symbol\", :from {:data \"674c1dbf-f701-4440-b6b7-5b5e77bdda1f\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"#FF0000\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}})}}] [\"50 cities\" \"distance: 4478.217439335571\" #gorilla_repl.vega.VegaView{:content {:width 400, :height 247.2188, :padding {:top 10, :left 55, :bottom 40, :right 10}, :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"b784eca3-08d9-42fd-a571-74056d6bfcf4\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"b784eca3-08d9-42fd-a571-74056d6bfcf4\", :field \"data.y\"}}], :axes [{:type \"x\", :scale \"x\"} {:type \"y\", :scale \"y\"}], :data ({:name \"b784eca3-08d9-42fd-a571-74056d6bfcf4\", :values ({:x 412, :y 505} {:x 401, :y 521} {:x 300, :y 507} {:x 257, :y 505} {:x 202, :y 563} {:x 135, :y 515} {:x 21, :y 411} {:x 193, :y 358} {:x 177, :y 251} {:x 128, :y 262} {:x 132, :y 199} {:x 42, :y 174} {:x 23, :y 194} {:x 6, :y 220} {:x 11, :y 98} {:x 117, :y 101} {:x 111, :y 0} {:x 265, :y 64} {:x 300, :y 37} {:x 331, :y 110} {:x 304, :y 173} {:x 371, :y 197} {:x 393, :y 248} {:x 391, :y 361} {:x 570, :y 391} {:x 605, :y 377} {:x 695, :y 366} {:x 714, :y 358} {:x 766, :y 408} {:x 798, :y 442} {:x 736, :y 500} {:x 897, :y 509} {:x 875, :y 388} {:x 880, :y 345} {:x 836, :y 328} {:x 837, :y 291} {:x 798, :y 289} {:x 726, :y 283} {:x 683, :y 280} {:x 699, :y 236} {:x 699, :y 94} {:x 705, :y 93} {:x 751, :y 31} {:x 818, :y 104} {:x 844, :y 118} {:x 868, :y 155} {:x 826, :y 172} {:x 894, :y 103} {:x 898, :y 60} {:x 529, :y 109} {:x 412, :y 505})} {:name \"49f3132f-f082-418c-9e63-3ea9034e1d45\", :values ({:x 412, :y 505} {:x 401, :y 521} {:x 300, :y 507} {:x 257, :y 505} {:x 202, :y 563} {:x 135, :y 515} {:x 21, :y 411} {:x 193, :y 358} {:x 177, :y 251} {:x 128, :y 262} {:x 132, :y 199} {:x 42, :y 174} {:x 23, :y 194} {:x 6, :y 220} {:x 11, :y 98} {:x 117, :y 101} {:x 111, :y 0} {:x 265, :y 64} {:x 300, :y 37} {:x 331, :y 110} {:x 304, :y 173} {:x 371, :y 197} {:x 393, :y 248} {:x 391, :y 361} {:x 570, :y 391} {:x 605, :y 377} {:x 695, :y 366} {:x 714, :y 358} {:x 766, :y 408} {:x 798, :y 442} {:x 736, :y 500} {:x 897, :y 509} {:x 875, :y 388} {:x 880, :y 345} {:x 836, :y 328} {:x 837, :y 291} {:x 798, :y 289} {:x 726, :y 283} {:x 683, :y 280} {:x 699, :y 236} {:x 699, :y 94} {:x 705, :y 93} {:x 751, :y 31} {:x 818, :y 104} {:x 844, :y 118} {:x 868, :y 155} {:x 826, :y 172} {:x 894, :y 103} {:x 898, :y 60} {:x 529, :y 109} {:x 412, :y 505})} {:name \"53a39a83-d798-4b2b-adb0-00879ac7a888\", :values ({:x 412, :y 505})}), :marks ({:type \"symbol\", :from {:data \"b784eca3-08d9-42fd-a571-74056d6bfcf4\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"steelblue\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}} {:type \"line\", :from {:data \"49f3132f-f082-418c-9e63-3ea9034e1d45\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :stroke {:value \"#FF29D2\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}} {:type \"symbol\", :from {:data \"53a39a83-d798-4b2b-adb0-00879ac7a888\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"#FF0000\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}})}}]]"}
;; <=

;; **
;;; ### Improving bad links
;;; 
;;; When 2 links crosses, uncrossing them yields a shorter link.
;; **

;; @@
(let [tour [(City. 0 0) (City. 10 0) (City. 0 10) (City. 10 10)]]
  [(plot-tour tour)
  (tour-length tour)])
;; @@
;; =>
;;; {"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"vega","content":{"width":400,"height":247.2187957763672,"padding":{"top":10,"left":55,"bottom":40,"right":10},"scales":[{"name":"x","type":"linear","range":"width","zero":false,"domain":{"data":"740cd19e-79c4-45c9-9bca-0b41491f56b2","field":"data.x"}},{"name":"y","type":"linear","range":"height","nice":true,"zero":false,"domain":{"data":"740cd19e-79c4-45c9-9bca-0b41491f56b2","field":"data.y"}}],"axes":[{"type":"x","scale":"x"},{"type":"y","scale":"y"}],"data":[{"name":"740cd19e-79c4-45c9-9bca-0b41491f56b2","values":[{"x":0,"y":0},{"x":10,"y":0},{"x":0,"y":10},{"x":10,"y":10},{"x":0,"y":0}]},{"name":"a0483bc2-b458-4441-8dff-f6cd041bbbb6","values":[{"x":0,"y":0},{"x":10,"y":0},{"x":0,"y":10},{"x":10,"y":10},{"x":0,"y":0}]},{"name":"730059e5-685e-4872-90b4-c232003147c5","values":[{"x":0,"y":0}]}],"marks":[{"type":"symbol","from":{"data":"740cd19e-79c4-45c9-9bca-0b41491f56b2"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"fill":{"value":"steelblue"},"fillOpacity":{"value":1}},"update":{"shape":"circle","size":{"value":70},"stroke":{"value":"transparent"}},"hover":{"size":{"value":210},"stroke":{"value":"white"}}}},{"type":"line","from":{"data":"a0483bc2-b458-4441-8dff-f6cd041bbbb6"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"stroke":{"value":"#FF29D2"},"strokeWidth":{"value":2},"strokeOpacity":{"value":1}}}},{"type":"symbol","from":{"data":"730059e5-685e-4872-90b4-c232003147c5"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"fill":{"value":"#FF0000"},"fillOpacity":{"value":1}},"update":{"shape":"circle","size":{"value":70},"stroke":{"value":"transparent"}},"hover":{"size":{"value":210},"stroke":{"value":"white"}}}}]},"value":"#gorilla_repl.vega.VegaView{:content {:width 400, :height 247.2188, :padding {:top 10, :left 55, :bottom 40, :right 10}, :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"740cd19e-79c4-45c9-9bca-0b41491f56b2\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"740cd19e-79c4-45c9-9bca-0b41491f56b2\", :field \"data.y\"}}], :axes [{:type \"x\", :scale \"x\"} {:type \"y\", :scale \"y\"}], :data ({:name \"740cd19e-79c4-45c9-9bca-0b41491f56b2\", :values ({:x 0, :y 0} {:x 10, :y 0} {:x 0, :y 10} {:x 10, :y 10} {:x 0, :y 0})} {:name \"a0483bc2-b458-4441-8dff-f6cd041bbbb6\", :values ({:x 0, :y 0} {:x 10, :y 0} {:x 0, :y 10} {:x 10, :y 10} {:x 0, :y 0})} {:name \"730059e5-685e-4872-90b4-c232003147c5\", :values ({:x 0, :y 0})}), :marks ({:type \"symbol\", :from {:data \"740cd19e-79c4-45c9-9bca-0b41491f56b2\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"steelblue\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}} {:type \"line\", :from {:data \"a0483bc2-b458-4441-8dff-f6cd041bbbb6\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :stroke {:value \"#FF29D2\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}} {:type \"symbol\", :from {:data \"730059e5-685e-4872-90b4-c232003147c5\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"#FF0000\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}})}}"},{"type":"html","content":"<span class='clj-double'>48.2842712474619</span>","value":"48.2842712474619"}],"value":"[#gorilla_repl.vega.VegaView{:content {:width 400, :height 247.2188, :padding {:top 10, :left 55, :bottom 40, :right 10}, :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"740cd19e-79c4-45c9-9bca-0b41491f56b2\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"740cd19e-79c4-45c9-9bca-0b41491f56b2\", :field \"data.y\"}}], :axes [{:type \"x\", :scale \"x\"} {:type \"y\", :scale \"y\"}], :data ({:name \"740cd19e-79c4-45c9-9bca-0b41491f56b2\", :values ({:x 0, :y 0} {:x 10, :y 0} {:x 0, :y 10} {:x 10, :y 10} {:x 0, :y 0})} {:name \"a0483bc2-b458-4441-8dff-f6cd041bbbb6\", :values ({:x 0, :y 0} {:x 10, :y 0} {:x 0, :y 10} {:x 10, :y 10} {:x 0, :y 0})} {:name \"730059e5-685e-4872-90b4-c232003147c5\", :values ({:x 0, :y 0})}), :marks ({:type \"symbol\", :from {:data \"740cd19e-79c4-45c9-9bca-0b41491f56b2\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"steelblue\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}} {:type \"line\", :from {:data \"a0483bc2-b458-4441-8dff-f6cd041bbbb6\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :stroke {:value \"#FF29D2\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}} {:type \"symbol\", :from {:data \"730059e5-685e-4872-90b4-c232003147c5\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"#FF0000\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}})}} 48.2842712474619]"}
;; <=

;; **
;;; Uncrossing can be achived by reversing a segment
;; **

;; @@
(defn reverse-tour 
  "Reverse a tour from start to end inclusive"
  [tour start end]
  (into [] (concat (subvec tour 0 start) (into [] (rseq (subvec tour start (+ end 1)))) (subvec tour (+ end 1)))))

(reverse-tour [1 2 3 4] 0 1)
;; @@
;; =>
;;; {"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-long'>2</span>","value":"2"},{"type":"html","content":"<span class='clj-long'>1</span>","value":"1"},{"type":"html","content":"<span class='clj-long'>3</span>","value":"3"},{"type":"html","content":"<span class='clj-long'>4</span>","value":"4"}],"value":"[2 1 3 4]"}
;; <=

;; @@
(let [tour [(City. 0 0) (City. 10 0) (City. 0 10) (City. 10 10)]
      improved (reverse-tour tour 0 1)]
  [(plot-tour improved)
  (tour-length improved)])
;; @@
;; =>
;;; {"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"vega","content":{"width":400,"height":247.2187957763672,"padding":{"top":10,"left":55,"bottom":40,"right":10},"scales":[{"name":"x","type":"linear","range":"width","zero":false,"domain":{"data":"ab1d0f35-9794-46a3-bce8-682e07b1c45f","field":"data.x"}},{"name":"y","type":"linear","range":"height","nice":true,"zero":false,"domain":{"data":"ab1d0f35-9794-46a3-bce8-682e07b1c45f","field":"data.y"}}],"axes":[{"type":"x","scale":"x"},{"type":"y","scale":"y"}],"data":[{"name":"ab1d0f35-9794-46a3-bce8-682e07b1c45f","values":[{"x":10,"y":0},{"x":0,"y":0},{"x":0,"y":10},{"x":10,"y":10},{"x":10,"y":0}]},{"name":"1c8d8c1e-9c19-4dd5-86fa-7e445bc1e3d1","values":[{"x":10,"y":0},{"x":0,"y":0},{"x":0,"y":10},{"x":10,"y":10},{"x":10,"y":0}]},{"name":"162c1a23-1d9f-41b2-a1d6-e23c053f6690","values":[{"x":10,"y":0}]}],"marks":[{"type":"symbol","from":{"data":"ab1d0f35-9794-46a3-bce8-682e07b1c45f"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"fill":{"value":"steelblue"},"fillOpacity":{"value":1}},"update":{"shape":"circle","size":{"value":70},"stroke":{"value":"transparent"}},"hover":{"size":{"value":210},"stroke":{"value":"white"}}}},{"type":"line","from":{"data":"1c8d8c1e-9c19-4dd5-86fa-7e445bc1e3d1"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"stroke":{"value":"#FF29D2"},"strokeWidth":{"value":2},"strokeOpacity":{"value":1}}}},{"type":"symbol","from":{"data":"162c1a23-1d9f-41b2-a1d6-e23c053f6690"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"fill":{"value":"#FF0000"},"fillOpacity":{"value":1}},"update":{"shape":"circle","size":{"value":70},"stroke":{"value":"transparent"}},"hover":{"size":{"value":210},"stroke":{"value":"white"}}}}]},"value":"#gorilla_repl.vega.VegaView{:content {:width 400, :height 247.2188, :padding {:top 10, :left 55, :bottom 40, :right 10}, :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"ab1d0f35-9794-46a3-bce8-682e07b1c45f\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"ab1d0f35-9794-46a3-bce8-682e07b1c45f\", :field \"data.y\"}}], :axes [{:type \"x\", :scale \"x\"} {:type \"y\", :scale \"y\"}], :data ({:name \"ab1d0f35-9794-46a3-bce8-682e07b1c45f\", :values ({:x 10, :y 0} {:x 0, :y 0} {:x 0, :y 10} {:x 10, :y 10} {:x 10, :y 0})} {:name \"1c8d8c1e-9c19-4dd5-86fa-7e445bc1e3d1\", :values ({:x 10, :y 0} {:x 0, :y 0} {:x 0, :y 10} {:x 10, :y 10} {:x 10, :y 0})} {:name \"162c1a23-1d9f-41b2-a1d6-e23c053f6690\", :values ({:x 10, :y 0})}), :marks ({:type \"symbol\", :from {:data \"ab1d0f35-9794-46a3-bce8-682e07b1c45f\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"steelblue\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}} {:type \"line\", :from {:data \"1c8d8c1e-9c19-4dd5-86fa-7e445bc1e3d1\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :stroke {:value \"#FF29D2\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}} {:type \"symbol\", :from {:data \"162c1a23-1d9f-41b2-a1d6-e23c053f6690\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"#FF0000\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}})}}"},{"type":"html","content":"<span class='clj-long'>40</span>","value":"40"}],"value":"[#gorilla_repl.vega.VegaView{:content {:width 400, :height 247.2188, :padding {:top 10, :left 55, :bottom 40, :right 10}, :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"ab1d0f35-9794-46a3-bce8-682e07b1c45f\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"ab1d0f35-9794-46a3-bce8-682e07b1c45f\", :field \"data.y\"}}], :axes [{:type \"x\", :scale \"x\"} {:type \"y\", :scale \"y\"}], :data ({:name \"ab1d0f35-9794-46a3-bce8-682e07b1c45f\", :values ({:x 10, :y 0} {:x 0, :y 0} {:x 0, :y 10} {:x 10, :y 10} {:x 10, :y 0})} {:name \"1c8d8c1e-9c19-4dd5-86fa-7e445bc1e3d1\", :values ({:x 10, :y 0} {:x 0, :y 0} {:x 0, :y 10} {:x 10, :y 10} {:x 10, :y 0})} {:name \"162c1a23-1d9f-41b2-a1d6-e23c053f6690\", :values ({:x 10, :y 0})}), :marks ({:type \"symbol\", :from {:data \"ab1d0f35-9794-46a3-bce8-682e07b1c45f\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"steelblue\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}} {:type \"line\", :from {:data \"1c8d8c1e-9c19-4dd5-86fa-7e445bc1e3d1\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :stroke {:value \"#FF29D2\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}} {:type \"symbol\", :from {:data \"162c1a23-1d9f-41b2-a1d6-e23c053f6690\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"#FF0000\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}})}} 40]"}
;; <=

;; **
;;; We can do this optimization on all of the subsegments of a tour, starting from the longer subsegments first
;;; 
;;; `memoize`: https://clojuredocs.org/clojure.core/memoize
;; **

;; @@
(defn subsegments 
  "Return [i, j] pairs representing tour[i:j] inclusive"
  [city-count]
  (for [sub-length (reverse (range 2 city-count))
        index (reverse (range (+ 1 (- city-count sub-length))))]
  [index (+ index (- sub-length 1))]))

(def m-subsegments (memoize subsegments))

(subsegments 5)
;; @@
;; =>
;;; {"type":"list-like","open":"<span class='clj-lazy-seq'>(</span>","close":"<span class='clj-lazy-seq'>)</span>","separator":" ","items":[{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-long'>1</span>","value":"1"},{"type":"html","content":"<span class='clj-long'>4</span>","value":"4"}],"value":"[1 4]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-long'>0</span>","value":"0"},{"type":"html","content":"<span class='clj-long'>3</span>","value":"3"}],"value":"[0 3]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-long'>2</span>","value":"2"},{"type":"html","content":"<span class='clj-long'>4</span>","value":"4"}],"value":"[2 4]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-long'>1</span>","value":"1"},{"type":"html","content":"<span class='clj-long'>3</span>","value":"3"}],"value":"[1 3]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-long'>0</span>","value":"0"},{"type":"html","content":"<span class='clj-long'>2</span>","value":"2"}],"value":"[0 2]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-long'>3</span>","value":"3"},{"type":"html","content":"<span class='clj-long'>4</span>","value":"4"}],"value":"[3 4]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-long'>2</span>","value":"2"},{"type":"html","content":"<span class='clj-long'>3</span>","value":"3"}],"value":"[2 3]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-long'>1</span>","value":"1"},{"type":"html","content":"<span class='clj-long'>2</span>","value":"2"}],"value":"[1 2]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-long'>0</span>","value":"0"},{"type":"html","content":"<span class='clj-long'>1</span>","value":"1"}],"value":"[0 1]"}],"value":"([1 4] [0 3] [2 4] [1 3] [0 2] [3 4] [2 3] [1 2] [0 1])"}
;; <=

;; @@
(defn can-improve? 
  "If reversing tour[start:end] inclusive is shorter, then do it"
  [tour start end]
  ;; given a tour [...A, B....C, D...]
  ;; reverse if [...A, C...B, D] is shorter
  (let [cities-count (count tour)
        A (nth tour (mod (+ cities-count (- start 1)) cities-count))
        B (nth tour start)
        C (nth tour end)
        D (nth tour (mod  (+ 1 end) cities-count))
        AB (distance A B)
        CD (distance C D)
        AB-CD (+ AB CD)
        AC (distance A C)
        BD (distance B D)
        AC-BD (+ AC BD)]
    (if (> AB-CD AC-BD)
      [true (reverse-tour tour start end)]
      [false tour])))

(plot-tour (second (can-improve? [(City. 0 0) (City. 10 0) (City. 0 10) (City. 10 10)] 0 1)))

(can-improve? [(City. 0 0) (City. 10 0) (City. 0 10) (City. 10 10)] 1 2)
;; @@
;; =>
;;; {"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-unkown'>false</span>","value":"false"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:x</span>","value":":x"},{"type":"html","content":"<span class='clj-long'>0</span>","value":"0"}],"value":"[:x 0]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:y</span>","value":":y"},{"type":"html","content":"<span class='clj-long'>0</span>","value":"0"}],"value":"[:y 0]"}],"value":"#mirthful_badlands.City{:x 0, :y 0}"},{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:x</span>","value":":x"},{"type":"html","content":"<span class='clj-long'>10</span>","value":"10"}],"value":"[:x 10]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:y</span>","value":":y"},{"type":"html","content":"<span class='clj-long'>0</span>","value":"0"}],"value":"[:y 0]"}],"value":"#mirthful_badlands.City{:x 10, :y 0}"},{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:x</span>","value":":x"},{"type":"html","content":"<span class='clj-long'>0</span>","value":"0"}],"value":"[:x 0]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:y</span>","value":":y"},{"type":"html","content":"<span class='clj-long'>10</span>","value":"10"}],"value":"[:y 10]"}],"value":"#mirthful_badlands.City{:x 0, :y 10}"},{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:x</span>","value":":x"},{"type":"html","content":"<span class='clj-long'>10</span>","value":"10"}],"value":"[:x 10]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:y</span>","value":":y"},{"type":"html","content":"<span class='clj-long'>10</span>","value":"10"}],"value":"[:y 10]"}],"value":"#mirthful_badlands.City{:x 10, :y 10}"}],"value":"[#mirthful_badlands.City{:x 0, :y 0} #mirthful_badlands.City{:x 10, :y 0} #mirthful_badlands.City{:x 0, :y 10} #mirthful_badlands.City{:x 10, :y 10}]"}],"value":"[false [#mirthful_badlands.City{:x 0, :y 0} #mirthful_badlands.City{:x 10, :y 0} #mirthful_badlands.City{:x 0, :y 10} #mirthful_badlands.City{:x 10, :y 10}]]"}
;; <=

;; @@
(let [tour [(City. 0 0) (City. 10 0) (City. 0 10) (City. 10 10)]
      city-count (count tour)
      improvements (map (partial apply can-improve? tour) (subsegments city-count))]
  (every? false? improvements)
  [improvements])

(let [tour [(City. 0 0) (City. 0 10) (City. 10 10) (City. 10 0)]
      city-count (count tour)
      improvements (map (partial apply can-improve? tour) (subsegments city-count))]
  (every? false? improvements)
  [improvements])


(let [tour [(City. 0 0) (City. 1 0) (City. 2 0) (City. 3 0) (City. 4 0) (City. 5 0) (City. 0 5) (City. 1 5) (City. 2 5) (City. 3 5) (City. 4 5) (City. 5 5)]
      city-count (count tour)] 
  [(plot-tour tour)
   (plot-tour 
     (second
       (reduce (fn [[i t] seg]
                 (let [improvement (apply can-improve? t seg)]
                   ;; (println "before:" [i t])
                   ;; (println "after " improvement)
                   ;; (println "")
                   [(or i (first improvement)) (second improvement)])) [false tour] (subsegments city-count))))])
;; @@
;; =>
;;; {"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"vega","content":{"width":400,"height":247.2187957763672,"padding":{"top":10,"left":55,"bottom":40,"right":10},"scales":[{"name":"x","type":"linear","range":"width","zero":false,"domain":{"data":"68ea0895-c5d8-41be-838d-4bc3b5b9cbca","field":"data.x"}},{"name":"y","type":"linear","range":"height","nice":true,"zero":false,"domain":{"data":"68ea0895-c5d8-41be-838d-4bc3b5b9cbca","field":"data.y"}}],"axes":[{"type":"x","scale":"x"},{"type":"y","scale":"y"}],"data":[{"name":"68ea0895-c5d8-41be-838d-4bc3b5b9cbca","values":[{"x":0,"y":0},{"x":1,"y":0},{"x":2,"y":0},{"x":3,"y":0},{"x":4,"y":0},{"x":5,"y":0},{"x":0,"y":5},{"x":1,"y":5},{"x":2,"y":5},{"x":3,"y":5},{"x":4,"y":5},{"x":5,"y":5},{"x":0,"y":0}]},{"name":"e2ad472d-6bcb-444b-b5f6-4962a96669ba","values":[{"x":0,"y":0},{"x":1,"y":0},{"x":2,"y":0},{"x":3,"y":0},{"x":4,"y":0},{"x":5,"y":0},{"x":0,"y":5},{"x":1,"y":5},{"x":2,"y":5},{"x":3,"y":5},{"x":4,"y":5},{"x":5,"y":5},{"x":0,"y":0}]},{"name":"f8366d5f-4170-40b3-9e32-4bfb411e4733","values":[{"x":0,"y":0}]}],"marks":[{"type":"symbol","from":{"data":"68ea0895-c5d8-41be-838d-4bc3b5b9cbca"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"fill":{"value":"steelblue"},"fillOpacity":{"value":1}},"update":{"shape":"circle","size":{"value":70},"stroke":{"value":"transparent"}},"hover":{"size":{"value":210},"stroke":{"value":"white"}}}},{"type":"line","from":{"data":"e2ad472d-6bcb-444b-b5f6-4962a96669ba"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"stroke":{"value":"#FF29D2"},"strokeWidth":{"value":2},"strokeOpacity":{"value":1}}}},{"type":"symbol","from":{"data":"f8366d5f-4170-40b3-9e32-4bfb411e4733"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"fill":{"value":"#FF0000"},"fillOpacity":{"value":1}},"update":{"shape":"circle","size":{"value":70},"stroke":{"value":"transparent"}},"hover":{"size":{"value":210},"stroke":{"value":"white"}}}}]},"value":"#gorilla_repl.vega.VegaView{:content {:width 400, :height 247.2188, :padding {:top 10, :left 55, :bottom 40, :right 10}, :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"68ea0895-c5d8-41be-838d-4bc3b5b9cbca\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"68ea0895-c5d8-41be-838d-4bc3b5b9cbca\", :field \"data.y\"}}], :axes [{:type \"x\", :scale \"x\"} {:type \"y\", :scale \"y\"}], :data ({:name \"68ea0895-c5d8-41be-838d-4bc3b5b9cbca\", :values ({:x 0, :y 0} {:x 1, :y 0} {:x 2, :y 0} {:x 3, :y 0} {:x 4, :y 0} {:x 5, :y 0} {:x 0, :y 5} {:x 1, :y 5} {:x 2, :y 5} {:x 3, :y 5} {:x 4, :y 5} {:x 5, :y 5} {:x 0, :y 0})} {:name \"e2ad472d-6bcb-444b-b5f6-4962a96669ba\", :values ({:x 0, :y 0} {:x 1, :y 0} {:x 2, :y 0} {:x 3, :y 0} {:x 4, :y 0} {:x 5, :y 0} {:x 0, :y 5} {:x 1, :y 5} {:x 2, :y 5} {:x 3, :y 5} {:x 4, :y 5} {:x 5, :y 5} {:x 0, :y 0})} {:name \"f8366d5f-4170-40b3-9e32-4bfb411e4733\", :values ({:x 0, :y 0})}), :marks ({:type \"symbol\", :from {:data \"68ea0895-c5d8-41be-838d-4bc3b5b9cbca\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"steelblue\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}} {:type \"line\", :from {:data \"e2ad472d-6bcb-444b-b5f6-4962a96669ba\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :stroke {:value \"#FF29D2\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}} {:type \"symbol\", :from {:data \"f8366d5f-4170-40b3-9e32-4bfb411e4733\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"#FF0000\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}})}}"},{"type":"vega","content":{"width":400,"height":247.2187957763672,"padding":{"top":10,"left":55,"bottom":40,"right":10},"scales":[{"name":"x","type":"linear","range":"width","zero":false,"domain":{"data":"9e7d6901-9baa-4514-bb24-0466a4ca80a7","field":"data.x"}},{"name":"y","type":"linear","range":"height","nice":true,"zero":false,"domain":{"data":"9e7d6901-9baa-4514-bb24-0466a4ca80a7","field":"data.y"}}],"axes":[{"type":"x","scale":"x"},{"type":"y","scale":"y"}],"data":[{"name":"9e7d6901-9baa-4514-bb24-0466a4ca80a7","values":[{"x":0,"y":0},{"x":1,"y":0},{"x":2,"y":0},{"x":3,"y":0},{"x":4,"y":0},{"x":5,"y":0},{"x":5,"y":5},{"x":4,"y":5},{"x":3,"y":5},{"x":2,"y":5},{"x":1,"y":5},{"x":0,"y":5},{"x":0,"y":0}]},{"name":"67eb82af-03e3-4f4e-92b1-af6ab79e6fa5","values":[{"x":0,"y":0},{"x":1,"y":0},{"x":2,"y":0},{"x":3,"y":0},{"x":4,"y":0},{"x":5,"y":0},{"x":5,"y":5},{"x":4,"y":5},{"x":3,"y":5},{"x":2,"y":5},{"x":1,"y":5},{"x":0,"y":5},{"x":0,"y":0}]},{"name":"45c5435f-7626-4823-bffb-6b8d3ba47ad3","values":[{"x":0,"y":0}]}],"marks":[{"type":"symbol","from":{"data":"9e7d6901-9baa-4514-bb24-0466a4ca80a7"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"fill":{"value":"steelblue"},"fillOpacity":{"value":1}},"update":{"shape":"circle","size":{"value":70},"stroke":{"value":"transparent"}},"hover":{"size":{"value":210},"stroke":{"value":"white"}}}},{"type":"line","from":{"data":"67eb82af-03e3-4f4e-92b1-af6ab79e6fa5"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"stroke":{"value":"#FF29D2"},"strokeWidth":{"value":2},"strokeOpacity":{"value":1}}}},{"type":"symbol","from":{"data":"45c5435f-7626-4823-bffb-6b8d3ba47ad3"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"fill":{"value":"#FF0000"},"fillOpacity":{"value":1}},"update":{"shape":"circle","size":{"value":70},"stroke":{"value":"transparent"}},"hover":{"size":{"value":210},"stroke":{"value":"white"}}}}]},"value":"#gorilla_repl.vega.VegaView{:content {:width 400, :height 247.2188, :padding {:top 10, :left 55, :bottom 40, :right 10}, :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"9e7d6901-9baa-4514-bb24-0466a4ca80a7\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"9e7d6901-9baa-4514-bb24-0466a4ca80a7\", :field \"data.y\"}}], :axes [{:type \"x\", :scale \"x\"} {:type \"y\", :scale \"y\"}], :data ({:name \"9e7d6901-9baa-4514-bb24-0466a4ca80a7\", :values ({:x 0, :y 0} {:x 1, :y 0} {:x 2, :y 0} {:x 3, :y 0} {:x 4, :y 0} {:x 5, :y 0} {:x 5, :y 5} {:x 4, :y 5} {:x 3, :y 5} {:x 2, :y 5} {:x 1, :y 5} {:x 0, :y 5} {:x 0, :y 0})} {:name \"67eb82af-03e3-4f4e-92b1-af6ab79e6fa5\", :values ({:x 0, :y 0} {:x 1, :y 0} {:x 2, :y 0} {:x 3, :y 0} {:x 4, :y 0} {:x 5, :y 0} {:x 5, :y 5} {:x 4, :y 5} {:x 3, :y 5} {:x 2, :y 5} {:x 1, :y 5} {:x 0, :y 5} {:x 0, :y 0})} {:name \"45c5435f-7626-4823-bffb-6b8d3ba47ad3\", :values ({:x 0, :y 0})}), :marks ({:type \"symbol\", :from {:data \"9e7d6901-9baa-4514-bb24-0466a4ca80a7\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"steelblue\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}} {:type \"line\", :from {:data \"67eb82af-03e3-4f4e-92b1-af6ab79e6fa5\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :stroke {:value \"#FF29D2\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}} {:type \"symbol\", :from {:data \"45c5435f-7626-4823-bffb-6b8d3ba47ad3\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"#FF0000\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}})}}"}],"value":"[#gorilla_repl.vega.VegaView{:content {:width 400, :height 247.2188, :padding {:top 10, :left 55, :bottom 40, :right 10}, :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"68ea0895-c5d8-41be-838d-4bc3b5b9cbca\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"68ea0895-c5d8-41be-838d-4bc3b5b9cbca\", :field \"data.y\"}}], :axes [{:type \"x\", :scale \"x\"} {:type \"y\", :scale \"y\"}], :data ({:name \"68ea0895-c5d8-41be-838d-4bc3b5b9cbca\", :values ({:x 0, :y 0} {:x 1, :y 0} {:x 2, :y 0} {:x 3, :y 0} {:x 4, :y 0} {:x 5, :y 0} {:x 0, :y 5} {:x 1, :y 5} {:x 2, :y 5} {:x 3, :y 5} {:x 4, :y 5} {:x 5, :y 5} {:x 0, :y 0})} {:name \"e2ad472d-6bcb-444b-b5f6-4962a96669ba\", :values ({:x 0, :y 0} {:x 1, :y 0} {:x 2, :y 0} {:x 3, :y 0} {:x 4, :y 0} {:x 5, :y 0} {:x 0, :y 5} {:x 1, :y 5} {:x 2, :y 5} {:x 3, :y 5} {:x 4, :y 5} {:x 5, :y 5} {:x 0, :y 0})} {:name \"f8366d5f-4170-40b3-9e32-4bfb411e4733\", :values ({:x 0, :y 0})}), :marks ({:type \"symbol\", :from {:data \"68ea0895-c5d8-41be-838d-4bc3b5b9cbca\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"steelblue\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}} {:type \"line\", :from {:data \"e2ad472d-6bcb-444b-b5f6-4962a96669ba\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :stroke {:value \"#FF29D2\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}} {:type \"symbol\", :from {:data \"f8366d5f-4170-40b3-9e32-4bfb411e4733\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"#FF0000\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}})}} #gorilla_repl.vega.VegaView{:content {:width 400, :height 247.2188, :padding {:top 10, :left 55, :bottom 40, :right 10}, :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"9e7d6901-9baa-4514-bb24-0466a4ca80a7\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"9e7d6901-9baa-4514-bb24-0466a4ca80a7\", :field \"data.y\"}}], :axes [{:type \"x\", :scale \"x\"} {:type \"y\", :scale \"y\"}], :data ({:name \"9e7d6901-9baa-4514-bb24-0466a4ca80a7\", :values ({:x 0, :y 0} {:x 1, :y 0} {:x 2, :y 0} {:x 3, :y 0} {:x 4, :y 0} {:x 5, :y 0} {:x 5, :y 5} {:x 4, :y 5} {:x 3, :y 5} {:x 2, :y 5} {:x 1, :y 5} {:x 0, :y 5} {:x 0, :y 0})} {:name \"67eb82af-03e3-4f4e-92b1-af6ab79e6fa5\", :values ({:x 0, :y 0} {:x 1, :y 0} {:x 2, :y 0} {:x 3, :y 0} {:x 4, :y 0} {:x 5, :y 0} {:x 5, :y 5} {:x 4, :y 5} {:x 3, :y 5} {:x 2, :y 5} {:x 1, :y 5} {:x 0, :y 5} {:x 0, :y 0})} {:name \"45c5435f-7626-4823-bffb-6b8d3ba47ad3\", :values ({:x 0, :y 0})}), :marks ({:type \"symbol\", :from {:data \"9e7d6901-9baa-4514-bb24-0466a4ca80a7\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"steelblue\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}} {:type \"line\", :from {:data \"67eb82af-03e3-4f4e-92b1-af6ab79e6fa5\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :stroke {:value \"#FF29D2\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}} {:type \"symbol\", :from {:data \"45c5435f-7626-4823-bffb-6b8d3ba47ad3\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"#FF0000\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}})}}]"}
;; <=

;; @@
(defn improve-tour [tour]
  (let [city-count (count tour)
        improvement (reduce (fn [[current-improvement-result current-tour] current-segment]
                              (let [possibly-improved-tour (apply can-improve? current-tour current-segment)
                                    has-improved? (or current-improvement-result (first possibly-improved-tour))]
                                [has-improved? (second possibly-improved-tour)]))
                            [false tour] (m-subsegments city-count))]
    (if (first improvement)
      (recur (second improvement))
      (second improvement))))
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-var'>#&#x27;mirthful-badlands/improve-tour</span>","value":"#'mirthful-badlands/improve-tour"}
;; <=

;; **
;;; Here we continuously reapply `can-improved?` on a tour with each segment generated by `subsegments`. It's basically:
;;; 
;;; `(can-improve? tour segment)` returns `[improved? possibly-improved-tour]`
;;; 
;;; then on the we reapply `can-improved?` on `possible-improved-tour`, in the meanwhile we also update the `improved?` flag
;;; 
;; **

;; @@
(improve-tour [(City. 0 0) (City. 1 0) (City. 2 0) (City. 3 0) (City. 4 0) (City. 5 0) (City. 0 5) (City. 1 5) (City. 2 5) (City. 3 5) (City. 4 5) (City. 5 5)])

(plot-tour (improve-tour [(City. 0 0) (City. 1 0) (City. 2 0) (City. 3 0) (City. 4 0) (City. 5 0) (City. 0 5) (City. 1 5) (City. 2 5) (City. 3 5) (City. 4 5) (City. 5 5)]))
;; @@
;; =>
;;; {"type":"vega","content":{"width":400,"height":247.2187957763672,"padding":{"top":10,"left":55,"bottom":40,"right":10},"scales":[{"name":"x","type":"linear","range":"width","zero":false,"domain":{"data":"f1ba67f0-c67b-471d-a809-877d331e08c2","field":"data.x"}},{"name":"y","type":"linear","range":"height","nice":true,"zero":false,"domain":{"data":"f1ba67f0-c67b-471d-a809-877d331e08c2","field":"data.y"}}],"axes":[{"type":"x","scale":"x"},{"type":"y","scale":"y"}],"data":[{"name":"f1ba67f0-c67b-471d-a809-877d331e08c2","values":[{"x":0,"y":0},{"x":1,"y":0},{"x":2,"y":0},{"x":3,"y":0},{"x":4,"y":0},{"x":5,"y":0},{"x":5,"y":5},{"x":4,"y":5},{"x":3,"y":5},{"x":2,"y":5},{"x":1,"y":5},{"x":0,"y":5},{"x":0,"y":0}]},{"name":"51bffbe1-d1a4-4b7f-ab74-3906c9ff8679","values":[{"x":0,"y":0},{"x":1,"y":0},{"x":2,"y":0},{"x":3,"y":0},{"x":4,"y":0},{"x":5,"y":0},{"x":5,"y":5},{"x":4,"y":5},{"x":3,"y":5},{"x":2,"y":5},{"x":1,"y":5},{"x":0,"y":5},{"x":0,"y":0}]},{"name":"2178cf8f-f8d4-4df2-975f-96e97b0f9a81","values":[{"x":0,"y":0}]}],"marks":[{"type":"symbol","from":{"data":"f1ba67f0-c67b-471d-a809-877d331e08c2"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"fill":{"value":"steelblue"},"fillOpacity":{"value":1}},"update":{"shape":"circle","size":{"value":70},"stroke":{"value":"transparent"}},"hover":{"size":{"value":210},"stroke":{"value":"white"}}}},{"type":"line","from":{"data":"51bffbe1-d1a4-4b7f-ab74-3906c9ff8679"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"stroke":{"value":"#FF29D2"},"strokeWidth":{"value":2},"strokeOpacity":{"value":1}}}},{"type":"symbol","from":{"data":"2178cf8f-f8d4-4df2-975f-96e97b0f9a81"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"fill":{"value":"#FF0000"},"fillOpacity":{"value":1}},"update":{"shape":"circle","size":{"value":70},"stroke":{"value":"transparent"}},"hover":{"size":{"value":210},"stroke":{"value":"white"}}}}]},"value":"#gorilla_repl.vega.VegaView{:content {:width 400, :height 247.2188, :padding {:top 10, :left 55, :bottom 40, :right 10}, :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"f1ba67f0-c67b-471d-a809-877d331e08c2\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"f1ba67f0-c67b-471d-a809-877d331e08c2\", :field \"data.y\"}}], :axes [{:type \"x\", :scale \"x\"} {:type \"y\", :scale \"y\"}], :data ({:name \"f1ba67f0-c67b-471d-a809-877d331e08c2\", :values ({:x 0, :y 0} {:x 1, :y 0} {:x 2, :y 0} {:x 3, :y 0} {:x 4, :y 0} {:x 5, :y 0} {:x 5, :y 5} {:x 4, :y 5} {:x 3, :y 5} {:x 2, :y 5} {:x 1, :y 5} {:x 0, :y 5} {:x 0, :y 0})} {:name \"51bffbe1-d1a4-4b7f-ab74-3906c9ff8679\", :values ({:x 0, :y 0} {:x 1, :y 0} {:x 2, :y 0} {:x 3, :y 0} {:x 4, :y 0} {:x 5, :y 0} {:x 5, :y 5} {:x 4, :y 5} {:x 3, :y 5} {:x 2, :y 5} {:x 1, :y 5} {:x 0, :y 5} {:x 0, :y 0})} {:name \"2178cf8f-f8d4-4df2-975f-96e97b0f9a81\", :values ({:x 0, :y 0})}), :marks ({:type \"symbol\", :from {:data \"f1ba67f0-c67b-471d-a809-877d331e08c2\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"steelblue\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}} {:type \"line\", :from {:data \"51bffbe1-d1a4-4b7f-ab74-3906c9ff8679\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :stroke {:value \"#FF29D2\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}} {:type \"symbol\", :from {:data \"2178cf8f-f8d4-4df2-975f-96e97b0f9a81\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"#FF0000\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}})}}"}
;; <=

;; **
;;; ### Improved Nearest Neighbour Algorithm
;; **

;; @@
(defn improved-nearest-neighbour-tsp [cities]
  (improve-tour (nearest-neighbour-tsp cities)))

(defn improved-rep-nearest-neighbour-tsp [cities]
  (improve-tour (rep-nearest-neighbour-tsp cities)))
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-var'>#&#x27;mirthful-badlands/improved-rep-nearest-neighbour-tsp</span>","value":"#'mirthful-badlands/improved-rep-nearest-neighbour-tsp"}
;; <=

;; @@
(let [cities (random-cities 100)
      a (future (execute nearest-neighbour-tsp cities))
      b (future (execute improved-nearest-neighbour-tsp cities))
      c (future (execute rep-nearest-neighbour-tsp cities))
      d (future (execute improved-rep-nearest-neighbour-tsp cities))]
  [@a @b @c @d])
;; @@
;; ->
;;; &quot;Elapsed time: 25.455055 msecs&quot;
;;; &quot;Elapsed time: 110.875924 msecs&quot;
;;; &quot;Elapsed time: 2636.604151 msecs&quot;
;;; &quot;Elapsed time: 2680.074688 msecs&quot;
;;; 
;; <-
;; =>
;;; {"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-string'>&quot;100 cities&quot;</span>","value":"\"100 cities\""},{"type":"html","content":"<span class='clj-string'>&quot;distance: 7399.980215466095&quot;</span>","value":"\"distance: 7399.980215466095\""},{"type":"vega","content":{"width":400,"height":247.2187957763672,"padding":{"top":10,"left":55,"bottom":40,"right":10},"scales":[{"name":"x","type":"linear","range":"width","zero":false,"domain":{"data":"e348e1d2-c084-4d8e-95a5-864205aac865","field":"data.x"}},{"name":"y","type":"linear","range":"height","nice":true,"zero":false,"domain":{"data":"e348e1d2-c084-4d8e-95a5-864205aac865","field":"data.y"}}],"axes":[{"type":"x","scale":"x"},{"type":"y","scale":"y"}],"data":[{"name":"e348e1d2-c084-4d8e-95a5-864205aac865","values":[{"x":664,"y":524},{"x":665,"y":501},{"x":638,"y":504},{"x":627,"y":545},{"x":647,"y":555},{"x":632,"y":575},{"x":669,"y":575},{"x":689,"y":558},{"x":679,"y":543},{"x":751,"y":540},{"x":760,"y":571},{"x":790,"y":519},{"x":773,"y":486},{"x":749,"y":455},{"x":815,"y":435},{"x":830,"y":421},{"x":881,"y":421},{"x":881,"y":480},{"x":891,"y":489},{"x":886,"y":515},{"x":840,"y":554},{"x":795,"y":330},{"x":818,"y":288},{"x":844,"y":227},{"x":838,"y":200},{"x":876,"y":154},{"x":810,"y":115},{"x":708,"y":172},{"x":726,"y":203},{"x":723,"y":249},{"x":662,"y":225},{"x":608,"y":221},{"x":566,"y":211},{"x":543,"y":162},{"x":517,"y":108},{"x":525,"y":64},{"x":534,"y":63},{"x":479,"y":73},{"x":414,"y":48},{"x":349,"y":46},{"x":287,"y":35},{"x":291,"y":9},{"x":297,"y":86},{"x":251,"y":148},{"x":184,"y":139},{"x":140,"y":178},{"x":120,"y":264},{"x":216,"y":256},{"x":229,"y":225},{"x":279,"y":274},{"x":306,"y":334},{"x":355,"y":294},{"x":350,"y":267},{"x":346,"y":257},{"x":408,"y":255},{"x":389,"y":316},{"x":374,"y":330},{"x":365,"y":384},{"x":390,"y":403},{"x":370,"y":477},{"x":308,"y":441},{"x":249,"y":365},{"x":133,"y":400},{"x":71,"y":402},{"x":97,"y":468},{"x":117,"y":527},{"x":95,"y":568},{"x":209,"y":543},{"x":179,"y":469},{"x":0,"y":491},{"x":396,"y":586},{"x":461,"y":534},{"x":481,"y":450},{"x":545,"y":481},{"x":560,"y":432},{"x":547,"y":409},{"x":607,"y":409},{"x":621,"y":393},{"x":642,"y":414},{"x":654,"y":404},{"x":663,"y":359},{"x":690,"y":315},{"x":650,"y":298},{"x":611,"y":308},{"x":602,"y":293},{"x":600,"y":283},{"x":585,"y":299},{"x":602,"y":348},{"x":486,"y":286},{"x":509,"y":224},{"x":432,"y":170},{"x":419,"y":157},{"x":394,"y":147},{"x":201,"y":25},{"x":147,"y":51},{"x":88,"y":26},{"x":3,"y":66},{"x":634,"y":14},{"x":763,"y":5},{"x":552,"y":540},{"x":664,"y":524}]},{"name":"e0a8b4f5-34ef-419b-8df4-c4d672e7c48b","values":[{"x":664,"y":524},{"x":665,"y":501},{"x":638,"y":504},{"x":627,"y":545},{"x":647,"y":555},{"x":632,"y":575},{"x":669,"y":575},{"x":689,"y":558},{"x":679,"y":543},{"x":751,"y":540},{"x":760,"y":571},{"x":790,"y":519},{"x":773,"y":486},{"x":749,"y":455},{"x":815,"y":435},{"x":830,"y":421},{"x":881,"y":421},{"x":881,"y":480},{"x":891,"y":489},{"x":886,"y":515},{"x":840,"y":554},{"x":795,"y":330},{"x":818,"y":288},{"x":844,"y":227},{"x":838,"y":200},{"x":876,"y":154},{"x":810,"y":115},{"x":708,"y":172},{"x":726,"y":203},{"x":723,"y":249},{"x":662,"y":225},{"x":608,"y":221},{"x":566,"y":211},{"x":543,"y":162},{"x":517,"y":108},{"x":525,"y":64},{"x":534,"y":63},{"x":479,"y":73},{"x":414,"y":48},{"x":349,"y":46},{"x":287,"y":35},{"x":291,"y":9},{"x":297,"y":86},{"x":251,"y":148},{"x":184,"y":139},{"x":140,"y":178},{"x":120,"y":264},{"x":216,"y":256},{"x":229,"y":225},{"x":279,"y":274},{"x":306,"y":334},{"x":355,"y":294},{"x":350,"y":267},{"x":346,"y":257},{"x":408,"y":255},{"x":389,"y":316},{"x":374,"y":330},{"x":365,"y":384},{"x":390,"y":403},{"x":370,"y":477},{"x":308,"y":441},{"x":249,"y":365},{"x":133,"y":400},{"x":71,"y":402},{"x":97,"y":468},{"x":117,"y":527},{"x":95,"y":568},{"x":209,"y":543},{"x":179,"y":469},{"x":0,"y":491},{"x":396,"y":586},{"x":461,"y":534},{"x":481,"y":450},{"x":545,"y":481},{"x":560,"y":432},{"x":547,"y":409},{"x":607,"y":409},{"x":621,"y":393},{"x":642,"y":414},{"x":654,"y":404},{"x":663,"y":359},{"x":690,"y":315},{"x":650,"y":298},{"x":611,"y":308},{"x":602,"y":293},{"x":600,"y":283},{"x":585,"y":299},{"x":602,"y":348},{"x":486,"y":286},{"x":509,"y":224},{"x":432,"y":170},{"x":419,"y":157},{"x":394,"y":147},{"x":201,"y":25},{"x":147,"y":51},{"x":88,"y":26},{"x":3,"y":66},{"x":634,"y":14},{"x":763,"y":5},{"x":552,"y":540},{"x":664,"y":524}]},{"name":"169c6a59-54f4-4c21-bce1-6f4f8de686cb","values":[{"x":664,"y":524}]}],"marks":[{"type":"symbol","from":{"data":"e348e1d2-c084-4d8e-95a5-864205aac865"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"fill":{"value":"steelblue"},"fillOpacity":{"value":1}},"update":{"shape":"circle","size":{"value":70},"stroke":{"value":"transparent"}},"hover":{"size":{"value":210},"stroke":{"value":"white"}}}},{"type":"line","from":{"data":"e0a8b4f5-34ef-419b-8df4-c4d672e7c48b"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"stroke":{"value":"#FF29D2"},"strokeWidth":{"value":2},"strokeOpacity":{"value":1}}}},{"type":"symbol","from":{"data":"169c6a59-54f4-4c21-bce1-6f4f8de686cb"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"fill":{"value":"#FF0000"},"fillOpacity":{"value":1}},"update":{"shape":"circle","size":{"value":70},"stroke":{"value":"transparent"}},"hover":{"size":{"value":210},"stroke":{"value":"white"}}}}]},"value":"#gorilla_repl.vega.VegaView{:content {:width 400, :height 247.2188, :padding {:top 10, :left 55, :bottom 40, :right 10}, :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"e348e1d2-c084-4d8e-95a5-864205aac865\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"e348e1d2-c084-4d8e-95a5-864205aac865\", :field \"data.y\"}}], :axes [{:type \"x\", :scale \"x\"} {:type \"y\", :scale \"y\"}], :data ({:name \"e348e1d2-c084-4d8e-95a5-864205aac865\", :values ({:x 664, :y 524} {:x 665, :y 501} {:x 638, :y 504} {:x 627, :y 545} {:x 647, :y 555} {:x 632, :y 575} {:x 669, :y 575} {:x 689, :y 558} {:x 679, :y 543} {:x 751, :y 540} {:x 760, :y 571} {:x 790, :y 519} {:x 773, :y 486} {:x 749, :y 455} {:x 815, :y 435} {:x 830, :y 421} {:x 881, :y 421} {:x 881, :y 480} {:x 891, :y 489} {:x 886, :y 515} {:x 840, :y 554} {:x 795, :y 330} {:x 818, :y 288} {:x 844, :y 227} {:x 838, :y 200} {:x 876, :y 154} {:x 810, :y 115} {:x 708, :y 172} {:x 726, :y 203} {:x 723, :y 249} {:x 662, :y 225} {:x 608, :y 221} {:x 566, :y 211} {:x 543, :y 162} {:x 517, :y 108} {:x 525, :y 64} {:x 534, :y 63} {:x 479, :y 73} {:x 414, :y 48} {:x 349, :y 46} {:x 287, :y 35} {:x 291, :y 9} {:x 297, :y 86} {:x 251, :y 148} {:x 184, :y 139} {:x 140, :y 178} {:x 120, :y 264} {:x 216, :y 256} {:x 229, :y 225} {:x 279, :y 274} {:x 306, :y 334} {:x 355, :y 294} {:x 350, :y 267} {:x 346, :y 257} {:x 408, :y 255} {:x 389, :y 316} {:x 374, :y 330} {:x 365, :y 384} {:x 390, :y 403} {:x 370, :y 477} {:x 308, :y 441} {:x 249, :y 365} {:x 133, :y 400} {:x 71, :y 402} {:x 97, :y 468} {:x 117, :y 527} {:x 95, :y 568} {:x 209, :y 543} {:x 179, :y 469} {:x 0, :y 491} {:x 396, :y 586} {:x 461, :y 534} {:x 481, :y 450} {:x 545, :y 481} {:x 560, :y 432} {:x 547, :y 409} {:x 607, :y 409} {:x 621, :y 393} {:x 642, :y 414} {:x 654, :y 404} {:x 663, :y 359} {:x 690, :y 315} {:x 650, :y 298} {:x 611, :y 308} {:x 602, :y 293} {:x 600, :y 283} {:x 585, :y 299} {:x 602, :y 348} {:x 486, :y 286} {:x 509, :y 224} {:x 432, :y 170} {:x 419, :y 157} {:x 394, :y 147} {:x 201, :y 25} {:x 147, :y 51} {:x 88, :y 26} {:x 3, :y 66} {:x 634, :y 14} {:x 763, :y 5} {:x 552, :y 540} {:x 664, :y 524})} {:name \"e0a8b4f5-34ef-419b-8df4-c4d672e7c48b\", :values ({:x 664, :y 524} {:x 665, :y 501} {:x 638, :y 504} {:x 627, :y 545} {:x 647, :y 555} {:x 632, :y 575} {:x 669, :y 575} {:x 689, :y 558} {:x 679, :y 543} {:x 751, :y 540} {:x 760, :y 571} {:x 790, :y 519} {:x 773, :y 486} {:x 749, :y 455} {:x 815, :y 435} {:x 830, :y 421} {:x 881, :y 421} {:x 881, :y 480} {:x 891, :y 489} {:x 886, :y 515} {:x 840, :y 554} {:x 795, :y 330} {:x 818, :y 288} {:x 844, :y 227} {:x 838, :y 200} {:x 876, :y 154} {:x 810, :y 115} {:x 708, :y 172} {:x 726, :y 203} {:x 723, :y 249} {:x 662, :y 225} {:x 608, :y 221} {:x 566, :y 211} {:x 543, :y 162} {:x 517, :y 108} {:x 525, :y 64} {:x 534, :y 63} {:x 479, :y 73} {:x 414, :y 48} {:x 349, :y 46} {:x 287, :y 35} {:x 291, :y 9} {:x 297, :y 86} {:x 251, :y 148} {:x 184, :y 139} {:x 140, :y 178} {:x 120, :y 264} {:x 216, :y 256} {:x 229, :y 225} {:x 279, :y 274} {:x 306, :y 334} {:x 355, :y 294} {:x 350, :y 267} {:x 346, :y 257} {:x 408, :y 255} {:x 389, :y 316} {:x 374, :y 330} {:x 365, :y 384} {:x 390, :y 403} {:x 370, :y 477} {:x 308, :y 441} {:x 249, :y 365} {:x 133, :y 400} {:x 71, :y 402} {:x 97, :y 468} {:x 117, :y 527} {:x 95, :y 568} {:x 209, :y 543} {:x 179, :y 469} {:x 0, :y 491} {:x 396, :y 586} {:x 461, :y 534} {:x 481, :y 450} {:x 545, :y 481} {:x 560, :y 432} {:x 547, :y 409} {:x 607, :y 409} {:x 621, :y 393} {:x 642, :y 414} {:x 654, :y 404} {:x 663, :y 359} {:x 690, :y 315} {:x 650, :y 298} {:x 611, :y 308} {:x 602, :y 293} {:x 600, :y 283} {:x 585, :y 299} {:x 602, :y 348} {:x 486, :y 286} {:x 509, :y 224} {:x 432, :y 170} {:x 419, :y 157} {:x 394, :y 147} {:x 201, :y 25} {:x 147, :y 51} {:x 88, :y 26} {:x 3, :y 66} {:x 634, :y 14} {:x 763, :y 5} {:x 552, :y 540} {:x 664, :y 524})} {:name \"169c6a59-54f4-4c21-bce1-6f4f8de686cb\", :values ({:x 664, :y 524})}), :marks ({:type \"symbol\", :from {:data \"e348e1d2-c084-4d8e-95a5-864205aac865\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"steelblue\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}} {:type \"line\", :from {:data \"e0a8b4f5-34ef-419b-8df4-c4d672e7c48b\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :stroke {:value \"#FF29D2\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}} {:type \"symbol\", :from {:data \"169c6a59-54f4-4c21-bce1-6f4f8de686cb\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"#FF0000\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}})}}"}],"value":"[\"100 cities\" \"distance: 7399.980215466095\" #gorilla_repl.vega.VegaView{:content {:width 400, :height 247.2188, :padding {:top 10, :left 55, :bottom 40, :right 10}, :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"e348e1d2-c084-4d8e-95a5-864205aac865\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"e348e1d2-c084-4d8e-95a5-864205aac865\", :field \"data.y\"}}], :axes [{:type \"x\", :scale \"x\"} {:type \"y\", :scale \"y\"}], :data ({:name \"e348e1d2-c084-4d8e-95a5-864205aac865\", :values ({:x 664, :y 524} {:x 665, :y 501} {:x 638, :y 504} {:x 627, :y 545} {:x 647, :y 555} {:x 632, :y 575} {:x 669, :y 575} {:x 689, :y 558} {:x 679, :y 543} {:x 751, :y 540} {:x 760, :y 571} {:x 790, :y 519} {:x 773, :y 486} {:x 749, :y 455} {:x 815, :y 435} {:x 830, :y 421} {:x 881, :y 421} {:x 881, :y 480} {:x 891, :y 489} {:x 886, :y 515} {:x 840, :y 554} {:x 795, :y 330} {:x 818, :y 288} {:x 844, :y 227} {:x 838, :y 200} {:x 876, :y 154} {:x 810, :y 115} {:x 708, :y 172} {:x 726, :y 203} {:x 723, :y 249} {:x 662, :y 225} {:x 608, :y 221} {:x 566, :y 211} {:x 543, :y 162} {:x 517, :y 108} {:x 525, :y 64} {:x 534, :y 63} {:x 479, :y 73} {:x 414, :y 48} {:x 349, :y 46} {:x 287, :y 35} {:x 291, :y 9} {:x 297, :y 86} {:x 251, :y 148} {:x 184, :y 139} {:x 140, :y 178} {:x 120, :y 264} {:x 216, :y 256} {:x 229, :y 225} {:x 279, :y 274} {:x 306, :y 334} {:x 355, :y 294} {:x 350, :y 267} {:x 346, :y 257} {:x 408, :y 255} {:x 389, :y 316} {:x 374, :y 330} {:x 365, :y 384} {:x 390, :y 403} {:x 370, :y 477} {:x 308, :y 441} {:x 249, :y 365} {:x 133, :y 400} {:x 71, :y 402} {:x 97, :y 468} {:x 117, :y 527} {:x 95, :y 568} {:x 209, :y 543} {:x 179, :y 469} {:x 0, :y 491} {:x 396, :y 586} {:x 461, :y 534} {:x 481, :y 450} {:x 545, :y 481} {:x 560, :y 432} {:x 547, :y 409} {:x 607, :y 409} {:x 621, :y 393} {:x 642, :y 414} {:x 654, :y 404} {:x 663, :y 359} {:x 690, :y 315} {:x 650, :y 298} {:x 611, :y 308} {:x 602, :y 293} {:x 600, :y 283} {:x 585, :y 299} {:x 602, :y 348} {:x 486, :y 286} {:x 509, :y 224} {:x 432, :y 170} {:x 419, :y 157} {:x 394, :y 147} {:x 201, :y 25} {:x 147, :y 51} {:x 88, :y 26} {:x 3, :y 66} {:x 634, :y 14} {:x 763, :y 5} {:x 552, :y 540} {:x 664, :y 524})} {:name \"e0a8b4f5-34ef-419b-8df4-c4d672e7c48b\", :values ({:x 664, :y 524} {:x 665, :y 501} {:x 638, :y 504} {:x 627, :y 545} {:x 647, :y 555} {:x 632, :y 575} {:x 669, :y 575} {:x 689, :y 558} {:x 679, :y 543} {:x 751, :y 540} {:x 760, :y 571} {:x 790, :y 519} {:x 773, :y 486} {:x 749, :y 455} {:x 815, :y 435} {:x 830, :y 421} {:x 881, :y 421} {:x 881, :y 480} {:x 891, :y 489} {:x 886, :y 515} {:x 840, :y 554} {:x 795, :y 330} {:x 818, :y 288} {:x 844, :y 227} {:x 838, :y 200} {:x 876, :y 154} {:x 810, :y 115} {:x 708, :y 172} {:x 726, :y 203} {:x 723, :y 249} {:x 662, :y 225} {:x 608, :y 221} {:x 566, :y 211} {:x 543, :y 162} {:x 517, :y 108} {:x 525, :y 64} {:x 534, :y 63} {:x 479, :y 73} {:x 414, :y 48} {:x 349, :y 46} {:x 287, :y 35} {:x 291, :y 9} {:x 297, :y 86} {:x 251, :y 148} {:x 184, :y 139} {:x 140, :y 178} {:x 120, :y 264} {:x 216, :y 256} {:x 229, :y 225} {:x 279, :y 274} {:x 306, :y 334} {:x 355, :y 294} {:x 350, :y 267} {:x 346, :y 257} {:x 408, :y 255} {:x 389, :y 316} {:x 374, :y 330} {:x 365, :y 384} {:x 390, :y 403} {:x 370, :y 477} {:x 308, :y 441} {:x 249, :y 365} {:x 133, :y 400} {:x 71, :y 402} {:x 97, :y 468} {:x 117, :y 527} {:x 95, :y 568} {:x 209, :y 543} {:x 179, :y 469} {:x 0, :y 491} {:x 396, :y 586} {:x 461, :y 534} {:x 481, :y 450} {:x 545, :y 481} {:x 560, :y 432} {:x 547, :y 409} {:x 607, :y 409} {:x 621, :y 393} {:x 642, :y 414} {:x 654, :y 404} {:x 663, :y 359} {:x 690, :y 315} {:x 650, :y 298} {:x 611, :y 308} {:x 602, :y 293} {:x 600, :y 283} {:x 585, :y 299} {:x 602, :y 348} {:x 486, :y 286} {:x 509, :y 224} {:x 432, :y 170} {:x 419, :y 157} {:x 394, :y 147} {:x 201, :y 25} {:x 147, :y 51} {:x 88, :y 26} {:x 3, :y 66} {:x 634, :y 14} {:x 763, :y 5} {:x 552, :y 540} {:x 664, :y 524})} {:name \"169c6a59-54f4-4c21-bce1-6f4f8de686cb\", :values ({:x 664, :y 524})}), :marks ({:type \"symbol\", :from {:data \"e348e1d2-c084-4d8e-95a5-864205aac865\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"steelblue\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}} {:type \"line\", :from {:data \"e0a8b4f5-34ef-419b-8df4-c4d672e7c48b\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :stroke {:value \"#FF29D2\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}} {:type \"symbol\", :from {:data \"169c6a59-54f4-4c21-bce1-6f4f8de686cb\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"#FF0000\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}})}}]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-string'>&quot;100 cities&quot;</span>","value":"\"100 cities\""},{"type":"html","content":"<span class='clj-string'>&quot;distance: 6326.897364741098&quot;</span>","value":"\"distance: 6326.897364741098\""},{"type":"vega","content":{"width":400,"height":247.2187957763672,"padding":{"top":10,"left":55,"bottom":40,"right":10},"scales":[{"name":"x","type":"linear","range":"width","zero":false,"domain":{"data":"399534cf-4283-4243-9100-a0f4e6492599","field":"data.x"}},{"name":"y","type":"linear","range":"height","nice":true,"zero":false,"domain":{"data":"399534cf-4283-4243-9100-a0f4e6492599","field":"data.y"}}],"axes":[{"type":"x","scale":"x"},{"type":"y","scale":"y"}],"data":[{"name":"399534cf-4283-4243-9100-a0f4e6492599","values":[{"x":184,"y":139},{"x":251,"y":148},{"x":297,"y":86},{"x":287,"y":35},{"x":291,"y":9},{"x":349,"y":46},{"x":414,"y":48},{"x":479,"y":73},{"x":525,"y":64},{"x":534,"y":63},{"x":517,"y":108},{"x":543,"y":162},{"x":566,"y":211},{"x":608,"y":221},{"x":662,"y":225},{"x":723,"y":249},{"x":726,"y":203},{"x":708,"y":172},{"x":634,"y":14},{"x":763,"y":5},{"x":810,"y":115},{"x":876,"y":154},{"x":838,"y":200},{"x":844,"y":227},{"x":818,"y":288},{"x":795,"y":330},{"x":881,"y":421},{"x":830,"y":421},{"x":815,"y":435},{"x":749,"y":455},{"x":773,"y":486},{"x":790,"y":519},{"x":881,"y":480},{"x":891,"y":489},{"x":886,"y":515},{"x":840,"y":554},{"x":760,"y":571},{"x":751,"y":540},{"x":689,"y":558},{"x":679,"y":543},{"x":669,"y":575},{"x":632,"y":575},{"x":647,"y":555},{"x":627,"y":545},{"x":552,"y":540},{"x":638,"y":504},{"x":664,"y":524},{"x":665,"y":501},{"x":654,"y":404},{"x":642,"y":414},{"x":607,"y":409},{"x":621,"y":393},{"x":663,"y":359},{"x":690,"y":315},{"x":650,"y":298},{"x":611,"y":308},{"x":602,"y":293},{"x":600,"y":283},{"x":585,"y":299},{"x":509,"y":224},{"x":432,"y":170},{"x":419,"y":157},{"x":394,"y":147},{"x":408,"y":255},{"x":486,"y":286},{"x":602,"y":348},{"x":547,"y":409},{"x":560,"y":432},{"x":545,"y":481},{"x":481,"y":450},{"x":461,"y":534},{"x":396,"y":586},{"x":209,"y":543},{"x":117,"y":527},{"x":95,"y":568},{"x":0,"y":491},{"x":97,"y":468},{"x":71,"y":402},{"x":133,"y":400},{"x":179,"y":469},{"x":249,"y":365},{"x":308,"y":441},{"x":370,"y":477},{"x":390,"y":403},{"x":365,"y":384},{"x":374,"y":330},{"x":389,"y":316},{"x":355,"y":294},{"x":350,"y":267},{"x":346,"y":257},{"x":306,"y":334},{"x":279,"y":274},{"x":229,"y":225},{"x":216,"y":256},{"x":120,"y":264},{"x":140,"y":178},{"x":3,"y":66},{"x":88,"y":26},{"x":147,"y":51},{"x":201,"y":25},{"x":184,"y":139}]},{"name":"6ade6130-fe09-4699-a022-21d98905615e","values":[{"x":184,"y":139},{"x":251,"y":148},{"x":297,"y":86},{"x":287,"y":35},{"x":291,"y":9},{"x":349,"y":46},{"x":414,"y":48},{"x":479,"y":73},{"x":525,"y":64},{"x":534,"y":63},{"x":517,"y":108},{"x":543,"y":162},{"x":566,"y":211},{"x":608,"y":221},{"x":662,"y":225},{"x":723,"y":249},{"x":726,"y":203},{"x":708,"y":172},{"x":634,"y":14},{"x":763,"y":5},{"x":810,"y":115},{"x":876,"y":154},{"x":838,"y":200},{"x":844,"y":227},{"x":818,"y":288},{"x":795,"y":330},{"x":881,"y":421},{"x":830,"y":421},{"x":815,"y":435},{"x":749,"y":455},{"x":773,"y":486},{"x":790,"y":519},{"x":881,"y":480},{"x":891,"y":489},{"x":886,"y":515},{"x":840,"y":554},{"x":760,"y":571},{"x":751,"y":540},{"x":689,"y":558},{"x":679,"y":543},{"x":669,"y":575},{"x":632,"y":575},{"x":647,"y":555},{"x":627,"y":545},{"x":552,"y":540},{"x":638,"y":504},{"x":664,"y":524},{"x":665,"y":501},{"x":654,"y":404},{"x":642,"y":414},{"x":607,"y":409},{"x":621,"y":393},{"x":663,"y":359},{"x":690,"y":315},{"x":650,"y":298},{"x":611,"y":308},{"x":602,"y":293},{"x":600,"y":283},{"x":585,"y":299},{"x":509,"y":224},{"x":432,"y":170},{"x":419,"y":157},{"x":394,"y":147},{"x":408,"y":255},{"x":486,"y":286},{"x":602,"y":348},{"x":547,"y":409},{"x":560,"y":432},{"x":545,"y":481},{"x":481,"y":450},{"x":461,"y":534},{"x":396,"y":586},{"x":209,"y":543},{"x":117,"y":527},{"x":95,"y":568},{"x":0,"y":491},{"x":97,"y":468},{"x":71,"y":402},{"x":133,"y":400},{"x":179,"y":469},{"x":249,"y":365},{"x":308,"y":441},{"x":370,"y":477},{"x":390,"y":403},{"x":365,"y":384},{"x":374,"y":330},{"x":389,"y":316},{"x":355,"y":294},{"x":350,"y":267},{"x":346,"y":257},{"x":306,"y":334},{"x":279,"y":274},{"x":229,"y":225},{"x":216,"y":256},{"x":120,"y":264},{"x":140,"y":178},{"x":3,"y":66},{"x":88,"y":26},{"x":147,"y":51},{"x":201,"y":25},{"x":184,"y":139}]},{"name":"6c5ebef4-43f1-4319-bcf6-6cee786bb082","values":[{"x":184,"y":139}]}],"marks":[{"type":"symbol","from":{"data":"399534cf-4283-4243-9100-a0f4e6492599"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"fill":{"value":"steelblue"},"fillOpacity":{"value":1}},"update":{"shape":"circle","size":{"value":70},"stroke":{"value":"transparent"}},"hover":{"size":{"value":210},"stroke":{"value":"white"}}}},{"type":"line","from":{"data":"6ade6130-fe09-4699-a022-21d98905615e"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"stroke":{"value":"#FF29D2"},"strokeWidth":{"value":2},"strokeOpacity":{"value":1}}}},{"type":"symbol","from":{"data":"6c5ebef4-43f1-4319-bcf6-6cee786bb082"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"fill":{"value":"#FF0000"},"fillOpacity":{"value":1}},"update":{"shape":"circle","size":{"value":70},"stroke":{"value":"transparent"}},"hover":{"size":{"value":210},"stroke":{"value":"white"}}}}]},"value":"#gorilla_repl.vega.VegaView{:content {:width 400, :height 247.2188, :padding {:top 10, :left 55, :bottom 40, :right 10}, :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"399534cf-4283-4243-9100-a0f4e6492599\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"399534cf-4283-4243-9100-a0f4e6492599\", :field \"data.y\"}}], :axes [{:type \"x\", :scale \"x\"} {:type \"y\", :scale \"y\"}], :data ({:name \"399534cf-4283-4243-9100-a0f4e6492599\", :values ({:x 184, :y 139} {:x 251, :y 148} {:x 297, :y 86} {:x 287, :y 35} {:x 291, :y 9} {:x 349, :y 46} {:x 414, :y 48} {:x 479, :y 73} {:x 525, :y 64} {:x 534, :y 63} {:x 517, :y 108} {:x 543, :y 162} {:x 566, :y 211} {:x 608, :y 221} {:x 662, :y 225} {:x 723, :y 249} {:x 726, :y 203} {:x 708, :y 172} {:x 634, :y 14} {:x 763, :y 5} {:x 810, :y 115} {:x 876, :y 154} {:x 838, :y 200} {:x 844, :y 227} {:x 818, :y 288} {:x 795, :y 330} {:x 881, :y 421} {:x 830, :y 421} {:x 815, :y 435} {:x 749, :y 455} {:x 773, :y 486} {:x 790, :y 519} {:x 881, :y 480} {:x 891, :y 489} {:x 886, :y 515} {:x 840, :y 554} {:x 760, :y 571} {:x 751, :y 540} {:x 689, :y 558} {:x 679, :y 543} {:x 669, :y 575} {:x 632, :y 575} {:x 647, :y 555} {:x 627, :y 545} {:x 552, :y 540} {:x 638, :y 504} {:x 664, :y 524} {:x 665, :y 501} {:x 654, :y 404} {:x 642, :y 414} {:x 607, :y 409} {:x 621, :y 393} {:x 663, :y 359} {:x 690, :y 315} {:x 650, :y 298} {:x 611, :y 308} {:x 602, :y 293} {:x 600, :y 283} {:x 585, :y 299} {:x 509, :y 224} {:x 432, :y 170} {:x 419, :y 157} {:x 394, :y 147} {:x 408, :y 255} {:x 486, :y 286} {:x 602, :y 348} {:x 547, :y 409} {:x 560, :y 432} {:x 545, :y 481} {:x 481, :y 450} {:x 461, :y 534} {:x 396, :y 586} {:x 209, :y 543} {:x 117, :y 527} {:x 95, :y 568} {:x 0, :y 491} {:x 97, :y 468} {:x 71, :y 402} {:x 133, :y 400} {:x 179, :y 469} {:x 249, :y 365} {:x 308, :y 441} {:x 370, :y 477} {:x 390, :y 403} {:x 365, :y 384} {:x 374, :y 330} {:x 389, :y 316} {:x 355, :y 294} {:x 350, :y 267} {:x 346, :y 257} {:x 306, :y 334} {:x 279, :y 274} {:x 229, :y 225} {:x 216, :y 256} {:x 120, :y 264} {:x 140, :y 178} {:x 3, :y 66} {:x 88, :y 26} {:x 147, :y 51} {:x 201, :y 25} {:x 184, :y 139})} {:name \"6ade6130-fe09-4699-a022-21d98905615e\", :values ({:x 184, :y 139} {:x 251, :y 148} {:x 297, :y 86} {:x 287, :y 35} {:x 291, :y 9} {:x 349, :y 46} {:x 414, :y 48} {:x 479, :y 73} {:x 525, :y 64} {:x 534, :y 63} {:x 517, :y 108} {:x 543, :y 162} {:x 566, :y 211} {:x 608, :y 221} {:x 662, :y 225} {:x 723, :y 249} {:x 726, :y 203} {:x 708, :y 172} {:x 634, :y 14} {:x 763, :y 5} {:x 810, :y 115} {:x 876, :y 154} {:x 838, :y 200} {:x 844, :y 227} {:x 818, :y 288} {:x 795, :y 330} {:x 881, :y 421} {:x 830, :y 421} {:x 815, :y 435} {:x 749, :y 455} {:x 773, :y 486} {:x 790, :y 519} {:x 881, :y 480} {:x 891, :y 489} {:x 886, :y 515} {:x 840, :y 554} {:x 760, :y 571} {:x 751, :y 540} {:x 689, :y 558} {:x 679, :y 543} {:x 669, :y 575} {:x 632, :y 575} {:x 647, :y 555} {:x 627, :y 545} {:x 552, :y 540} {:x 638, :y 504} {:x 664, :y 524} {:x 665, :y 501} {:x 654, :y 404} {:x 642, :y 414} {:x 607, :y 409} {:x 621, :y 393} {:x 663, :y 359} {:x 690, :y 315} {:x 650, :y 298} {:x 611, :y 308} {:x 602, :y 293} {:x 600, :y 283} {:x 585, :y 299} {:x 509, :y 224} {:x 432, :y 170} {:x 419, :y 157} {:x 394, :y 147} {:x 408, :y 255} {:x 486, :y 286} {:x 602, :y 348} {:x 547, :y 409} {:x 560, :y 432} {:x 545, :y 481} {:x 481, :y 450} {:x 461, :y 534} {:x 396, :y 586} {:x 209, :y 543} {:x 117, :y 527} {:x 95, :y 568} {:x 0, :y 491} {:x 97, :y 468} {:x 71, :y 402} {:x 133, :y 400} {:x 179, :y 469} {:x 249, :y 365} {:x 308, :y 441} {:x 370, :y 477} {:x 390, :y 403} {:x 365, :y 384} {:x 374, :y 330} {:x 389, :y 316} {:x 355, :y 294} {:x 350, :y 267} {:x 346, :y 257} {:x 306, :y 334} {:x 279, :y 274} {:x 229, :y 225} {:x 216, :y 256} {:x 120, :y 264} {:x 140, :y 178} {:x 3, :y 66} {:x 88, :y 26} {:x 147, :y 51} {:x 201, :y 25} {:x 184, :y 139})} {:name \"6c5ebef4-43f1-4319-bcf6-6cee786bb082\", :values ({:x 184, :y 139})}), :marks ({:type \"symbol\", :from {:data \"399534cf-4283-4243-9100-a0f4e6492599\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"steelblue\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}} {:type \"line\", :from {:data \"6ade6130-fe09-4699-a022-21d98905615e\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :stroke {:value \"#FF29D2\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}} {:type \"symbol\", :from {:data \"6c5ebef4-43f1-4319-bcf6-6cee786bb082\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"#FF0000\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}})}}"}],"value":"[\"100 cities\" \"distance: 6326.897364741098\" #gorilla_repl.vega.VegaView{:content {:width 400, :height 247.2188, :padding {:top 10, :left 55, :bottom 40, :right 10}, :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"399534cf-4283-4243-9100-a0f4e6492599\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"399534cf-4283-4243-9100-a0f4e6492599\", :field \"data.y\"}}], :axes [{:type \"x\", :scale \"x\"} {:type \"y\", :scale \"y\"}], :data ({:name \"399534cf-4283-4243-9100-a0f4e6492599\", :values ({:x 184, :y 139} {:x 251, :y 148} {:x 297, :y 86} {:x 287, :y 35} {:x 291, :y 9} {:x 349, :y 46} {:x 414, :y 48} {:x 479, :y 73} {:x 525, :y 64} {:x 534, :y 63} {:x 517, :y 108} {:x 543, :y 162} {:x 566, :y 211} {:x 608, :y 221} {:x 662, :y 225} {:x 723, :y 249} {:x 726, :y 203} {:x 708, :y 172} {:x 634, :y 14} {:x 763, :y 5} {:x 810, :y 115} {:x 876, :y 154} {:x 838, :y 200} {:x 844, :y 227} {:x 818, :y 288} {:x 795, :y 330} {:x 881, :y 421} {:x 830, :y 421} {:x 815, :y 435} {:x 749, :y 455} {:x 773, :y 486} {:x 790, :y 519} {:x 881, :y 480} {:x 891, :y 489} {:x 886, :y 515} {:x 840, :y 554} {:x 760, :y 571} {:x 751, :y 540} {:x 689, :y 558} {:x 679, :y 543} {:x 669, :y 575} {:x 632, :y 575} {:x 647, :y 555} {:x 627, :y 545} {:x 552, :y 540} {:x 638, :y 504} {:x 664, :y 524} {:x 665, :y 501} {:x 654, :y 404} {:x 642, :y 414} {:x 607, :y 409} {:x 621, :y 393} {:x 663, :y 359} {:x 690, :y 315} {:x 650, :y 298} {:x 611, :y 308} {:x 602, :y 293} {:x 600, :y 283} {:x 585, :y 299} {:x 509, :y 224} {:x 432, :y 170} {:x 419, :y 157} {:x 394, :y 147} {:x 408, :y 255} {:x 486, :y 286} {:x 602, :y 348} {:x 547, :y 409} {:x 560, :y 432} {:x 545, :y 481} {:x 481, :y 450} {:x 461, :y 534} {:x 396, :y 586} {:x 209, :y 543} {:x 117, :y 527} {:x 95, :y 568} {:x 0, :y 491} {:x 97, :y 468} {:x 71, :y 402} {:x 133, :y 400} {:x 179, :y 469} {:x 249, :y 365} {:x 308, :y 441} {:x 370, :y 477} {:x 390, :y 403} {:x 365, :y 384} {:x 374, :y 330} {:x 389, :y 316} {:x 355, :y 294} {:x 350, :y 267} {:x 346, :y 257} {:x 306, :y 334} {:x 279, :y 274} {:x 229, :y 225} {:x 216, :y 256} {:x 120, :y 264} {:x 140, :y 178} {:x 3, :y 66} {:x 88, :y 26} {:x 147, :y 51} {:x 201, :y 25} {:x 184, :y 139})} {:name \"6ade6130-fe09-4699-a022-21d98905615e\", :values ({:x 184, :y 139} {:x 251, :y 148} {:x 297, :y 86} {:x 287, :y 35} {:x 291, :y 9} {:x 349, :y 46} {:x 414, :y 48} {:x 479, :y 73} {:x 525, :y 64} {:x 534, :y 63} {:x 517, :y 108} {:x 543, :y 162} {:x 566, :y 211} {:x 608, :y 221} {:x 662, :y 225} {:x 723, :y 249} {:x 726, :y 203} {:x 708, :y 172} {:x 634, :y 14} {:x 763, :y 5} {:x 810, :y 115} {:x 876, :y 154} {:x 838, :y 200} {:x 844, :y 227} {:x 818, :y 288} {:x 795, :y 330} {:x 881, :y 421} {:x 830, :y 421} {:x 815, :y 435} {:x 749, :y 455} {:x 773, :y 486} {:x 790, :y 519} {:x 881, :y 480} {:x 891, :y 489} {:x 886, :y 515} {:x 840, :y 554} {:x 760, :y 571} {:x 751, :y 540} {:x 689, :y 558} {:x 679, :y 543} {:x 669, :y 575} {:x 632, :y 575} {:x 647, :y 555} {:x 627, :y 545} {:x 552, :y 540} {:x 638, :y 504} {:x 664, :y 524} {:x 665, :y 501} {:x 654, :y 404} {:x 642, :y 414} {:x 607, :y 409} {:x 621, :y 393} {:x 663, :y 359} {:x 690, :y 315} {:x 650, :y 298} {:x 611, :y 308} {:x 602, :y 293} {:x 600, :y 283} {:x 585, :y 299} {:x 509, :y 224} {:x 432, :y 170} {:x 419, :y 157} {:x 394, :y 147} {:x 408, :y 255} {:x 486, :y 286} {:x 602, :y 348} {:x 547, :y 409} {:x 560, :y 432} {:x 545, :y 481} {:x 481, :y 450} {:x 461, :y 534} {:x 396, :y 586} {:x 209, :y 543} {:x 117, :y 527} {:x 95, :y 568} {:x 0, :y 491} {:x 97, :y 468} {:x 71, :y 402} {:x 133, :y 400} {:x 179, :y 469} {:x 249, :y 365} {:x 308, :y 441} {:x 370, :y 477} {:x 390, :y 403} {:x 365, :y 384} {:x 374, :y 330} {:x 389, :y 316} {:x 355, :y 294} {:x 350, :y 267} {:x 346, :y 257} {:x 306, :y 334} {:x 279, :y 274} {:x 229, :y 225} {:x 216, :y 256} {:x 120, :y 264} {:x 140, :y 178} {:x 3, :y 66} {:x 88, :y 26} {:x 147, :y 51} {:x 201, :y 25} {:x 184, :y 139})} {:name \"6c5ebef4-43f1-4319-bcf6-6cee786bb082\", :values ({:x 184, :y 139})}), :marks ({:type \"symbol\", :from {:data \"399534cf-4283-4243-9100-a0f4e6492599\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"steelblue\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}} {:type \"line\", :from {:data \"6ade6130-fe09-4699-a022-21d98905615e\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :stroke {:value \"#FF29D2\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}} {:type \"symbol\", :from {:data \"6c5ebef4-43f1-4319-bcf6-6cee786bb082\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"#FF0000\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}})}}]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-string'>&quot;100 cities&quot;</span>","value":"\"100 cities\""},{"type":"html","content":"<span class='clj-string'>&quot;distance: 7089.96310723484&quot;</span>","value":"\"distance: 7089.96310723484\""},{"type":"vega","content":{"width":400,"height":247.2187957763672,"padding":{"top":10,"left":55,"bottom":40,"right":10},"scales":[{"name":"x","type":"linear","range":"width","zero":false,"domain":{"data":"90914a29-0f57-4612-9319-d4da596749f7","field":"data.x"}},{"name":"y","type":"linear","range":"height","nice":true,"zero":false,"domain":{"data":"90914a29-0f57-4612-9319-d4da596749f7","field":"data.y"}}],"axes":[{"type":"x","scale":"x"},{"type":"y","scale":"y"}],"data":[{"name":"90914a29-0f57-4612-9319-d4da596749f7","values":[{"x":815,"y":435},{"x":830,"y":421},{"x":881,"y":421},{"x":881,"y":480},{"x":891,"y":489},{"x":886,"y":515},{"x":840,"y":554},{"x":790,"y":519},{"x":773,"y":486},{"x":749,"y":455},{"x":751,"y":540},{"x":760,"y":571},{"x":689,"y":558},{"x":679,"y":543},{"x":664,"y":524},{"x":665,"y":501},{"x":638,"y":504},{"x":627,"y":545},{"x":647,"y":555},{"x":632,"y":575},{"x":669,"y":575},{"x":552,"y":540},{"x":545,"y":481},{"x":560,"y":432},{"x":547,"y":409},{"x":607,"y":409},{"x":621,"y":393},{"x":642,"y":414},{"x":654,"y":404},{"x":663,"y":359},{"x":690,"y":315},{"x":650,"y":298},{"x":611,"y":308},{"x":602,"y":293},{"x":600,"y":283},{"x":585,"y":299},{"x":602,"y":348},{"x":608,"y":221},{"x":566,"y":211},{"x":543,"y":162},{"x":517,"y":108},{"x":525,"y":64},{"x":534,"y":63},{"x":479,"y":73},{"x":414,"y":48},{"x":349,"y":46},{"x":287,"y":35},{"x":291,"y":9},{"x":297,"y":86},{"x":251,"y":148},{"x":184,"y":139},{"x":140,"y":178},{"x":120,"y":264},{"x":216,"y":256},{"x":229,"y":225},{"x":279,"y":274},{"x":306,"y":334},{"x":355,"y":294},{"x":350,"y":267},{"x":346,"y":257},{"x":408,"y":255},{"x":389,"y":316},{"x":374,"y":330},{"x":365,"y":384},{"x":390,"y":403},{"x":370,"y":477},{"x":308,"y":441},{"x":249,"y":365},{"x":133,"y":400},{"x":71,"y":402},{"x":97,"y":468},{"x":117,"y":527},{"x":95,"y":568},{"x":209,"y":543},{"x":179,"y":469},{"x":0,"y":491},{"x":396,"y":586},{"x":461,"y":534},{"x":481,"y":450},{"x":486,"y":286},{"x":509,"y":224},{"x":432,"y":170},{"x":419,"y":157},{"x":394,"y":147},{"x":201,"y":25},{"x":147,"y":51},{"x":88,"y":26},{"x":3,"y":66},{"x":634,"y":14},{"x":763,"y":5},{"x":810,"y":115},{"x":876,"y":154},{"x":838,"y":200},{"x":844,"y":227},{"x":818,"y":288},{"x":795,"y":330},{"x":723,"y":249},{"x":726,"y":203},{"x":708,"y":172},{"x":662,"y":225},{"x":815,"y":435}]},{"name":"e68567a4-1ffe-4ed8-975e-12214540f1a1","values":[{"x":815,"y":435},{"x":830,"y":421},{"x":881,"y":421},{"x":881,"y":480},{"x":891,"y":489},{"x":886,"y":515},{"x":840,"y":554},{"x":790,"y":519},{"x":773,"y":486},{"x":749,"y":455},{"x":751,"y":540},{"x":760,"y":571},{"x":689,"y":558},{"x":679,"y":543},{"x":664,"y":524},{"x":665,"y":501},{"x":638,"y":504},{"x":627,"y":545},{"x":647,"y":555},{"x":632,"y":575},{"x":669,"y":575},{"x":552,"y":540},{"x":545,"y":481},{"x":560,"y":432},{"x":547,"y":409},{"x":607,"y":409},{"x":621,"y":393},{"x":642,"y":414},{"x":654,"y":404},{"x":663,"y":359},{"x":690,"y":315},{"x":650,"y":298},{"x":611,"y":308},{"x":602,"y":293},{"x":600,"y":283},{"x":585,"y":299},{"x":602,"y":348},{"x":608,"y":221},{"x":566,"y":211},{"x":543,"y":162},{"x":517,"y":108},{"x":525,"y":64},{"x":534,"y":63},{"x":479,"y":73},{"x":414,"y":48},{"x":349,"y":46},{"x":287,"y":35},{"x":291,"y":9},{"x":297,"y":86},{"x":251,"y":148},{"x":184,"y":139},{"x":140,"y":178},{"x":120,"y":264},{"x":216,"y":256},{"x":229,"y":225},{"x":279,"y":274},{"x":306,"y":334},{"x":355,"y":294},{"x":350,"y":267},{"x":346,"y":257},{"x":408,"y":255},{"x":389,"y":316},{"x":374,"y":330},{"x":365,"y":384},{"x":390,"y":403},{"x":370,"y":477},{"x":308,"y":441},{"x":249,"y":365},{"x":133,"y":400},{"x":71,"y":402},{"x":97,"y":468},{"x":117,"y":527},{"x":95,"y":568},{"x":209,"y":543},{"x":179,"y":469},{"x":0,"y":491},{"x":396,"y":586},{"x":461,"y":534},{"x":481,"y":450},{"x":486,"y":286},{"x":509,"y":224},{"x":432,"y":170},{"x":419,"y":157},{"x":394,"y":147},{"x":201,"y":25},{"x":147,"y":51},{"x":88,"y":26},{"x":3,"y":66},{"x":634,"y":14},{"x":763,"y":5},{"x":810,"y":115},{"x":876,"y":154},{"x":838,"y":200},{"x":844,"y":227},{"x":818,"y":288},{"x":795,"y":330},{"x":723,"y":249},{"x":726,"y":203},{"x":708,"y":172},{"x":662,"y":225},{"x":815,"y":435}]},{"name":"60e1f949-7fbd-4a02-8bca-e4acb5af5c6d","values":[{"x":815,"y":435}]}],"marks":[{"type":"symbol","from":{"data":"90914a29-0f57-4612-9319-d4da596749f7"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"fill":{"value":"steelblue"},"fillOpacity":{"value":1}},"update":{"shape":"circle","size":{"value":70},"stroke":{"value":"transparent"}},"hover":{"size":{"value":210},"stroke":{"value":"white"}}}},{"type":"line","from":{"data":"e68567a4-1ffe-4ed8-975e-12214540f1a1"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"stroke":{"value":"#FF29D2"},"strokeWidth":{"value":2},"strokeOpacity":{"value":1}}}},{"type":"symbol","from":{"data":"60e1f949-7fbd-4a02-8bca-e4acb5af5c6d"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"fill":{"value":"#FF0000"},"fillOpacity":{"value":1}},"update":{"shape":"circle","size":{"value":70},"stroke":{"value":"transparent"}},"hover":{"size":{"value":210},"stroke":{"value":"white"}}}}]},"value":"#gorilla_repl.vega.VegaView{:content {:width 400, :height 247.2188, :padding {:top 10, :left 55, :bottom 40, :right 10}, :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"90914a29-0f57-4612-9319-d4da596749f7\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"90914a29-0f57-4612-9319-d4da596749f7\", :field \"data.y\"}}], :axes [{:type \"x\", :scale \"x\"} {:type \"y\", :scale \"y\"}], :data ({:name \"90914a29-0f57-4612-9319-d4da596749f7\", :values ({:x 815, :y 435} {:x 830, :y 421} {:x 881, :y 421} {:x 881, :y 480} {:x 891, :y 489} {:x 886, :y 515} {:x 840, :y 554} {:x 790, :y 519} {:x 773, :y 486} {:x 749, :y 455} {:x 751, :y 540} {:x 760, :y 571} {:x 689, :y 558} {:x 679, :y 543} {:x 664, :y 524} {:x 665, :y 501} {:x 638, :y 504} {:x 627, :y 545} {:x 647, :y 555} {:x 632, :y 575} {:x 669, :y 575} {:x 552, :y 540} {:x 545, :y 481} {:x 560, :y 432} {:x 547, :y 409} {:x 607, :y 409} {:x 621, :y 393} {:x 642, :y 414} {:x 654, :y 404} {:x 663, :y 359} {:x 690, :y 315} {:x 650, :y 298} {:x 611, :y 308} {:x 602, :y 293} {:x 600, :y 283} {:x 585, :y 299} {:x 602, :y 348} {:x 608, :y 221} {:x 566, :y 211} {:x 543, :y 162} {:x 517, :y 108} {:x 525, :y 64} {:x 534, :y 63} {:x 479, :y 73} {:x 414, :y 48} {:x 349, :y 46} {:x 287, :y 35} {:x 291, :y 9} {:x 297, :y 86} {:x 251, :y 148} {:x 184, :y 139} {:x 140, :y 178} {:x 120, :y 264} {:x 216, :y 256} {:x 229, :y 225} {:x 279, :y 274} {:x 306, :y 334} {:x 355, :y 294} {:x 350, :y 267} {:x 346, :y 257} {:x 408, :y 255} {:x 389, :y 316} {:x 374, :y 330} {:x 365, :y 384} {:x 390, :y 403} {:x 370, :y 477} {:x 308, :y 441} {:x 249, :y 365} {:x 133, :y 400} {:x 71, :y 402} {:x 97, :y 468} {:x 117, :y 527} {:x 95, :y 568} {:x 209, :y 543} {:x 179, :y 469} {:x 0, :y 491} {:x 396, :y 586} {:x 461, :y 534} {:x 481, :y 450} {:x 486, :y 286} {:x 509, :y 224} {:x 432, :y 170} {:x 419, :y 157} {:x 394, :y 147} {:x 201, :y 25} {:x 147, :y 51} {:x 88, :y 26} {:x 3, :y 66} {:x 634, :y 14} {:x 763, :y 5} {:x 810, :y 115} {:x 876, :y 154} {:x 838, :y 200} {:x 844, :y 227} {:x 818, :y 288} {:x 795, :y 330} {:x 723, :y 249} {:x 726, :y 203} {:x 708, :y 172} {:x 662, :y 225} {:x 815, :y 435})} {:name \"e68567a4-1ffe-4ed8-975e-12214540f1a1\", :values ({:x 815, :y 435} {:x 830, :y 421} {:x 881, :y 421} {:x 881, :y 480} {:x 891, :y 489} {:x 886, :y 515} {:x 840, :y 554} {:x 790, :y 519} {:x 773, :y 486} {:x 749, :y 455} {:x 751, :y 540} {:x 760, :y 571} {:x 689, :y 558} {:x 679, :y 543} {:x 664, :y 524} {:x 665, :y 501} {:x 638, :y 504} {:x 627, :y 545} {:x 647, :y 555} {:x 632, :y 575} {:x 669, :y 575} {:x 552, :y 540} {:x 545, :y 481} {:x 560, :y 432} {:x 547, :y 409} {:x 607, :y 409} {:x 621, :y 393} {:x 642, :y 414} {:x 654, :y 404} {:x 663, :y 359} {:x 690, :y 315} {:x 650, :y 298} {:x 611, :y 308} {:x 602, :y 293} {:x 600, :y 283} {:x 585, :y 299} {:x 602, :y 348} {:x 608, :y 221} {:x 566, :y 211} {:x 543, :y 162} {:x 517, :y 108} {:x 525, :y 64} {:x 534, :y 63} {:x 479, :y 73} {:x 414, :y 48} {:x 349, :y 46} {:x 287, :y 35} {:x 291, :y 9} {:x 297, :y 86} {:x 251, :y 148} {:x 184, :y 139} {:x 140, :y 178} {:x 120, :y 264} {:x 216, :y 256} {:x 229, :y 225} {:x 279, :y 274} {:x 306, :y 334} {:x 355, :y 294} {:x 350, :y 267} {:x 346, :y 257} {:x 408, :y 255} {:x 389, :y 316} {:x 374, :y 330} {:x 365, :y 384} {:x 390, :y 403} {:x 370, :y 477} {:x 308, :y 441} {:x 249, :y 365} {:x 133, :y 400} {:x 71, :y 402} {:x 97, :y 468} {:x 117, :y 527} {:x 95, :y 568} {:x 209, :y 543} {:x 179, :y 469} {:x 0, :y 491} {:x 396, :y 586} {:x 461, :y 534} {:x 481, :y 450} {:x 486, :y 286} {:x 509, :y 224} {:x 432, :y 170} {:x 419, :y 157} {:x 394, :y 147} {:x 201, :y 25} {:x 147, :y 51} {:x 88, :y 26} {:x 3, :y 66} {:x 634, :y 14} {:x 763, :y 5} {:x 810, :y 115} {:x 876, :y 154} {:x 838, :y 200} {:x 844, :y 227} {:x 818, :y 288} {:x 795, :y 330} {:x 723, :y 249} {:x 726, :y 203} {:x 708, :y 172} {:x 662, :y 225} {:x 815, :y 435})} {:name \"60e1f949-7fbd-4a02-8bca-e4acb5af5c6d\", :values ({:x 815, :y 435})}), :marks ({:type \"symbol\", :from {:data \"90914a29-0f57-4612-9319-d4da596749f7\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"steelblue\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}} {:type \"line\", :from {:data \"e68567a4-1ffe-4ed8-975e-12214540f1a1\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :stroke {:value \"#FF29D2\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}} {:type \"symbol\", :from {:data \"60e1f949-7fbd-4a02-8bca-e4acb5af5c6d\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"#FF0000\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}})}}"}],"value":"[\"100 cities\" \"distance: 7089.96310723484\" #gorilla_repl.vega.VegaView{:content {:width 400, :height 247.2188, :padding {:top 10, :left 55, :bottom 40, :right 10}, :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"90914a29-0f57-4612-9319-d4da596749f7\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"90914a29-0f57-4612-9319-d4da596749f7\", :field \"data.y\"}}], :axes [{:type \"x\", :scale \"x\"} {:type \"y\", :scale \"y\"}], :data ({:name \"90914a29-0f57-4612-9319-d4da596749f7\", :values ({:x 815, :y 435} {:x 830, :y 421} {:x 881, :y 421} {:x 881, :y 480} {:x 891, :y 489} {:x 886, :y 515} {:x 840, :y 554} {:x 790, :y 519} {:x 773, :y 486} {:x 749, :y 455} {:x 751, :y 540} {:x 760, :y 571} {:x 689, :y 558} {:x 679, :y 543} {:x 664, :y 524} {:x 665, :y 501} {:x 638, :y 504} {:x 627, :y 545} {:x 647, :y 555} {:x 632, :y 575} {:x 669, :y 575} {:x 552, :y 540} {:x 545, :y 481} {:x 560, :y 432} {:x 547, :y 409} {:x 607, :y 409} {:x 621, :y 393} {:x 642, :y 414} {:x 654, :y 404} {:x 663, :y 359} {:x 690, :y 315} {:x 650, :y 298} {:x 611, :y 308} {:x 602, :y 293} {:x 600, :y 283} {:x 585, :y 299} {:x 602, :y 348} {:x 608, :y 221} {:x 566, :y 211} {:x 543, :y 162} {:x 517, :y 108} {:x 525, :y 64} {:x 534, :y 63} {:x 479, :y 73} {:x 414, :y 48} {:x 349, :y 46} {:x 287, :y 35} {:x 291, :y 9} {:x 297, :y 86} {:x 251, :y 148} {:x 184, :y 139} {:x 140, :y 178} {:x 120, :y 264} {:x 216, :y 256} {:x 229, :y 225} {:x 279, :y 274} {:x 306, :y 334} {:x 355, :y 294} {:x 350, :y 267} {:x 346, :y 257} {:x 408, :y 255} {:x 389, :y 316} {:x 374, :y 330} {:x 365, :y 384} {:x 390, :y 403} {:x 370, :y 477} {:x 308, :y 441} {:x 249, :y 365} {:x 133, :y 400} {:x 71, :y 402} {:x 97, :y 468} {:x 117, :y 527} {:x 95, :y 568} {:x 209, :y 543} {:x 179, :y 469} {:x 0, :y 491} {:x 396, :y 586} {:x 461, :y 534} {:x 481, :y 450} {:x 486, :y 286} {:x 509, :y 224} {:x 432, :y 170} {:x 419, :y 157} {:x 394, :y 147} {:x 201, :y 25} {:x 147, :y 51} {:x 88, :y 26} {:x 3, :y 66} {:x 634, :y 14} {:x 763, :y 5} {:x 810, :y 115} {:x 876, :y 154} {:x 838, :y 200} {:x 844, :y 227} {:x 818, :y 288} {:x 795, :y 330} {:x 723, :y 249} {:x 726, :y 203} {:x 708, :y 172} {:x 662, :y 225} {:x 815, :y 435})} {:name \"e68567a4-1ffe-4ed8-975e-12214540f1a1\", :values ({:x 815, :y 435} {:x 830, :y 421} {:x 881, :y 421} {:x 881, :y 480} {:x 891, :y 489} {:x 886, :y 515} {:x 840, :y 554} {:x 790, :y 519} {:x 773, :y 486} {:x 749, :y 455} {:x 751, :y 540} {:x 760, :y 571} {:x 689, :y 558} {:x 679, :y 543} {:x 664, :y 524} {:x 665, :y 501} {:x 638, :y 504} {:x 627, :y 545} {:x 647, :y 555} {:x 632, :y 575} {:x 669, :y 575} {:x 552, :y 540} {:x 545, :y 481} {:x 560, :y 432} {:x 547, :y 409} {:x 607, :y 409} {:x 621, :y 393} {:x 642, :y 414} {:x 654, :y 404} {:x 663, :y 359} {:x 690, :y 315} {:x 650, :y 298} {:x 611, :y 308} {:x 602, :y 293} {:x 600, :y 283} {:x 585, :y 299} {:x 602, :y 348} {:x 608, :y 221} {:x 566, :y 211} {:x 543, :y 162} {:x 517, :y 108} {:x 525, :y 64} {:x 534, :y 63} {:x 479, :y 73} {:x 414, :y 48} {:x 349, :y 46} {:x 287, :y 35} {:x 291, :y 9} {:x 297, :y 86} {:x 251, :y 148} {:x 184, :y 139} {:x 140, :y 178} {:x 120, :y 264} {:x 216, :y 256} {:x 229, :y 225} {:x 279, :y 274} {:x 306, :y 334} {:x 355, :y 294} {:x 350, :y 267} {:x 346, :y 257} {:x 408, :y 255} {:x 389, :y 316} {:x 374, :y 330} {:x 365, :y 384} {:x 390, :y 403} {:x 370, :y 477} {:x 308, :y 441} {:x 249, :y 365} {:x 133, :y 400} {:x 71, :y 402} {:x 97, :y 468} {:x 117, :y 527} {:x 95, :y 568} {:x 209, :y 543} {:x 179, :y 469} {:x 0, :y 491} {:x 396, :y 586} {:x 461, :y 534} {:x 481, :y 450} {:x 486, :y 286} {:x 509, :y 224} {:x 432, :y 170} {:x 419, :y 157} {:x 394, :y 147} {:x 201, :y 25} {:x 147, :y 51} {:x 88, :y 26} {:x 3, :y 66} {:x 634, :y 14} {:x 763, :y 5} {:x 810, :y 115} {:x 876, :y 154} {:x 838, :y 200} {:x 844, :y 227} {:x 818, :y 288} {:x 795, :y 330} {:x 723, :y 249} {:x 726, :y 203} {:x 708, :y 172} {:x 662, :y 225} {:x 815, :y 435})} {:name \"60e1f949-7fbd-4a02-8bca-e4acb5af5c6d\", :values ({:x 815, :y 435})}), :marks ({:type \"symbol\", :from {:data \"90914a29-0f57-4612-9319-d4da596749f7\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"steelblue\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}} {:type \"line\", :from {:data \"e68567a4-1ffe-4ed8-975e-12214540f1a1\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :stroke {:value \"#FF29D2\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}} {:type \"symbol\", :from {:data \"60e1f949-7fbd-4a02-8bca-e4acb5af5c6d\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"#FF0000\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}})}}]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-string'>&quot;100 cities&quot;</span>","value":"\"100 cities\""},{"type":"html","content":"<span class='clj-string'>&quot;distance: 6228.397348941129&quot;</span>","value":"\"distance: 6228.397348941129\""},{"type":"vega","content":{"width":400,"height":247.2187957763672,"padding":{"top":10,"left":55,"bottom":40,"right":10},"scales":[{"name":"x","type":"linear","range":"width","zero":false,"domain":{"data":"e8c56e0a-7b0e-4e3c-85c6-885fd8da0afd","field":"data.x"}},{"name":"y","type":"linear","range":"height","nice":true,"zero":false,"domain":{"data":"e8c56e0a-7b0e-4e3c-85c6-885fd8da0afd","field":"data.y"}}],"axes":[{"type":"x","scale":"x"},{"type":"y","scale":"y"}],"data":[{"name":"e8c56e0a-7b0e-4e3c-85c6-885fd8da0afd","values":[{"x":650,"y":298},{"x":611,"y":308},{"x":602,"y":348},{"x":585,"y":299},{"x":602,"y":293},{"x":600,"y":283},{"x":608,"y":221},{"x":566,"y":211},{"x":543,"y":162},{"x":517,"y":108},{"x":394,"y":147},{"x":419,"y":157},{"x":432,"y":170},{"x":509,"y":224},{"x":486,"y":286},{"x":481,"y":450},{"x":461,"y":534},{"x":396,"y":586},{"x":370,"y":477},{"x":308,"y":441},{"x":179,"y":469},{"x":209,"y":543},{"x":95,"y":568},{"x":117,"y":527},{"x":97,"y":468},{"x":0,"y":491},{"x":71,"y":402},{"x":133,"y":400},{"x":249,"y":365},{"x":365,"y":384},{"x":390,"y":403},{"x":374,"y":330},{"x":389,"y":316},{"x":408,"y":255},{"x":346,"y":257},{"x":350,"y":267},{"x":355,"y":294},{"x":306,"y":334},{"x":279,"y":274},{"x":229,"y":225},{"x":216,"y":256},{"x":120,"y":264},{"x":140,"y":178},{"x":3,"y":66},{"x":88,"y":26},{"x":147,"y":51},{"x":184,"y":139},{"x":251,"y":148},{"x":297,"y":86},{"x":201,"y":25},{"x":291,"y":9},{"x":287,"y":35},{"x":349,"y":46},{"x":414,"y":48},{"x":479,"y":73},{"x":525,"y":64},{"x":534,"y":63},{"x":634,"y":14},{"x":763,"y":5},{"x":810,"y":115},{"x":876,"y":154},{"x":838,"y":200},{"x":844,"y":227},{"x":818,"y":288},{"x":795,"y":330},{"x":815,"y":435},{"x":830,"y":421},{"x":881,"y":421},{"x":881,"y":480},{"x":891,"y":489},{"x":886,"y":515},{"x":840,"y":554},{"x":790,"y":519},{"x":773,"y":486},{"x":749,"y":455},{"x":751,"y":540},{"x":760,"y":571},{"x":689,"y":558},{"x":679,"y":543},{"x":664,"y":524},{"x":665,"y":501},{"x":638,"y":504},{"x":627,"y":545},{"x":647,"y":555},{"x":669,"y":575},{"x":632,"y":575},{"x":552,"y":540},{"x":545,"y":481},{"x":560,"y":432},{"x":547,"y":409},{"x":607,"y":409},{"x":621,"y":393},{"x":642,"y":414},{"x":654,"y":404},{"x":663,"y":359},{"x":690,"y":315},{"x":723,"y":249},{"x":726,"y":203},{"x":708,"y":172},{"x":662,"y":225},{"x":650,"y":298}]},{"name":"85da3581-7ed8-401d-b045-2a7f21554fbe","values":[{"x":650,"y":298},{"x":611,"y":308},{"x":602,"y":348},{"x":585,"y":299},{"x":602,"y":293},{"x":600,"y":283},{"x":608,"y":221},{"x":566,"y":211},{"x":543,"y":162},{"x":517,"y":108},{"x":394,"y":147},{"x":419,"y":157},{"x":432,"y":170},{"x":509,"y":224},{"x":486,"y":286},{"x":481,"y":450},{"x":461,"y":534},{"x":396,"y":586},{"x":370,"y":477},{"x":308,"y":441},{"x":179,"y":469},{"x":209,"y":543},{"x":95,"y":568},{"x":117,"y":527},{"x":97,"y":468},{"x":0,"y":491},{"x":71,"y":402},{"x":133,"y":400},{"x":249,"y":365},{"x":365,"y":384},{"x":390,"y":403},{"x":374,"y":330},{"x":389,"y":316},{"x":408,"y":255},{"x":346,"y":257},{"x":350,"y":267},{"x":355,"y":294},{"x":306,"y":334},{"x":279,"y":274},{"x":229,"y":225},{"x":216,"y":256},{"x":120,"y":264},{"x":140,"y":178},{"x":3,"y":66},{"x":88,"y":26},{"x":147,"y":51},{"x":184,"y":139},{"x":251,"y":148},{"x":297,"y":86},{"x":201,"y":25},{"x":291,"y":9},{"x":287,"y":35},{"x":349,"y":46},{"x":414,"y":48},{"x":479,"y":73},{"x":525,"y":64},{"x":534,"y":63},{"x":634,"y":14},{"x":763,"y":5},{"x":810,"y":115},{"x":876,"y":154},{"x":838,"y":200},{"x":844,"y":227},{"x":818,"y":288},{"x":795,"y":330},{"x":815,"y":435},{"x":830,"y":421},{"x":881,"y":421},{"x":881,"y":480},{"x":891,"y":489},{"x":886,"y":515},{"x":840,"y":554},{"x":790,"y":519},{"x":773,"y":486},{"x":749,"y":455},{"x":751,"y":540},{"x":760,"y":571},{"x":689,"y":558},{"x":679,"y":543},{"x":664,"y":524},{"x":665,"y":501},{"x":638,"y":504},{"x":627,"y":545},{"x":647,"y":555},{"x":669,"y":575},{"x":632,"y":575},{"x":552,"y":540},{"x":545,"y":481},{"x":560,"y":432},{"x":547,"y":409},{"x":607,"y":409},{"x":621,"y":393},{"x":642,"y":414},{"x":654,"y":404},{"x":663,"y":359},{"x":690,"y":315},{"x":723,"y":249},{"x":726,"y":203},{"x":708,"y":172},{"x":662,"y":225},{"x":650,"y":298}]},{"name":"1fe86698-6754-43fa-a7a6-79844b287d3a","values":[{"x":650,"y":298}]}],"marks":[{"type":"symbol","from":{"data":"e8c56e0a-7b0e-4e3c-85c6-885fd8da0afd"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"fill":{"value":"steelblue"},"fillOpacity":{"value":1}},"update":{"shape":"circle","size":{"value":70},"stroke":{"value":"transparent"}},"hover":{"size":{"value":210},"stroke":{"value":"white"}}}},{"type":"line","from":{"data":"85da3581-7ed8-401d-b045-2a7f21554fbe"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"stroke":{"value":"#FF29D2"},"strokeWidth":{"value":2},"strokeOpacity":{"value":1}}}},{"type":"symbol","from":{"data":"1fe86698-6754-43fa-a7a6-79844b287d3a"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"fill":{"value":"#FF0000"},"fillOpacity":{"value":1}},"update":{"shape":"circle","size":{"value":70},"stroke":{"value":"transparent"}},"hover":{"size":{"value":210},"stroke":{"value":"white"}}}}]},"value":"#gorilla_repl.vega.VegaView{:content {:width 400, :height 247.2188, :padding {:top 10, :left 55, :bottom 40, :right 10}, :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"e8c56e0a-7b0e-4e3c-85c6-885fd8da0afd\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"e8c56e0a-7b0e-4e3c-85c6-885fd8da0afd\", :field \"data.y\"}}], :axes [{:type \"x\", :scale \"x\"} {:type \"y\", :scale \"y\"}], :data ({:name \"e8c56e0a-7b0e-4e3c-85c6-885fd8da0afd\", :values ({:x 650, :y 298} {:x 611, :y 308} {:x 602, :y 348} {:x 585, :y 299} {:x 602, :y 293} {:x 600, :y 283} {:x 608, :y 221} {:x 566, :y 211} {:x 543, :y 162} {:x 517, :y 108} {:x 394, :y 147} {:x 419, :y 157} {:x 432, :y 170} {:x 509, :y 224} {:x 486, :y 286} {:x 481, :y 450} {:x 461, :y 534} {:x 396, :y 586} {:x 370, :y 477} {:x 308, :y 441} {:x 179, :y 469} {:x 209, :y 543} {:x 95, :y 568} {:x 117, :y 527} {:x 97, :y 468} {:x 0, :y 491} {:x 71, :y 402} {:x 133, :y 400} {:x 249, :y 365} {:x 365, :y 384} {:x 390, :y 403} {:x 374, :y 330} {:x 389, :y 316} {:x 408, :y 255} {:x 346, :y 257} {:x 350, :y 267} {:x 355, :y 294} {:x 306, :y 334} {:x 279, :y 274} {:x 229, :y 225} {:x 216, :y 256} {:x 120, :y 264} {:x 140, :y 178} {:x 3, :y 66} {:x 88, :y 26} {:x 147, :y 51} {:x 184, :y 139} {:x 251, :y 148} {:x 297, :y 86} {:x 201, :y 25} {:x 291, :y 9} {:x 287, :y 35} {:x 349, :y 46} {:x 414, :y 48} {:x 479, :y 73} {:x 525, :y 64} {:x 534, :y 63} {:x 634, :y 14} {:x 763, :y 5} {:x 810, :y 115} {:x 876, :y 154} {:x 838, :y 200} {:x 844, :y 227} {:x 818, :y 288} {:x 795, :y 330} {:x 815, :y 435} {:x 830, :y 421} {:x 881, :y 421} {:x 881, :y 480} {:x 891, :y 489} {:x 886, :y 515} {:x 840, :y 554} {:x 790, :y 519} {:x 773, :y 486} {:x 749, :y 455} {:x 751, :y 540} {:x 760, :y 571} {:x 689, :y 558} {:x 679, :y 543} {:x 664, :y 524} {:x 665, :y 501} {:x 638, :y 504} {:x 627, :y 545} {:x 647, :y 555} {:x 669, :y 575} {:x 632, :y 575} {:x 552, :y 540} {:x 545, :y 481} {:x 560, :y 432} {:x 547, :y 409} {:x 607, :y 409} {:x 621, :y 393} {:x 642, :y 414} {:x 654, :y 404} {:x 663, :y 359} {:x 690, :y 315} {:x 723, :y 249} {:x 726, :y 203} {:x 708, :y 172} {:x 662, :y 225} {:x 650, :y 298})} {:name \"85da3581-7ed8-401d-b045-2a7f21554fbe\", :values ({:x 650, :y 298} {:x 611, :y 308} {:x 602, :y 348} {:x 585, :y 299} {:x 602, :y 293} {:x 600, :y 283} {:x 608, :y 221} {:x 566, :y 211} {:x 543, :y 162} {:x 517, :y 108} {:x 394, :y 147} {:x 419, :y 157} {:x 432, :y 170} {:x 509, :y 224} {:x 486, :y 286} {:x 481, :y 450} {:x 461, :y 534} {:x 396, :y 586} {:x 370, :y 477} {:x 308, :y 441} {:x 179, :y 469} {:x 209, :y 543} {:x 95, :y 568} {:x 117, :y 527} {:x 97, :y 468} {:x 0, :y 491} {:x 71, :y 402} {:x 133, :y 400} {:x 249, :y 365} {:x 365, :y 384} {:x 390, :y 403} {:x 374, :y 330} {:x 389, :y 316} {:x 408, :y 255} {:x 346, :y 257} {:x 350, :y 267} {:x 355, :y 294} {:x 306, :y 334} {:x 279, :y 274} {:x 229, :y 225} {:x 216, :y 256} {:x 120, :y 264} {:x 140, :y 178} {:x 3, :y 66} {:x 88, :y 26} {:x 147, :y 51} {:x 184, :y 139} {:x 251, :y 148} {:x 297, :y 86} {:x 201, :y 25} {:x 291, :y 9} {:x 287, :y 35} {:x 349, :y 46} {:x 414, :y 48} {:x 479, :y 73} {:x 525, :y 64} {:x 534, :y 63} {:x 634, :y 14} {:x 763, :y 5} {:x 810, :y 115} {:x 876, :y 154} {:x 838, :y 200} {:x 844, :y 227} {:x 818, :y 288} {:x 795, :y 330} {:x 815, :y 435} {:x 830, :y 421} {:x 881, :y 421} {:x 881, :y 480} {:x 891, :y 489} {:x 886, :y 515} {:x 840, :y 554} {:x 790, :y 519} {:x 773, :y 486} {:x 749, :y 455} {:x 751, :y 540} {:x 760, :y 571} {:x 689, :y 558} {:x 679, :y 543} {:x 664, :y 524} {:x 665, :y 501} {:x 638, :y 504} {:x 627, :y 545} {:x 647, :y 555} {:x 669, :y 575} {:x 632, :y 575} {:x 552, :y 540} {:x 545, :y 481} {:x 560, :y 432} {:x 547, :y 409} {:x 607, :y 409} {:x 621, :y 393} {:x 642, :y 414} {:x 654, :y 404} {:x 663, :y 359} {:x 690, :y 315} {:x 723, :y 249} {:x 726, :y 203} {:x 708, :y 172} {:x 662, :y 225} {:x 650, :y 298})} {:name \"1fe86698-6754-43fa-a7a6-79844b287d3a\", :values ({:x 650, :y 298})}), :marks ({:type \"symbol\", :from {:data \"e8c56e0a-7b0e-4e3c-85c6-885fd8da0afd\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"steelblue\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}} {:type \"line\", :from {:data \"85da3581-7ed8-401d-b045-2a7f21554fbe\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :stroke {:value \"#FF29D2\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}} {:type \"symbol\", :from {:data \"1fe86698-6754-43fa-a7a6-79844b287d3a\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"#FF0000\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}})}}"}],"value":"[\"100 cities\" \"distance: 6228.397348941129\" #gorilla_repl.vega.VegaView{:content {:width 400, :height 247.2188, :padding {:top 10, :left 55, :bottom 40, :right 10}, :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"e8c56e0a-7b0e-4e3c-85c6-885fd8da0afd\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"e8c56e0a-7b0e-4e3c-85c6-885fd8da0afd\", :field \"data.y\"}}], :axes [{:type \"x\", :scale \"x\"} {:type \"y\", :scale \"y\"}], :data ({:name \"e8c56e0a-7b0e-4e3c-85c6-885fd8da0afd\", :values ({:x 650, :y 298} {:x 611, :y 308} {:x 602, :y 348} {:x 585, :y 299} {:x 602, :y 293} {:x 600, :y 283} {:x 608, :y 221} {:x 566, :y 211} {:x 543, :y 162} {:x 517, :y 108} {:x 394, :y 147} {:x 419, :y 157} {:x 432, :y 170} {:x 509, :y 224} {:x 486, :y 286} {:x 481, :y 450} {:x 461, :y 534} {:x 396, :y 586} {:x 370, :y 477} {:x 308, :y 441} {:x 179, :y 469} {:x 209, :y 543} {:x 95, :y 568} {:x 117, :y 527} {:x 97, :y 468} {:x 0, :y 491} {:x 71, :y 402} {:x 133, :y 400} {:x 249, :y 365} {:x 365, :y 384} {:x 390, :y 403} {:x 374, :y 330} {:x 389, :y 316} {:x 408, :y 255} {:x 346, :y 257} {:x 350, :y 267} {:x 355, :y 294} {:x 306, :y 334} {:x 279, :y 274} {:x 229, :y 225} {:x 216, :y 256} {:x 120, :y 264} {:x 140, :y 178} {:x 3, :y 66} {:x 88, :y 26} {:x 147, :y 51} {:x 184, :y 139} {:x 251, :y 148} {:x 297, :y 86} {:x 201, :y 25} {:x 291, :y 9} {:x 287, :y 35} {:x 349, :y 46} {:x 414, :y 48} {:x 479, :y 73} {:x 525, :y 64} {:x 534, :y 63} {:x 634, :y 14} {:x 763, :y 5} {:x 810, :y 115} {:x 876, :y 154} {:x 838, :y 200} {:x 844, :y 227} {:x 818, :y 288} {:x 795, :y 330} {:x 815, :y 435} {:x 830, :y 421} {:x 881, :y 421} {:x 881, :y 480} {:x 891, :y 489} {:x 886, :y 515} {:x 840, :y 554} {:x 790, :y 519} {:x 773, :y 486} {:x 749, :y 455} {:x 751, :y 540} {:x 760, :y 571} {:x 689, :y 558} {:x 679, :y 543} {:x 664, :y 524} {:x 665, :y 501} {:x 638, :y 504} {:x 627, :y 545} {:x 647, :y 555} {:x 669, :y 575} {:x 632, :y 575} {:x 552, :y 540} {:x 545, :y 481} {:x 560, :y 432} {:x 547, :y 409} {:x 607, :y 409} {:x 621, :y 393} {:x 642, :y 414} {:x 654, :y 404} {:x 663, :y 359} {:x 690, :y 315} {:x 723, :y 249} {:x 726, :y 203} {:x 708, :y 172} {:x 662, :y 225} {:x 650, :y 298})} {:name \"85da3581-7ed8-401d-b045-2a7f21554fbe\", :values ({:x 650, :y 298} {:x 611, :y 308} {:x 602, :y 348} {:x 585, :y 299} {:x 602, :y 293} {:x 600, :y 283} {:x 608, :y 221} {:x 566, :y 211} {:x 543, :y 162} {:x 517, :y 108} {:x 394, :y 147} {:x 419, :y 157} {:x 432, :y 170} {:x 509, :y 224} {:x 486, :y 286} {:x 481, :y 450} {:x 461, :y 534} {:x 396, :y 586} {:x 370, :y 477} {:x 308, :y 441} {:x 179, :y 469} {:x 209, :y 543} {:x 95, :y 568} {:x 117, :y 527} {:x 97, :y 468} {:x 0, :y 491} {:x 71, :y 402} {:x 133, :y 400} {:x 249, :y 365} {:x 365, :y 384} {:x 390, :y 403} {:x 374, :y 330} {:x 389, :y 316} {:x 408, :y 255} {:x 346, :y 257} {:x 350, :y 267} {:x 355, :y 294} {:x 306, :y 334} {:x 279, :y 274} {:x 229, :y 225} {:x 216, :y 256} {:x 120, :y 264} {:x 140, :y 178} {:x 3, :y 66} {:x 88, :y 26} {:x 147, :y 51} {:x 184, :y 139} {:x 251, :y 148} {:x 297, :y 86} {:x 201, :y 25} {:x 291, :y 9} {:x 287, :y 35} {:x 349, :y 46} {:x 414, :y 48} {:x 479, :y 73} {:x 525, :y 64} {:x 534, :y 63} {:x 634, :y 14} {:x 763, :y 5} {:x 810, :y 115} {:x 876, :y 154} {:x 838, :y 200} {:x 844, :y 227} {:x 818, :y 288} {:x 795, :y 330} {:x 815, :y 435} {:x 830, :y 421} {:x 881, :y 421} {:x 881, :y 480} {:x 891, :y 489} {:x 886, :y 515} {:x 840, :y 554} {:x 790, :y 519} {:x 773, :y 486} {:x 749, :y 455} {:x 751, :y 540} {:x 760, :y 571} {:x 689, :y 558} {:x 679, :y 543} {:x 664, :y 524} {:x 665, :y 501} {:x 638, :y 504} {:x 627, :y 545} {:x 647, :y 555} {:x 669, :y 575} {:x 632, :y 575} {:x 552, :y 540} {:x 545, :y 481} {:x 560, :y 432} {:x 547, :y 409} {:x 607, :y 409} {:x 621, :y 393} {:x 642, :y 414} {:x 654, :y 404} {:x 663, :y 359} {:x 690, :y 315} {:x 723, :y 249} {:x 726, :y 203} {:x 708, :y 172} {:x 662, :y 225} {:x 650, :y 298})} {:name \"1fe86698-6754-43fa-a7a6-79844b287d3a\", :values ({:x 650, :y 298})}), :marks ({:type \"symbol\", :from {:data \"e8c56e0a-7b0e-4e3c-85c6-885fd8da0afd\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"steelblue\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}} {:type \"line\", :from {:data \"85da3581-7ed8-401d-b045-2a7f21554fbe\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :stroke {:value \"#FF29D2\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}} {:type \"symbol\", :from {:data \"1fe86698-6754-43fa-a7a6-79844b287d3a\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"#FF0000\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}})}}]"}],"value":"[[\"100 cities\" \"distance: 7399.980215466095\" #gorilla_repl.vega.VegaView{:content {:width 400, :height 247.2188, :padding {:top 10, :left 55, :bottom 40, :right 10}, :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"e348e1d2-c084-4d8e-95a5-864205aac865\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"e348e1d2-c084-4d8e-95a5-864205aac865\", :field \"data.y\"}}], :axes [{:type \"x\", :scale \"x\"} {:type \"y\", :scale \"y\"}], :data ({:name \"e348e1d2-c084-4d8e-95a5-864205aac865\", :values ({:x 664, :y 524} {:x 665, :y 501} {:x 638, :y 504} {:x 627, :y 545} {:x 647, :y 555} {:x 632, :y 575} {:x 669, :y 575} {:x 689, :y 558} {:x 679, :y 543} {:x 751, :y 540} {:x 760, :y 571} {:x 790, :y 519} {:x 773, :y 486} {:x 749, :y 455} {:x 815, :y 435} {:x 830, :y 421} {:x 881, :y 421} {:x 881, :y 480} {:x 891, :y 489} {:x 886, :y 515} {:x 840, :y 554} {:x 795, :y 330} {:x 818, :y 288} {:x 844, :y 227} {:x 838, :y 200} {:x 876, :y 154} {:x 810, :y 115} {:x 708, :y 172} {:x 726, :y 203} {:x 723, :y 249} {:x 662, :y 225} {:x 608, :y 221} {:x 566, :y 211} {:x 543, :y 162} {:x 517, :y 108} {:x 525, :y 64} {:x 534, :y 63} {:x 479, :y 73} {:x 414, :y 48} {:x 349, :y 46} {:x 287, :y 35} {:x 291, :y 9} {:x 297, :y 86} {:x 251, :y 148} {:x 184, :y 139} {:x 140, :y 178} {:x 120, :y 264} {:x 216, :y 256} {:x 229, :y 225} {:x 279, :y 274} {:x 306, :y 334} {:x 355, :y 294} {:x 350, :y 267} {:x 346, :y 257} {:x 408, :y 255} {:x 389, :y 316} {:x 374, :y 330} {:x 365, :y 384} {:x 390, :y 403} {:x 370, :y 477} {:x 308, :y 441} {:x 249, :y 365} {:x 133, :y 400} {:x 71, :y 402} {:x 97, :y 468} {:x 117, :y 527} {:x 95, :y 568} {:x 209, :y 543} {:x 179, :y 469} {:x 0, :y 491} {:x 396, :y 586} {:x 461, :y 534} {:x 481, :y 450} {:x 545, :y 481} {:x 560, :y 432} {:x 547, :y 409} {:x 607, :y 409} {:x 621, :y 393} {:x 642, :y 414} {:x 654, :y 404} {:x 663, :y 359} {:x 690, :y 315} {:x 650, :y 298} {:x 611, :y 308} {:x 602, :y 293} {:x 600, :y 283} {:x 585, :y 299} {:x 602, :y 348} {:x 486, :y 286} {:x 509, :y 224} {:x 432, :y 170} {:x 419, :y 157} {:x 394, :y 147} {:x 201, :y 25} {:x 147, :y 51} {:x 88, :y 26} {:x 3, :y 66} {:x 634, :y 14} {:x 763, :y 5} {:x 552, :y 540} {:x 664, :y 524})} {:name \"e0a8b4f5-34ef-419b-8df4-c4d672e7c48b\", :values ({:x 664, :y 524} {:x 665, :y 501} {:x 638, :y 504} {:x 627, :y 545} {:x 647, :y 555} {:x 632, :y 575} {:x 669, :y 575} {:x 689, :y 558} {:x 679, :y 543} {:x 751, :y 540} {:x 760, :y 571} {:x 790, :y 519} {:x 773, :y 486} {:x 749, :y 455} {:x 815, :y 435} {:x 830, :y 421} {:x 881, :y 421} {:x 881, :y 480} {:x 891, :y 489} {:x 886, :y 515} {:x 840, :y 554} {:x 795, :y 330} {:x 818, :y 288} {:x 844, :y 227} {:x 838, :y 200} {:x 876, :y 154} {:x 810, :y 115} {:x 708, :y 172} {:x 726, :y 203} {:x 723, :y 249} {:x 662, :y 225} {:x 608, :y 221} {:x 566, :y 211} {:x 543, :y 162} {:x 517, :y 108} {:x 525, :y 64} {:x 534, :y 63} {:x 479, :y 73} {:x 414, :y 48} {:x 349, :y 46} {:x 287, :y 35} {:x 291, :y 9} {:x 297, :y 86} {:x 251, :y 148} {:x 184, :y 139} {:x 140, :y 178} {:x 120, :y 264} {:x 216, :y 256} {:x 229, :y 225} {:x 279, :y 274} {:x 306, :y 334} {:x 355, :y 294} {:x 350, :y 267} {:x 346, :y 257} {:x 408, :y 255} {:x 389, :y 316} {:x 374, :y 330} {:x 365, :y 384} {:x 390, :y 403} {:x 370, :y 477} {:x 308, :y 441} {:x 249, :y 365} {:x 133, :y 400} {:x 71, :y 402} {:x 97, :y 468} {:x 117, :y 527} {:x 95, :y 568} {:x 209, :y 543} {:x 179, :y 469} {:x 0, :y 491} {:x 396, :y 586} {:x 461, :y 534} {:x 481, :y 450} {:x 545, :y 481} {:x 560, :y 432} {:x 547, :y 409} {:x 607, :y 409} {:x 621, :y 393} {:x 642, :y 414} {:x 654, :y 404} {:x 663, :y 359} {:x 690, :y 315} {:x 650, :y 298} {:x 611, :y 308} {:x 602, :y 293} {:x 600, :y 283} {:x 585, :y 299} {:x 602, :y 348} {:x 486, :y 286} {:x 509, :y 224} {:x 432, :y 170} {:x 419, :y 157} {:x 394, :y 147} {:x 201, :y 25} {:x 147, :y 51} {:x 88, :y 26} {:x 3, :y 66} {:x 634, :y 14} {:x 763, :y 5} {:x 552, :y 540} {:x 664, :y 524})} {:name \"169c6a59-54f4-4c21-bce1-6f4f8de686cb\", :values ({:x 664, :y 524})}), :marks ({:type \"symbol\", :from {:data \"e348e1d2-c084-4d8e-95a5-864205aac865\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"steelblue\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}} {:type \"line\", :from {:data \"e0a8b4f5-34ef-419b-8df4-c4d672e7c48b\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :stroke {:value \"#FF29D2\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}} {:type \"symbol\", :from {:data \"169c6a59-54f4-4c21-bce1-6f4f8de686cb\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"#FF0000\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}})}}] [\"100 cities\" \"distance: 6326.897364741098\" #gorilla_repl.vega.VegaView{:content {:width 400, :height 247.2188, :padding {:top 10, :left 55, :bottom 40, :right 10}, :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"399534cf-4283-4243-9100-a0f4e6492599\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"399534cf-4283-4243-9100-a0f4e6492599\", :field \"data.y\"}}], :axes [{:type \"x\", :scale \"x\"} {:type \"y\", :scale \"y\"}], :data ({:name \"399534cf-4283-4243-9100-a0f4e6492599\", :values ({:x 184, :y 139} {:x 251, :y 148} {:x 297, :y 86} {:x 287, :y 35} {:x 291, :y 9} {:x 349, :y 46} {:x 414, :y 48} {:x 479, :y 73} {:x 525, :y 64} {:x 534, :y 63} {:x 517, :y 108} {:x 543, :y 162} {:x 566, :y 211} {:x 608, :y 221} {:x 662, :y 225} {:x 723, :y 249} {:x 726, :y 203} {:x 708, :y 172} {:x 634, :y 14} {:x 763, :y 5} {:x 810, :y 115} {:x 876, :y 154} {:x 838, :y 200} {:x 844, :y 227} {:x 818, :y 288} {:x 795, :y 330} {:x 881, :y 421} {:x 830, :y 421} {:x 815, :y 435} {:x 749, :y 455} {:x 773, :y 486} {:x 790, :y 519} {:x 881, :y 480} {:x 891, :y 489} {:x 886, :y 515} {:x 840, :y 554} {:x 760, :y 571} {:x 751, :y 540} {:x 689, :y 558} {:x 679, :y 543} {:x 669, :y 575} {:x 632, :y 575} {:x 647, :y 555} {:x 627, :y 545} {:x 552, :y 540} {:x 638, :y 504} {:x 664, :y 524} {:x 665, :y 501} {:x 654, :y 404} {:x 642, :y 414} {:x 607, :y 409} {:x 621, :y 393} {:x 663, :y 359} {:x 690, :y 315} {:x 650, :y 298} {:x 611, :y 308} {:x 602, :y 293} {:x 600, :y 283} {:x 585, :y 299} {:x 509, :y 224} {:x 432, :y 170} {:x 419, :y 157} {:x 394, :y 147} {:x 408, :y 255} {:x 486, :y 286} {:x 602, :y 348} {:x 547, :y 409} {:x 560, :y 432} {:x 545, :y 481} {:x 481, :y 450} {:x 461, :y 534} {:x 396, :y 586} {:x 209, :y 543} {:x 117, :y 527} {:x 95, :y 568} {:x 0, :y 491} {:x 97, :y 468} {:x 71, :y 402} {:x 133, :y 400} {:x 179, :y 469} {:x 249, :y 365} {:x 308, :y 441} {:x 370, :y 477} {:x 390, :y 403} {:x 365, :y 384} {:x 374, :y 330} {:x 389, :y 316} {:x 355, :y 294} {:x 350, :y 267} {:x 346, :y 257} {:x 306, :y 334} {:x 279, :y 274} {:x 229, :y 225} {:x 216, :y 256} {:x 120, :y 264} {:x 140, :y 178} {:x 3, :y 66} {:x 88, :y 26} {:x 147, :y 51} {:x 201, :y 25} {:x 184, :y 139})} {:name \"6ade6130-fe09-4699-a022-21d98905615e\", :values ({:x 184, :y 139} {:x 251, :y 148} {:x 297, :y 86} {:x 287, :y 35} {:x 291, :y 9} {:x 349, :y 46} {:x 414, :y 48} {:x 479, :y 73} {:x 525, :y 64} {:x 534, :y 63} {:x 517, :y 108} {:x 543, :y 162} {:x 566, :y 211} {:x 608, :y 221} {:x 662, :y 225} {:x 723, :y 249} {:x 726, :y 203} {:x 708, :y 172} {:x 634, :y 14} {:x 763, :y 5} {:x 810, :y 115} {:x 876, :y 154} {:x 838, :y 200} {:x 844, :y 227} {:x 818, :y 288} {:x 795, :y 330} {:x 881, :y 421} {:x 830, :y 421} {:x 815, :y 435} {:x 749, :y 455} {:x 773, :y 486} {:x 790, :y 519} {:x 881, :y 480} {:x 891, :y 489} {:x 886, :y 515} {:x 840, :y 554} {:x 760, :y 571} {:x 751, :y 540} {:x 689, :y 558} {:x 679, :y 543} {:x 669, :y 575} {:x 632, :y 575} {:x 647, :y 555} {:x 627, :y 545} {:x 552, :y 540} {:x 638, :y 504} {:x 664, :y 524} {:x 665, :y 501} {:x 654, :y 404} {:x 642, :y 414} {:x 607, :y 409} {:x 621, :y 393} {:x 663, :y 359} {:x 690, :y 315} {:x 650, :y 298} {:x 611, :y 308} {:x 602, :y 293} {:x 600, :y 283} {:x 585, :y 299} {:x 509, :y 224} {:x 432, :y 170} {:x 419, :y 157} {:x 394, :y 147} {:x 408, :y 255} {:x 486, :y 286} {:x 602, :y 348} {:x 547, :y 409} {:x 560, :y 432} {:x 545, :y 481} {:x 481, :y 450} {:x 461, :y 534} {:x 396, :y 586} {:x 209, :y 543} {:x 117, :y 527} {:x 95, :y 568} {:x 0, :y 491} {:x 97, :y 468} {:x 71, :y 402} {:x 133, :y 400} {:x 179, :y 469} {:x 249, :y 365} {:x 308, :y 441} {:x 370, :y 477} {:x 390, :y 403} {:x 365, :y 384} {:x 374, :y 330} {:x 389, :y 316} {:x 355, :y 294} {:x 350, :y 267} {:x 346, :y 257} {:x 306, :y 334} {:x 279, :y 274} {:x 229, :y 225} {:x 216, :y 256} {:x 120, :y 264} {:x 140, :y 178} {:x 3, :y 66} {:x 88, :y 26} {:x 147, :y 51} {:x 201, :y 25} {:x 184, :y 139})} {:name \"6c5ebef4-43f1-4319-bcf6-6cee786bb082\", :values ({:x 184, :y 139})}), :marks ({:type \"symbol\", :from {:data \"399534cf-4283-4243-9100-a0f4e6492599\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"steelblue\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}} {:type \"line\", :from {:data \"6ade6130-fe09-4699-a022-21d98905615e\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :stroke {:value \"#FF29D2\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}} {:type \"symbol\", :from {:data \"6c5ebef4-43f1-4319-bcf6-6cee786bb082\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"#FF0000\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}})}}] [\"100 cities\" \"distance: 7089.96310723484\" #gorilla_repl.vega.VegaView{:content {:width 400, :height 247.2188, :padding {:top 10, :left 55, :bottom 40, :right 10}, :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"90914a29-0f57-4612-9319-d4da596749f7\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"90914a29-0f57-4612-9319-d4da596749f7\", :field \"data.y\"}}], :axes [{:type \"x\", :scale \"x\"} {:type \"y\", :scale \"y\"}], :data ({:name \"90914a29-0f57-4612-9319-d4da596749f7\", :values ({:x 815, :y 435} {:x 830, :y 421} {:x 881, :y 421} {:x 881, :y 480} {:x 891, :y 489} {:x 886, :y 515} {:x 840, :y 554} {:x 790, :y 519} {:x 773, :y 486} {:x 749, :y 455} {:x 751, :y 540} {:x 760, :y 571} {:x 689, :y 558} {:x 679, :y 543} {:x 664, :y 524} {:x 665, :y 501} {:x 638, :y 504} {:x 627, :y 545} {:x 647, :y 555} {:x 632, :y 575} {:x 669, :y 575} {:x 552, :y 540} {:x 545, :y 481} {:x 560, :y 432} {:x 547, :y 409} {:x 607, :y 409} {:x 621, :y 393} {:x 642, :y 414} {:x 654, :y 404} {:x 663, :y 359} {:x 690, :y 315} {:x 650, :y 298} {:x 611, :y 308} {:x 602, :y 293} {:x 600, :y 283} {:x 585, :y 299} {:x 602, :y 348} {:x 608, :y 221} {:x 566, :y 211} {:x 543, :y 162} {:x 517, :y 108} {:x 525, :y 64} {:x 534, :y 63} {:x 479, :y 73} {:x 414, :y 48} {:x 349, :y 46} {:x 287, :y 35} {:x 291, :y 9} {:x 297, :y 86} {:x 251, :y 148} {:x 184, :y 139} {:x 140, :y 178} {:x 120, :y 264} {:x 216, :y 256} {:x 229, :y 225} {:x 279, :y 274} {:x 306, :y 334} {:x 355, :y 294} {:x 350, :y 267} {:x 346, :y 257} {:x 408, :y 255} {:x 389, :y 316} {:x 374, :y 330} {:x 365, :y 384} {:x 390, :y 403} {:x 370, :y 477} {:x 308, :y 441} {:x 249, :y 365} {:x 133, :y 400} {:x 71, :y 402} {:x 97, :y 468} {:x 117, :y 527} {:x 95, :y 568} {:x 209, :y 543} {:x 179, :y 469} {:x 0, :y 491} {:x 396, :y 586} {:x 461, :y 534} {:x 481, :y 450} {:x 486, :y 286} {:x 509, :y 224} {:x 432, :y 170} {:x 419, :y 157} {:x 394, :y 147} {:x 201, :y 25} {:x 147, :y 51} {:x 88, :y 26} {:x 3, :y 66} {:x 634, :y 14} {:x 763, :y 5} {:x 810, :y 115} {:x 876, :y 154} {:x 838, :y 200} {:x 844, :y 227} {:x 818, :y 288} {:x 795, :y 330} {:x 723, :y 249} {:x 726, :y 203} {:x 708, :y 172} {:x 662, :y 225} {:x 815, :y 435})} {:name \"e68567a4-1ffe-4ed8-975e-12214540f1a1\", :values ({:x 815, :y 435} {:x 830, :y 421} {:x 881, :y 421} {:x 881, :y 480} {:x 891, :y 489} {:x 886, :y 515} {:x 840, :y 554} {:x 790, :y 519} {:x 773, :y 486} {:x 749, :y 455} {:x 751, :y 540} {:x 760, :y 571} {:x 689, :y 558} {:x 679, :y 543} {:x 664, :y 524} {:x 665, :y 501} {:x 638, :y 504} {:x 627, :y 545} {:x 647, :y 555} {:x 632, :y 575} {:x 669, :y 575} {:x 552, :y 540} {:x 545, :y 481} {:x 560, :y 432} {:x 547, :y 409} {:x 607, :y 409} {:x 621, :y 393} {:x 642, :y 414} {:x 654, :y 404} {:x 663, :y 359} {:x 690, :y 315} {:x 650, :y 298} {:x 611, :y 308} {:x 602, :y 293} {:x 600, :y 283} {:x 585, :y 299} {:x 602, :y 348} {:x 608, :y 221} {:x 566, :y 211} {:x 543, :y 162} {:x 517, :y 108} {:x 525, :y 64} {:x 534, :y 63} {:x 479, :y 73} {:x 414, :y 48} {:x 349, :y 46} {:x 287, :y 35} {:x 291, :y 9} {:x 297, :y 86} {:x 251, :y 148} {:x 184, :y 139} {:x 140, :y 178} {:x 120, :y 264} {:x 216, :y 256} {:x 229, :y 225} {:x 279, :y 274} {:x 306, :y 334} {:x 355, :y 294} {:x 350, :y 267} {:x 346, :y 257} {:x 408, :y 255} {:x 389, :y 316} {:x 374, :y 330} {:x 365, :y 384} {:x 390, :y 403} {:x 370, :y 477} {:x 308, :y 441} {:x 249, :y 365} {:x 133, :y 400} {:x 71, :y 402} {:x 97, :y 468} {:x 117, :y 527} {:x 95, :y 568} {:x 209, :y 543} {:x 179, :y 469} {:x 0, :y 491} {:x 396, :y 586} {:x 461, :y 534} {:x 481, :y 450} {:x 486, :y 286} {:x 509, :y 224} {:x 432, :y 170} {:x 419, :y 157} {:x 394, :y 147} {:x 201, :y 25} {:x 147, :y 51} {:x 88, :y 26} {:x 3, :y 66} {:x 634, :y 14} {:x 763, :y 5} {:x 810, :y 115} {:x 876, :y 154} {:x 838, :y 200} {:x 844, :y 227} {:x 818, :y 288} {:x 795, :y 330} {:x 723, :y 249} {:x 726, :y 203} {:x 708, :y 172} {:x 662, :y 225} {:x 815, :y 435})} {:name \"60e1f949-7fbd-4a02-8bca-e4acb5af5c6d\", :values ({:x 815, :y 435})}), :marks ({:type \"symbol\", :from {:data \"90914a29-0f57-4612-9319-d4da596749f7\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"steelblue\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}} {:type \"line\", :from {:data \"e68567a4-1ffe-4ed8-975e-12214540f1a1\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :stroke {:value \"#FF29D2\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}} {:type \"symbol\", :from {:data \"60e1f949-7fbd-4a02-8bca-e4acb5af5c6d\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"#FF0000\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}})}}] [\"100 cities\" \"distance: 6228.397348941129\" #gorilla_repl.vega.VegaView{:content {:width 400, :height 247.2188, :padding {:top 10, :left 55, :bottom 40, :right 10}, :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"e8c56e0a-7b0e-4e3c-85c6-885fd8da0afd\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"e8c56e0a-7b0e-4e3c-85c6-885fd8da0afd\", :field \"data.y\"}}], :axes [{:type \"x\", :scale \"x\"} {:type \"y\", :scale \"y\"}], :data ({:name \"e8c56e0a-7b0e-4e3c-85c6-885fd8da0afd\", :values ({:x 650, :y 298} {:x 611, :y 308} {:x 602, :y 348} {:x 585, :y 299} {:x 602, :y 293} {:x 600, :y 283} {:x 608, :y 221} {:x 566, :y 211} {:x 543, :y 162} {:x 517, :y 108} {:x 394, :y 147} {:x 419, :y 157} {:x 432, :y 170} {:x 509, :y 224} {:x 486, :y 286} {:x 481, :y 450} {:x 461, :y 534} {:x 396, :y 586} {:x 370, :y 477} {:x 308, :y 441} {:x 179, :y 469} {:x 209, :y 543} {:x 95, :y 568} {:x 117, :y 527} {:x 97, :y 468} {:x 0, :y 491} {:x 71, :y 402} {:x 133, :y 400} {:x 249, :y 365} {:x 365, :y 384} {:x 390, :y 403} {:x 374, :y 330} {:x 389, :y 316} {:x 408, :y 255} {:x 346, :y 257} {:x 350, :y 267} {:x 355, :y 294} {:x 306, :y 334} {:x 279, :y 274} {:x 229, :y 225} {:x 216, :y 256} {:x 120, :y 264} {:x 140, :y 178} {:x 3, :y 66} {:x 88, :y 26} {:x 147, :y 51} {:x 184, :y 139} {:x 251, :y 148} {:x 297, :y 86} {:x 201, :y 25} {:x 291, :y 9} {:x 287, :y 35} {:x 349, :y 46} {:x 414, :y 48} {:x 479, :y 73} {:x 525, :y 64} {:x 534, :y 63} {:x 634, :y 14} {:x 763, :y 5} {:x 810, :y 115} {:x 876, :y 154} {:x 838, :y 200} {:x 844, :y 227} {:x 818, :y 288} {:x 795, :y 330} {:x 815, :y 435} {:x 830, :y 421} {:x 881, :y 421} {:x 881, :y 480} {:x 891, :y 489} {:x 886, :y 515} {:x 840, :y 554} {:x 790, :y 519} {:x 773, :y 486} {:x 749, :y 455} {:x 751, :y 540} {:x 760, :y 571} {:x 689, :y 558} {:x 679, :y 543} {:x 664, :y 524} {:x 665, :y 501} {:x 638, :y 504} {:x 627, :y 545} {:x 647, :y 555} {:x 669, :y 575} {:x 632, :y 575} {:x 552, :y 540} {:x 545, :y 481} {:x 560, :y 432} {:x 547, :y 409} {:x 607, :y 409} {:x 621, :y 393} {:x 642, :y 414} {:x 654, :y 404} {:x 663, :y 359} {:x 690, :y 315} {:x 723, :y 249} {:x 726, :y 203} {:x 708, :y 172} {:x 662, :y 225} {:x 650, :y 298})} {:name \"85da3581-7ed8-401d-b045-2a7f21554fbe\", :values ({:x 650, :y 298} {:x 611, :y 308} {:x 602, :y 348} {:x 585, :y 299} {:x 602, :y 293} {:x 600, :y 283} {:x 608, :y 221} {:x 566, :y 211} {:x 543, :y 162} {:x 517, :y 108} {:x 394, :y 147} {:x 419, :y 157} {:x 432, :y 170} {:x 509, :y 224} {:x 486, :y 286} {:x 481, :y 450} {:x 461, :y 534} {:x 396, :y 586} {:x 370, :y 477} {:x 308, :y 441} {:x 179, :y 469} {:x 209, :y 543} {:x 95, :y 568} {:x 117, :y 527} {:x 97, :y 468} {:x 0, :y 491} {:x 71, :y 402} {:x 133, :y 400} {:x 249, :y 365} {:x 365, :y 384} {:x 390, :y 403} {:x 374, :y 330} {:x 389, :y 316} {:x 408, :y 255} {:x 346, :y 257} {:x 350, :y 267} {:x 355, :y 294} {:x 306, :y 334} {:x 279, :y 274} {:x 229, :y 225} {:x 216, :y 256} {:x 120, :y 264} {:x 140, :y 178} {:x 3, :y 66} {:x 88, :y 26} {:x 147, :y 51} {:x 184, :y 139} {:x 251, :y 148} {:x 297, :y 86} {:x 201, :y 25} {:x 291, :y 9} {:x 287, :y 35} {:x 349, :y 46} {:x 414, :y 48} {:x 479, :y 73} {:x 525, :y 64} {:x 534, :y 63} {:x 634, :y 14} {:x 763, :y 5} {:x 810, :y 115} {:x 876, :y 154} {:x 838, :y 200} {:x 844, :y 227} {:x 818, :y 288} {:x 795, :y 330} {:x 815, :y 435} {:x 830, :y 421} {:x 881, :y 421} {:x 881, :y 480} {:x 891, :y 489} {:x 886, :y 515} {:x 840, :y 554} {:x 790, :y 519} {:x 773, :y 486} {:x 749, :y 455} {:x 751, :y 540} {:x 760, :y 571} {:x 689, :y 558} {:x 679, :y 543} {:x 664, :y 524} {:x 665, :y 501} {:x 638, :y 504} {:x 627, :y 545} {:x 647, :y 555} {:x 669, :y 575} {:x 632, :y 575} {:x 552, :y 540} {:x 545, :y 481} {:x 560, :y 432} {:x 547, :y 409} {:x 607, :y 409} {:x 621, :y 393} {:x 642, :y 414} {:x 654, :y 404} {:x 663, :y 359} {:x 690, :y 315} {:x 723, :y 249} {:x 726, :y 203} {:x 708, :y 172} {:x 662, :y 225} {:x 650, :y 298})} {:name \"1fe86698-6754-43fa-a7a6-79844b287d3a\", :values ({:x 650, :y 298})}), :marks ({:type \"symbol\", :from {:data \"e8c56e0a-7b0e-4e3c-85c6-885fd8da0afd\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"steelblue\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}} {:type \"line\", :from {:data \"85da3581-7ed8-401d-b045-2a7f21554fbe\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :stroke {:value \"#FF29D2\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}} {:type \"symbol\", :from {:data \"1fe86698-6754-43fa-a7a6-79844b287d3a\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"#FF0000\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}})}}]]"}
;; <=

;; **
;;; # Scratchpad
;; **

;; **
;;; 
;; **

;; @@
(map #(conj %1 'a) (list '(a) '(b) '(c) '(d)))
;; @@
;; =>
;;; {"type":"list-like","open":"<span class='clj-lazy-seq'>(</span>","close":"<span class='clj-lazy-seq'>)</span>","separator":" ","items":[{"type":"list-like","open":"<span class='clj-list'>(</span>","close":"<span class='clj-list'>)</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-symbol'>a</span>","value":"a"},{"type":"html","content":"<span class='clj-symbol'>a</span>","value":"a"}],"value":"(a a)"},{"type":"list-like","open":"<span class='clj-list'>(</span>","close":"<span class='clj-list'>)</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-symbol'>a</span>","value":"a"},{"type":"html","content":"<span class='clj-symbol'>b</span>","value":"b"}],"value":"(a b)"},{"type":"list-like","open":"<span class='clj-list'>(</span>","close":"<span class='clj-list'>)</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-symbol'>a</span>","value":"a"},{"type":"html","content":"<span class='clj-symbol'>c</span>","value":"c"}],"value":"(a c)"},{"type":"list-like","open":"<span class='clj-list'>(</span>","close":"<span class='clj-list'>)</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-symbol'>a</span>","value":"a"},{"type":"html","content":"<span class='clj-symbol'>d</span>","value":"d"}],"value":"(a d)"}],"value":"((a a) (a b) (a c) (a d))"}
;; <=

;; @@
(conj '(1) 2)
(conj [1] 2)
;; @@
;; =>
;;; {"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-long'>1</span>","value":"1"},{"type":"html","content":"<span class='clj-long'>2</span>","value":"2"}],"value":"[1 2]"}
;; <=

;; **
;;; `partial`
;; **

;; @@
(def add-10 (partial + 10))
(add-10 20)
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-long'>30</span>","value":"30"}
;; <=

;; **
;;; `defrecord`
;; **

;; @@
(defrecord Person [FirstName LastName Address])
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-class'>mirthful_badlands.Person</span>","value":"mirthful_badlands.Person"}
;; <=

;; **
;;; Measuring execution time
;; **

;; @@
(time
  (range 0 100))
;; @@
;; ->
;;; &quot;Elapsed time: 0.039871 msecs&quot;
;;; 
;; <-
;; =>
;;; {"type":"html","content":"<span class='clj-unkown'>(0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99)</span>","value":"(0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99)"}
;; <=

;; @@
(clojure.set/difference #{1 2 3} #{2 3 4 5})
;; @@
;; =>
;;; {"type":"list-like","open":"<span class='clj-set'>#{</span>","close":"<span class='clj-set'>}</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-long'>1</span>","value":"1"}],"value":"#{1}"}
;; <=

;; @@
(subvec [0 1 2 3 4] 0 5)
;; @@
;; =>
;;; {"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-long'>0</span>","value":"0"},{"type":"html","content":"<span class='clj-long'>1</span>","value":"1"},{"type":"html","content":"<span class='clj-long'>2</span>","value":"2"},{"type":"html","content":"<span class='clj-long'>3</span>","value":"3"},{"type":"html","content":"<span class='clj-long'>4</span>","value":"4"}],"value":"[0 1 2 3 4]"}
;; <=

;; @@

;; @@
